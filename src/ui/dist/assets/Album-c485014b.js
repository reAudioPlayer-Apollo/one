import{i as g,B as w,s as k,D as I,q as c,G as h,E as S,o as t,c as r,f as y,cg as $,d as A,g as d,L as B,a,h as N,N as j,t as C,P as E,F as b,j as P,c1 as V,cp as D,bV as L,m as M,n as U,_ as q}from"./index-9ce0501a.js";import{P as F}from"./PlaylistEntry-6dd545f8.js";import"./EditSong.vue_vue_type_script_setup_true_lang-fa67243e.js";import"./playerInPicture-af203fdf.js";const H=n=>(M("data-v-cfca2882"),n=n(),U(),n),R={key:1,class:"fill-page"},z={key:2,class:"artist p-4"},G={class:"wrap"},J={class:"artist__data"},O={class:"upper"},K={class:"track__info__details flex flex-col justify-end"},Q={class:"text-secondary my-0 text-2xl font-bold"},T={class:"trac__info__details__normal"},W={class:"flex flew-row items-center"},X={class:"font-black text-5xl"},Y=H(()=>a("hr",{class:"mb-4"},null,-1)),Z={class:"items"},ss=g({__name:"Album",setup(n){const p=w();k();const x=I(()=>p.params.hash),s=c(null),l=c(null),u=c(null),_=c("url"),m=c(!1),f=async()=>{const e=await(await fetch(`/api/albums/${x.value}`)).json();e.spotify=e.spotify?JSON.parse(e.spotify):null,s.value=e,l.value=null,u.value="",m.value=!1,s.value.spotify.url.length&&(u.value=s.value.spotify.url,m.value=!0),_.value="link"};return h(u,()=>{var o,e;if(((e=(o=s.value)==null?void 0:o.spotify)==null?void 0:e.id)==D(u.value,"album")){_.value="link";return}_.value="save"}),S(f),h(()=>p.params.name,()=>{s.value=null,f()}),(o,e)=>(t(),r(b,null,[s.value?(t(),y($,{key:0,src:s.value.image,class:"-z-10"},null,8,["src"])):A("",!0),s.value?(t(),r("div",z,[a("div",G,[a("div",J,[a("div",O,[d(N,{src:s.value.image,class:"max-w-sm rounded-xl",placeholder:"library_music"},null,8,["src"]),a("div",K,[a("h3",Q,[d(j,{artist:s.value.artists.join(", "),class:"inline"},null,8,["artist"])]),a("div",T,[a("div",W,[a("h1",X,C(s.value.name),1)])])])]),d(E,{class:"hideIfMobile mt-8","with-album":"","with-more":""}),Y,a("div",Z,[(t(!0),r(b,null,P(s.value.songs,i=>V((t(),y(F,{index:s.value.songs.findIndex(v=>v.source==i.source),selected:l.value==i.id,song:i,"playlist-id":"album","with-album":"","with-cover":"","with-more":"",album:s.value.id,onClick:v=>l.value==i.id?l.value=-1:l.value=i.id,onUpdate:e[0]||(e[0]=v=>o.$emit("update"))},null,8,["index","selected","song","album","onClick"])),[[L,!0]])),256))])])])])):(t(),r("div",R,[d(B)]))],64))}});const os=q(ss,[["__scopeId","data-v-cfca2882"]]);export{os as default};
