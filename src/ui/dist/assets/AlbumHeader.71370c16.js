import{M as p}from"./MiniPlayer.833aaa56.js";import{_ as u,e as v,o as l,c as r,g as y,s as o,t as c,d as _,a as n,k as f,l as k}from"./index.12f03f32.js";const A={components:{MiniPlayer:p},name:"AlbumEntry",props:{index:Number,id:Number,source:String,artist:{type:String,default:"N/A"},title:{type:String,default:"N/A"},added:Boolean,preview:String,cover:String},data(){return{highlighted:!1,favourited:this.favourite,isAutoPlaylist:this.$route.path=="/collection/tracks",hovering:!1}},methods:{remove(){fetch(`/api/playlists/${this.$route.params.id}/tracks`,{method:"DELETE",body:JSON.stringify({songId:this.id})})},onselect(){this.highlighted=!this.highlighted},playAt(){this.$emit("edit",this.index)},add(){console.log("add"),this.$emit("add",this.index)}},watch:{added(){console.log("change"),this.$refs.add.innerHTML=this.added?"done":"add"}}},b={class:"track"},S=["src"],E={class:"trackwrapper"};function N(t,e,s,m,d,i){const g=v("mini-player");return l(),r("div",{onDblclick:e[2]||(e[2]=()=>{i.playAt(),i.onselect()}),onClick:e[3]||(e[3]=(...a)=>i.onselect&&i.onselect(...a)),onMouseover:e[4]||(e[4]=a=>d.hovering=!0),onMouseleave:e[5]||(e[5]=a=>d.hovering=!1),class:o(["albumEntry",{selected:d.highlighted}])},[y(g,{class:o(["miniPlayer",{hidden:!d.hovering}]),title:s.title,artist:s.artist,src:s.source},null,8,["class","title","artist","src"]),d.hovering?_("",!0):(l(),r("span",{key:0,onClick:e[0]||(e[0]=(...a)=>t.edit&&t.edit(...a)),class:"id"},c(s.index+1),1)),n("div",b,[s.cover?(l(),r("img",{key:0,src:s.cover},null,8,S)):_("",!0),n("div",E,[n("span",{class:o(["title",{playing:t.playing}])},c(s.title),3),n("span",{class:o(["artist",{playing:t.playing}])},c(s.artist),3)])]),n("span",{onClick:e[1]||(e[1]=(...a)=>i.add&&i.add(...a)),class:"material-icons-round edit",ref:"add"},"add",512)],34)}const P=u(A,[["render",N],["__scopeId","data-v-55d8111e"]]);const x={name:"AlbumHeader"},h=t=>(f("data-v-a4397463"),t=t(),k(),t),C={class:"gridHeader"},I=h(()=>n("span",{class:"id"},"#",-1)),H=h(()=>n("span",{class:"title"},"Title",-1)),M=[I,H];function w(t,e,s,m,d,i){return l(),r("div",C,M)}const T=u(x,[["render",w],["__scopeId","data-v-a4397463"]]);export{P as A,T as a};
