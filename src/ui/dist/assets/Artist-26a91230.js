import{m as N,o as a,f as n,w as x,b as E,t as v,C as w,_ as U,y as F,n as h,bq as S,aG as A,c as l,bH as H,d as _,g as c,a as t,h as V,ay as P,F as p,i as y,bI as j,bG as q,bM as M,k as R,l as z,L as D,bw as G,q as W,bL as Y,bn as J}from"./index-b250113a.js";import{F as L}from"./FactCard-fff52482.js";import{P as K}from"./PlaylistHeader-04d18429.js";import{P as O}from"./PlaylistEntry-6cebdfc2.js";import{E as Q}from"./ExternalEntry-bb4fc2ef.js";import"./EditSong.vue_vue_type_script_setup_true_lang-69554690.js";import"./Form-5d19c4aa.js";import"./IconButton-294a6ada.js";import"./Dropdown-b9458b5d.js";import"./song-9e4416db.js";import"./playerInPicture-af203fdf.js";const X=N({__name:"Tag",props:{tag:{type:String,required:!0},withHash:{type:Boolean,default:!1}},setup(i){return(k,b)=>(a(),n(w,{class:"tag px-4 py-2 cursor-pointer","with-hover":""},{default:x(()=>[E(v(i.withHash?"#":"")+v(i.tag),1)]),_:1}))}});const Z=U(X,[["__scopeId","data-v-2712639d"]]),g=i=>(R("data-v-d1a2d1cb"),i=i(),z(),i),ee={key:1,class:"fill-page"},te={key:2,class:"artist p-4"},ae={class:"wrap"},se={class:"artist__data"},le={class:"upper"},oe={class:"trac__info__details__normal"},re={key:0,class:"mt-0 mb-2 flex flex-row gap-2"},ne={class:"flex flew-row items-center"},ie={class:"font-black text-5xl ml-4"},ce={class:"features flex flex-row gap-4 mt-4 overflow-x-auto"},de={class:"spotify-infos pt-4 pb-2"},ue={class:"meta items-center"},_e={class:"flex flex-row align-items"},pe=g(()=>t("span",{class:"material-symbols-rounded ms-fill mr-2"},"local_fire_department",-1)),me={class:"font-bold"},ve=g(()=>t("hr",{class:"mb-4"},null,-1)),fe={class:"items"},he={key:0,class:"spotify-suggestions mt-4"},ye=g(()=>t("h2",null,"Top Tracks",-1)),xe={class:"items"},we=g(()=>t("h2",null,"Related Artists",-1)),ge={class:"flex flex-row items-center gap-4"},ke={class:"flex flex-col"},be={class:"font-bold"},Ie=N({__name:"Artist",setup(i){const k=q();W();const b=F(()=>k.params.name),e=h(null),m=h(null),d=h(null),f=h("url"),I=async()=>{const r=await fetch(`/api/artists/${b.value}`);e.value=await r.json(),m.value=null,d.value="https://open.spotify.com/artist/"+e.value.metadata.id,f.value="link"};S(d,()=>{var r,o;if(((o=(r=e.value)==null?void 0:r.metadata)==null?void 0:o.id)==Y(d.value,"artist")){f.value="link";return}f.value="save"});const B=()=>{M(d.value)};return A(I),S(()=>k.params.name,()=>{e.value=null,I()}),(r,o)=>{var C,$,T;return a(),l(p,null,[e.value?(a(),n(H,{key:0,src:e.value.cover,class:"-z-10"},null,8,["src"])):_("",!0),e.value?(a(),l("div",te,[t("div",ae,[t("div",se,[t("div",le,[c(V,{src:e.value.cover,class:"max-w-sm rounded-xl",placeholder:"person"},null,8,["src"]),t("div",{class:P([{"justify-end":e.value.metadata,"justify-center":!e.value.metadata},"track__info__details flex flex-col"])},[t("div",oe,[(C=e.value.metadata)!=null&&C.genres?(a(),l("div",re,[(a(!0),l(p,null,y(e.value.metadata.genres,s=>(a(),n(Z,{tag:s,"with-hash":""},null,8,["tag"]))),256))])):_("",!0),t("div",ne,[t("h1",ie,v(e.value.name),1)])]),e.value.metadata?(a(),l(p,{key:0},[t("div",ce,[c(L,{"primary-text":e.value.metadata.followers.toLocaleString(),class:"w-full","secondary-text":"Followers"},null,8,["primary-text"]),c(L,{"primary-text":e.value.songs.length,class:"w-full","secondary-text":"Tracks in Your Library"},null,8,["primary-text"])]),t("div",de,[t("div",ue,[t("span",_e,[pe,t("span",me,v(e.value.metadata.popularity),1)])]),c(j,{modelValue:d.value,"onUpdate:modelValue":o[0]||(o[0]=s=>d.value=s),icon:f.value,onClick:B},null,8,["modelValue","icon"])])],64)):_("",!0)],2)]),c(K,{class:"hideIfMobile mt-8","with-album":"","with-more":""}),ve,t("div",fe,[(a(!0),l(p,null,y(e.value.songs,s=>G((a(),n(O,{index:e.value.songs.findIndex(u=>u.source==s.source),selected:m.value==s.id,song:s,"playlist-id":"track","with-album":"","with-cover":"","with-more":"",onClick:u=>m.value==s.id?m.value=-1:m.value=s.id,onUpdate:o[1]||(o[1]=u=>r.$emit("update"))},null,8,["index","selected","song","onClick"])),[[J,!0]])),256))]),e.value.metadata?(a(),l("div",he,[($=e.value.metadata.topTracks)!=null&&$.length?(a(),n(w,{key:0,class:"p-4"},{default:x(()=>[ye,t("div",xe,[(a(!0),l(p,null,y(e.value.metadata.topTracks,(s,u)=>(a(),n(Q,{index:u,song:s,"can-import":"","cannot-add":"","with-album":"","with-cover":"","with-more":"",onUpdate:o[2]||(o[2]=Ce=>r.$emit("update"))},null,8,["index","song"]))),256))])]),_:1})):_("",!0),(T=e.value.metadata.related)!=null&&T.length?(a(),n(w,{key:1,class:"p-4 flex flex-col gap-2 related overflow-y-auto"},{default:x(()=>[we,(a(!0),l(p,null,y(e.value.metadata.related,s=>(a(),n(w,{class:"cursor-pointer px-4 py-2","with-hover":"",onClick:u=>r.$router.push(`/artist/${s.name}`)},{default:x(()=>[t("div",ge,[c(V,{src:s.cover,class:"w-8 h-8 rounded-xl",placeholder:"person"},null,8,["src"]),t("div",ke,[t("h3",be,v(s.name),1)])])]),_:2},1032,["onClick"]))),256))]),_:1})):_("",!0)])):_("",!0)])])])):(a(),l("div",ee,[c(D)]))],64)}}});const He=U(Ie,[["__scopeId","data-v-d1a2d1cb"]]);export{He as default};
