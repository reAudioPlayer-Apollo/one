import{m as T,o as e,f as i,w as $,b as B,t as f,_ as S,A as F,n as k,aU as N,z,c as o,bP as A,d as _,g as n,P as V,a,h as j,D,F as m,i as v,E as b,k as H,l as L,bO as U,q,bz as C}from"./index-3b11fdc8.js";import{F as I}from"./FactCard-e7e0ea1a.js";import{P as M}from"./PlaylistHeader-85b2ddd2.js";import{P as R}from"./PlaylistEntry-3fe6029d.js";import{C as P}from"./Card-d830a9e1.js";import{E as O}from"./ExternalEntry-9d4cceab.js";import"./EditSong.vue_vue_type_script_setup_true_lang-693f6798.js";import"./Form-5107e86c.js";import"./IconButton-4dc85d90.js";import"./Dropdown-acb88db9.js";import"./song-ca01d747.js";import"./playerInPicture-af203fdf.js";const G=T({__name:"Tag",props:{tag:{type:String,required:!0},withHash:{type:Boolean,default:!1}},setup(l){return(p,h)=>(e(),i(P,{class:"tag px-4 py-2 cursor-pointer","with-hover":""},{default:$(()=>[B(f(l.withHash?"#":"")+f(l.tag),1)]),_:1}))}});const J=S(G,[["__scopeId","data-v-2712639d"]]),E=l=>(H("data-v-e89a6d4f"),l=l(),L(),l),K={key:1,class:"fill-page"},Q={key:2,class:"artist p-4"},W={class:"wrap"},X={class:"artist__data"},Y={class:"upper"},Z={class:"trac__info__details__normal"},tt={key:0,class:"mt-0 mb-2 flex flex-row gap-2"},et={class:"flex flew-row items-center"},at={class:"font-black text-5xl ml-4"},st={key:0,class:"features flex flex-row gap-4 mt-4 overflow-x-auto"},ot=E(()=>a("hr",{class:"mb-4"},null,-1)),lt={class:"items"},rt=E(()=>a("h2",null,"Top Tracks",-1)),it={class:"items"},nt=T({__name:"Artist",setup(l){const p=U();q();const h=F(()=>p.params.name),t=k(null),c=k(null),x=async()=>{const d=await fetch(`/api/artists/${h.value}`);t.value=await d.json()};return N(x),z(()=>p.params.name,()=>{t.value=null,x()}),(d,u)=>{var w,y,g;return e(),o(m,null,[t.value?(e(),i(A,{key:0,src:t.value.cover,class:"-z-10"},null,8,["src"])):_("",!0),t.value?(e(),o("div",Q,[a("div",W,[a("div",X,[a("div",Y,[n(j,{src:t.value.cover,class:"max-w-sm rounded-xl",placeholder:"person"},null,8,["src"]),a("div",{class:D([{"justify-end":t.value.metadata,"justify-center":!t.value.metadata},"track__info__details flex flex-col"])},[a("div",Z,[(w=t.value.metadata)!=null&&w.genres?(e(),o("div",tt,[(e(!0),o(m,null,v(t.value.metadata.genres,s=>(e(),i(J,{tag:s,"with-hash":""},null,8,["tag"]))),256))])):_("",!0),a("div",et,[a("h1",at,f(t.value.name),1)])]),t.value.metadata?(e(),o("div",st,[n(I,{"primary-text":t.value.metadata.followers.toLocaleString(),class:"w-full","secondary-text":"Followers"},null,8,["primary-text"]),n(I,{"primary-text":t.value.metadata.popularity,class:"w-full","secondary-text":"Popularity"},null,8,["primary-text"])])):_("",!0)],2)]),n(M,{class:"hideIfMobile mt-8","with-album":"","with-more":""}),ot,a("div",lt,[(e(!0),o(m,null,v(t.value.songs,s=>b((e(),i(R,{index:t.value.songs.findIndex(r=>r.source==s.source),selected:c.value==s.id,song:s,"playlist-id":"track","with-album":"","with-cover":"","with-more":"",onClick:r=>c.value==s.id?c.value=-1:c.value=s.id,onUpdate:u[0]||(u[0]=r=>d.$emit("update"))},null,8,["index","selected","song","onClick"])),[[C,!0]])),256))]),(g=(y=t.value.metadata)==null?void 0:y.topTracks)!=null&&g.length?(e(),i(P,{key:0,class:"p-4 mt-4"},{default:$(()=>[rt,a("div",it,[(e(!0),o(m,null,v(t.value.metadata.topTracks,s=>b((e(),i(O,{index:t.value.metadata.topTracks.findIndex(r=>r.source==s.source),song:s,"with-album":"","with-cover":"","with-more":"",onUpdate:u[1]||(u[1]=r=>d.$emit("update"))},null,8,["index","song"])),[[C,!0]])),256))])]),_:1})):_("",!0)])])])):(e(),o("div",K,[n(V)]))],64)}}});const gt=S(nt,[["__scopeId","data-v-e89a6d4f"]]);export{gt as default};
