import{m as k,o as t,f as c,w as C,b as I,t as m,_ as b,A as S,n as w,aU as P,z as $,c as l,bP as B,d as _,g as r,P as F,a,h as N,D as z,F as p,i as y,E as A,k as T,l as V,bO as j,q as D,bz as E}from"./index-02ce6bb2.js";import{F as g}from"./FactCard-4117ec20.js";import{P as H}from"./PlaylistHeader-ee4d0de1.js";import{P as L}from"./PlaylistEntry-e02e8d31.js";import{C as q}from"./Card-649071e2.js";import"./EditSong.vue_vue_type_script_setup_true_lang-6b123988.js";import"./Form-2c1e8988.js";import"./IconButton-5fbb12de.js";import"./Dropdown-df8a8e32.js";import"./song-332381f3.js";import"./playerInPicture-af203fdf.js";const M=k({__name:"Tag",props:{tag:{type:String,required:!0},withHash:{type:Boolean,default:!1}},setup(s){return(n,v)=>(t(),c(q,{class:"tag px-4 py-2 cursor-pointer","with-hover":""},{default:C(()=>[I(m(s.withHash?"#":"")+m(s.tag),1)]),_:1}))}});const R=b(M,[["__scopeId","data-v-2712639d"]]),U=s=>(T("data-v-86f03e84"),s=s(),V(),s),O={key:1,class:"fill-page"},G={key:2,class:"artist p-4"},J={class:"wrap"},K={class:"artist__data"},Q={class:"upper"},W={class:"trac__info__details__normal"},X={key:0,class:"mt-0 mb-2 flex flex-row gap-2"},Y={class:"flex flew-row items-center"},Z={class:"font-black text-5xl ml-4"},ee={key:0,class:"features flex flex-row gap-4 mt-4 overflow-x-auto"},te=U(()=>a("hr",{class:"mb-4"},null,-1)),ae={class:"items"},se=k({__name:"Artist",setup(s){const n=j();D();const v=S(()=>n.params.name),e=w(null),i=w(null),f=async()=>{const d=await fetch(`/api/artists/${v.value}`);e.value=await d.json()};return P(f),$(()=>n.params.name,()=>{e.value=null,f()}),(d,h)=>{var x;return t(),l(p,null,[e.value?(t(),c(B,{key:0,src:e.value.cover,class:"-z-10"},null,8,["src"])):_("",!0),e.value?(t(),l("div",G,[a("div",J,[a("div",K,[a("div",Q,[r(N,{src:e.value.cover,class:"max-w-sm rounded-xl",placeholder:"person"},null,8,["src"]),a("div",{class:z([{"justify-end":e.value.metadata,"justify-center":!e.value.metadata},"track__info__details flex flex-col"])},[a("div",W,[(x=e.value.metadata)!=null&&x.genres?(t(),l("div",X,[(t(!0),l(p,null,y(e.value.metadata.genres,o=>(t(),c(R,{tag:o,"with-hash":""},null,8,["tag"]))),256))])):_("",!0),a("div",Y,[a("h1",Z,m(e.value.name),1)])]),e.value.metadata?(t(),l("div",ee,[r(g,{"primary-text":e.value.metadata.followers.toLocaleString(),class:"w-full","secondary-text":"Followers"},null,8,["primary-text"]),r(g,{"primary-text":e.value.metadata.popularity,class:"w-full","secondary-text":"Popularity"},null,8,["primary-text"])])):_("",!0)],2)]),r(H,{class:"hideIfMobile mt-8","with-album":"","with-more":""}),te,a("div",ae,[(t(!0),l(p,null,y(e.value.songs,o=>A((t(),c(L,{index:e.value.songs.findIndex(u=>u.source==o.source),selected:i.value==o.id,song:o,"playlist-id":"track","with-album":"","with-cover":"","with-more":"",onClick:u=>i.value==o.id?i.value=-1:i.value=o.id,onUpdate:h[0]||(h[0]=u=>d.$emit("update"))},null,8,["index","selected","song","onClick"])),[[E,!0]])),256))])])])])):(t(),l("div",O,[r(F)]))],64)}}});const ve=b(se,[["__scopeId","data-v-86f03e84"]]);export{ve as default};
