import{m as E,H as M,j as V,A as i,n as c,z as F,aU as H,o as a,c as d,u as o,F as _,a as e,g as b,D as w,h as j,C as f,f as g,w as A,i as C,d as L,t as x,N as O,k as U,l as q,_ as G}from"./index-63840441.js";import{P as J}from"./PlaylistEntry-fc09b93f.js";import{P as K}from"./PlaylistHeader-468304f4.js";import{P as Q}from"./PlaylistItem-139a135e.js";import{C as R}from"./Card-1541fb70.js";import"./EditSong.vue_vue_type_script_setup_true_lang-8ac2ca3b.js";import"./Form-c1908040.js";import"./IconButton-fd8d7fa0.js";import"./Dropdown-685e63fc.js";import"./song-6bfd6160.js";import"./playerInPicture-af203fdf.js";import"./Playlist-e4bf779d.js";import"./ExternalEntry-25c642db.js";const P=u=>(U("data-v-a26b535d"),u=u(),q(),u),W={class:"bigPlayer"},X={class:"upNow"},Y=P(()=>e("div",{style:{"animation-delay":"0s"},class:"block"},null,-1)),Z={class:"settings"},ss={key:1,class:"no-playlist-selected"},es={class:"wrapper"},ts=P(()=>e("h2",null,"Nothing playing yet...",-1)),as={class:"playlists"},os=E({__name:"BigPlayer",emits:["maximise"],setup(u,{emit:B}){const t=M(),S=V(),k=i(()=>t.playing),I=i(()=>t.song.cover),N=i(()=>t.song.id),$=i(()=>t.playlist),h=i(()=>`${t.song.title} â€¢ ${t.song.artist}`),T=i(()=>S.playlists),v=c(null);document.title=h.value,F(h,r=>{document.title=r}),H(()=>{window.setTimeout(()=>{var l,s;if((l=v.value)!=null&&l.scrollTop)return;const r=(s=document.getElementById(`bplayer-entry-${N.value}`))==null?void 0:s.offsetTop;r>=354&&(v.value.scrollTop=r-354)},1e3)});let p=c(!1);const z=()=>{p.value=!p.value,B("maximise",p.value)},m=c(!1),n=c(!1),y=c(-1);return(r,l)=>(a(),d("div",W,[o(t).loaded?(a(),d(_,{key:0},[e("div",X,[b(j,{class:w([{playing:o(k),animate:n.value},"drop-shadow-2xl"]),src:o(I),type:"track","with-ambient":""},null,8,["class","src"]),e("div",{class:w([{playing:o(k),animate:n.value},"blocks"])},[Y,e("div",{style:f({"animation-delay":".25s"}),class:"block"},null,4),e("div",{style:f({"animation-delay":".5s"}),class:"block"},null,4)],2)]),m.value?L("",!0):(a(),g(R,{key:0,class:"playlistOverflow drop-shadow-2xl relative"},{default:A(()=>[e("div",{ref_key:"playlistScroll",ref:v,class:"playlist"},[b(K),(a(!0),d(_,null,C(o($).songs,(s,D)=>(a(),g(J,{id:"bplayer-entry-"+s.id,key:s.source,index:D,selected:y.value==s.id,song:s,"with-cover":"",onClick:ls=>y.value==s.id?y.value=-1:y.value=s.id},null,8,["id","index","selected","song","onClick"]))),128))],512)]),_:1})),e("div",Z,[e("span",{class:"iconButton material-symbols-rounded",onClick:z},x(o(p)?"fullscreen_exit":"fullscreen"),1),e("span",{style:f({transform:`rotate(${m.value?0:180}deg)`}),class:"iconButton material-symbols-rounded",onClick:l[0]||(l[0]=()=>m.value=!m.value)},"menu_open",4),e("span",{class:"iconButton material-symbols-rounded",onClick:l[1]||(l[1]=()=>n.value=!n.value)},x(n.value?"motion_photos_off":"animation"),1)])],64)):(a(),d("div",ss,[e("div",es,[ts,e("div",as,[(a(!0),d(_,null,C(o(T),s=>(a(),g(Q,{key:s.id,cover:s.cover,description:s.description,title:s.name,onClick:O(()=>o(t).loadPlaylist(s.id),["stop"])},null,8,["cover","description","title","onClick"]))),128))])])]))]))}});const ks=G(os,[["__scopeId","data-v-a26b535d"]]);export{ks as default};
