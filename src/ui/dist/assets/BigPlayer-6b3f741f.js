import{l as E,H as M,i as V,z as i,m as d,y as F,aT as H,o,c as n,u as l,F as _,a as e,g as h,D as b,C as L,B as g,h as P,f as w,d as j,t as x,L as O,j as q,k as A,_ as G}from"./index-24e68ff2.js";import{P as J}from"./PlaylistEntry-940ee01b.js";import{P as K}from"./PlaylistHeader-dcd775c6.js";import{P as Q}from"./PlaylistItem-c790e55f.js";import"./EditSong.vue_vue_type_script_setup_true_lang-8abc43d2.js";import"./Form-fa2b8928.js";import"./IconButton-7756cddf.js";import"./Dropdown-229ee4f5.js";import"./song-ff103b64.js";import"./playerInPicture-af203fdf.js";import"./Playlist-ea875b21.js";import"./ExternalEntry-74801bac.js";const B=u=>(q("data-v-b281db04"),u=u(),A(),u),R={class:"bigPlayer"},U={class:"upNow"},W=B(()=>e("div",{style:{"animation-delay":"0s"},class:"block"},null,-1)),X={key:0,class:"playlistOverflow drop-shadow-2xl"},Y={class:"settings"},Z={key:1,class:"no-playlist-selected"},ss={class:"wrapper"},es=B(()=>e("h2",null,"Nothing playing yet...",-1)),ts={class:"playlists"},os=E({__name:"BigPlayer",emits:["maximise"],setup(u,{emit:C}){const t=M(),S=V(),f=i(()=>t.playing),I=i(()=>t.song.cover),N=i(()=>t.song.id),T=i(()=>t.playlist),k=i(()=>`${t.song.title} â€¢ ${t.song.artist}`),$=i(()=>S.playlists),v=d(null);document.title=k.value,F(k,r=>{document.title=r}),H(()=>{window.setTimeout(()=>{var a,s;if((a=v.value)!=null&&a.scrollTop)return;const r=(s=document.getElementById(`bplayer-entry-${N.value}`))==null?void 0:s.offsetTop;r>=354&&(v.value.scrollTop=r-354)},1e3)});let p=d(!1);const z=()=>{p.value=!p.value,C("maximise",p.value)},m=d(!1),c=d(!1),y=d(-1);return(r,a)=>(o(),n("div",R,[l(t).loaded?(o(),n(_,{key:0},[e("div",U,[h(L,{class:b([{playing:l(f),animate:c.value},"drop-shadow-2xl"]),src:l(I),type:"track","with-ambient":""},null,8,["class","src"]),e("div",{class:b([{playing:l(f),animate:c.value},"blocks"])},[W,e("div",{style:g({"animation-delay":".25s"}),class:"block"},null,4),e("div",{style:g({"animation-delay":".5s"}),class:"block"},null,4)],2)]),m.value?j("",!0):(o(),n("div",X,[e("div",{ref_key:"playlistScroll",ref:v,class:"playlist"},[h(K),(o(!0),n(_,null,P(l(T).songs,(s,D)=>(o(),w(J,{id:"bplayer-entry-"+s.id,key:s.source,index:D,selected:y.value==s.id,song:s,"with-cover":"",onClick:ls=>y.value==s.id?y.value=-1:y.value=s.id},null,8,["id","index","selected","song","onClick"]))),128))],512)])),e("div",Y,[e("span",{class:"iconButton material-symbols-rounded",onClick:z},x(l(p)?"fullscreen_exit":"fullscreen"),1),e("span",{style:g({transform:`rotate(${m.value?0:180}deg)`}),class:"iconButton material-symbols-rounded",onClick:a[0]||(a[0]=()=>m.value=!m.value)},"menu_open",4),e("span",{class:"iconButton material-symbols-rounded",onClick:a[1]||(a[1]=()=>c.value=!c.value)},x(c.value?"motion_photos_off":"animation"),1)])],64)):(o(),n("div",Z,[e("div",ss,[es,e("div",ts,[(o(!0),n(_,null,P(l($),s=>(o(),w(Q,{key:s.id,cover:s.cover,description:s.description,title:s.name,onClick:O(()=>l(t).loadPlaylist(s.id),["stop"])},null,8,["cover","description","title","onClick"]))),128))])])]))]))}});const gs=G(os,[["__scopeId","data-v-b281db04"]]);export{gs as default};
