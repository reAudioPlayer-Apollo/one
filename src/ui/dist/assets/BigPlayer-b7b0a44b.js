import{n as E,B as M,j as V,A as i,q as c,bs as z,aI as D,c as d,u as a,F as _,a as e,g as w,aA as P,h as F,y as f,f as g,w as O,C as j,d as q,t as b,i as x,l as H,m as L,o as l,bB as G,_ as J}from"./index-93171895.js";import{P as K}from"./PlaylistEntry-724965ee.js";import{P as Q}from"./PlaylistHeader-67412de6.js";import{P as R}from"./PlaylistItem-59b2953b.js";import"./EditSong.vue_vue_type_script_setup_true_lang-5b7031c1.js";import"./Template-aca5cdb8.js";import"./IconButton-f37b95f5.js";import"./Form-793ce1a4.js";import"./Dropdown-7178e6fe.js";import"./song-da477a2d.js";import"./playerInPicture-af203fdf.js";import"./Playlist-56f172c8.js";import"./ExternalEntry-c1d5d111.js";const B=u=>(H("data-v-4563893d"),u=u(),L(),u),U={class:"bigPlayer"},W={class:"upNow"},X=B(()=>e("div",{style:{"animation-delay":"0s"},class:"block"},null,-1)),Y={class:"settings"},Z={key:1,class:"no-playlist-selected"},ss={class:"wrapper"},es=B(()=>e("h2",null,"Nothing playing yet...",-1)),ts={class:"playlists"},as=E({__name:"BigPlayer",emits:["maximise"],setup(u,{emit:C}){const t=M(),S=V(),k=i(()=>t.playing),I=i(()=>t.song.cover),$=i(()=>t.song.id);i(()=>t.playlist),i(()=>t.playlist.id);const h=i(()=>t.loaded?`${t.song.title} â€¢ ${t.song.artist}`:"reAudioPlayer One"),N=i(()=>S.playlists),v=c(null);document.title=h.value,z(h,r=>{document.title=r}),D(()=>{window.setTimeout(()=>{var o,s;if((o=v.value)!=null&&o.scrollTop)return;const r=(s=document.getElementById(`bplayer-entry-${$.value}`))==null?void 0:s.offsetTop;r>=354&&(v.value.scrollTop=r-354)},1e3)});let p=c(!1);const T=()=>{p.value=!p.value,C("maximise",p.value)},m=c(!1),n=c(!1),y=c(-1);return(r,o)=>(l(),d("div",U,[a(t).loaded?(l(),d(_,{key:0},[e("div",W,[w(F,{class:P([{playing:a(k),animate:n.value},"drop-shadow-2xl"]),src:a(I),type:"track","with-ambient":""},null,8,["class","src"]),e("div",{class:P([{playing:a(k),animate:n.value},"blocks"])},[X,e("div",{style:f({"animation-delay":".25s"}),class:"block"},null,4),e("div",{style:f({"animation-delay":".5s"}),class:"block"},null,4)],2)]),m.value?q("",!0):(l(),g(j,{class:"playlistOverflow drop-shadow-2xl relative",key:a(t).playlist.id},{default:O(()=>[e("div",{ref_key:"playlistScroll",ref:v,class:"playlist"},[w(Q),(l(!0),d(_,null,x(a(t).playlist.songs,(s,A)=>(l(),g(K,{id:"bplayer-entry-"+s.id,key:s.source,index:A,selected:y.value==s.id,song:s,"with-cover":"",onClick:ls=>y.value==s.id?y.value=-1:y.value=s.id},null,8,["id","index","selected","song","onClick"]))),128))],512)]),_:1})),e("div",Y,[e("span",{class:"iconButton material-symbols-rounded",onClick:T},b(a(p)?"fullscreen_exit":"fullscreen"),1),e("span",{style:f({transform:`rotate(${m.value?0:180}deg)`}),class:"iconButton material-symbols-rounded",onClick:o[0]||(o[0]=()=>m.value=!m.value)},"menu_open",4),e("span",{class:"iconButton material-symbols-rounded",onClick:o[1]||(o[1]=()=>n.value=!n.value)},b(n.value?"motion_photos_off":"animation"),1)])],64)):(l(),d("div",Z,[e("div",ss,[es,e("div",ts,[(l(!0),d(_,null,x(a(N),s=>(l(),g(R,{key:s.id,cover:s.cover,description:s.description,title:s.name,onClick:G(()=>a(t).loadPlaylist(s.id),["stop"])},null,8,["cover","description","title","onClick"]))),128))])])]))]))}});const gs=J(as,[["__scopeId","data-v-4563893d"]]);export{gs as default};
