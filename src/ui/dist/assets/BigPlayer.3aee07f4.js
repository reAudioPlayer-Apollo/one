import{_ as q,H as E,i as L,A as n,C as y,K as M,aT as V,o as e,c as r,u as t,F as v,a as o,s as k,n as _,g as z,h,f as w,d as F,t as b,q as H,k as R,l as U}from"./index.6f3ae9d0.js";import{L as A}from"./LightPlaylistEntry.7b28c49f.js";import{S as K}from"./SpotifyPlaylistHeader.de36cb21.js";import{P as O}from"./PlaylistItem.0f7b1730.js";import"./EditSong.vue_vue_type_script_setup_true_lang.9a1891af.js";import"./song.22c0d5cf.js";import"./FindSources.086862af.js";import"./SpotifyPlaylistEntry.5c580e40.js";import"./MiniPlayer.b80f9ee9.js";const x=d=>(R("data-v-e7a77dd2"),d=d(),U(),d),j={class:"bigPlayer"},G={class:"upNow"},J=["src"],Q=x(()=>o("div",{class:"block",style:{"animation-delay":"0s"}},null,-1)),W={key:0,class:"playlistOverflow drop-shadow-2xl"},X={class:"settings"},Y={key:1,class:"no-playlist-selected"},Z={class:"wrapper"},ss=x(()=>o("h2",null,"Nothing playing yet...",-1)),os={class:"playlists"},ts={__name:"BigPlayer",emits:["maximise"],setup(d,{emit:P}){const a=E(),S=L(),B=n(()=>a.song.title),g=n(()=>a.playing),C=n(()=>a.song.cover),I=n(()=>a.song.id),f=n(()=>a.playlist),N=n(()=>`${a.song.title} \u2022 ${a.song.artist}`),T=n(()=>S.playlists),m=y(null);M(N,l=>{document.title=l}),V(()=>{window.setTimeout(()=>{var i,s;if((i=m.value)!=null&&i.scrollTop)return;const l=(s=document.getElementById(`bplayer-entry-${I.value}`))==null?void 0:s.offsetTop;l>=354&&(m.value.scrollTop=l-354)},1e3)});const u=y(!1),D=()=>{u.value=!u.value,P("maximise",u.value)},p=y(!1),c=y(!1);return(l,i)=>(e(),r("div",j,[t(a).loaded?(e(),r(v,{key:0},[o("div",G,[o("img",{src:t(C),class:k([{playing:t(g),animate:c.value},"drop-shadow-2xl"])},null,10,J),o("div",{class:k(["blocks",{playing:t(g),animate:c.value}])},[Q,o("div",{class:"block",style:_({"animation-delay":".25s"})},null,4),o("div",{class:"block",style:_({"animation-delay":".5s"})},null,4)],2)]),p.value?F("",!0):(e(),r("div",W,[o("div",{class:"playlist",ref_key:"playlistScroll",ref:m},[z(K),(e(!0),r(v,null,h(t(f).songs,s=>(e(),w(A,{key:s.source,onDownload:l.download,onRequestUpdate:l.updatePlaylist,index:t(f).songs.findIndex($=>$.source==s.source),source:s.source,playing:s.title==t(B),id:s.id,title:s.title,album:s.album,artist:s.artist,cover:s.cover,favourite:s.favourite,duration:s.duration},null,8,["onDownload","onRequestUpdate","index","source","playing","id","title","album","artist","cover","favourite","duration"]))),128))],512)])),o("div",X,[o("span",{onClick:D,class:"iconButton material-symbols-rounded"},b(u.value?"fullscreen_exit":"fullscreen"),1),o("span",{onClick:i[0]||(i[0]=()=>p.value=!p.value),class:"iconButton material-symbols-rounded",style:_({transform:`rotate(${p.value?0:180}deg)`})},"menu_open",4),o("span",{onClick:i[1]||(i[1]=()=>c.value=!c.value),class:"iconButton material-symbols-rounded"},b(c.value?"motion_photos_off":"animation"),1)])],64)):(e(),r("div",Y,[o("div",Z,[ss,o("div",os,[(e(!0),r(v,null,h(t(T),s=>(e(),w(t(O),{key:s.id,cover:s.cover,title:s.name,description:s.description,onClick:H(()=>t(a).loadPlaylist(s.id),["stop"])},null,8,["cover","title","description","onClick"]))),128))])])]))]))}},ps=q(ts,[["__scopeId","data-v-e7a77dd2"]]);export{ps as default};
