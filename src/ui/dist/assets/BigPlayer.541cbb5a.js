import{_ as N,A as M,x as $,y as n,b8 as D,U as L,aL as T,o as l,c as r,z as a,F as p,a as t,m as g,n as m,g as z,j as f,f as _,d as E,t as v,l as U,p as V,i as j}from"./index.f2b9c799.js";import{L as h}from"./LightPlaylistEntry.deb1fe00.js";import{S as k}from"./SpotifyPlaylistHeader.77dec3fe.js";import{P as q}from"./PlaylistItem.8b9ca2b3.js";import"./SongCtx.27a38f72.js";import"./EditSong.991f19bd.js";import"./FindSources.bb6a5b0e.js";import"./SpotifyPlaylistEntry.d5e616f9.js";import"./MiniPlayer.b0dc5b0b.js";const P=d=>(V("data-v-4512c832"),d=d(),j(),d),F={class:"bigPlayer"},O={class:"upNow"},R=["src"],A=P(()=>t("div",{class:"block",style:{"animation-delay":"0s"}},null,-1)),H={key:0,class:"playlistOverflow drop-shadow-2xl"},G={class:"settings"},J={key:1,class:"no-playlist-selected"},K={class:"wrapper"},Q=P(()=>t("h2",null,"Nothing playing yet...",-1)),W={class:"playlists"},X={components:{LightPlaylistEntry:h,SpotifyPlaylistHeader:k},methods:{toggleMaximise(){this.maximised=!this.maximised,this.$emit("maximise",this.maximised)}},data(){return{maximised:!1,noPlaylist:!1,animate:!1}}},Y=Object.assign(X,{__name:"BigPlayer",setup(d){const e=M(),b=$(),w=n(()=>e.song.title),y=n(()=>e.playing),S=n(()=>e.song.cover),B=n(()=>e.song.id),c=n(()=>e.playlist),I=n(()=>`${e.song.title} \u2022 ${e.song.artist}`),x=n(()=>b.playlists);D(I,o=>{document.title=o});const u=L(null);return T(()=>{window.setTimeout(()=>{var i,s;if((i=u.value)!=null&&i.scrollTop)return;const o=(s=document.getElementById(`bplayer-entry-${B.value}`))==null?void 0:s.offsetTop;o>=354&&(u.value.scrollTop=o-354)},1e3)}),(o,i)=>(l(),r("div",F,[a(c).index>=0?(l(),r(p,{key:0},[t("div",O,[t("img",{src:a(S),class:g([{playing:a(y),animate:o.animate},"drop-shadow-2xl"])},null,10,R),t("div",{class:g(["blocks",{playing:a(y),animate:o.animate}])},[A,t("div",{class:"block",style:m({"animation-delay":".25s"})},null,4),t("div",{class:"block",style:m({"animation-delay":".5s"})},null,4)],2)]),o.noPlaylist?E("",!0):(l(),r("div",H,[t("div",{class:"playlist",ref_key:"playlistScroll",ref:u},[z(k),(l(!0),r(p,null,f(a(c).songs,s=>(l(),_(h,{key:s.source,onDownload:o.download,onRequestUpdate:o.updatePlaylist,index:a(c).songs.findIndex(C=>C.source==s.source),source:s.source,playing:s.title==a(w),id:s.id,title:s.title,album:s.album,artist:s.artist,cover:s.cover,favourite:s.favourite,duration:s.duration},null,8,["onDownload","onRequestUpdate","index","source","playing","id","title","album","artist","cover","favourite","duration"]))),128))],512)])),t("div",G,[t("span",{onClick:i[0]||(i[0]=(...s)=>o.toggleMaximise&&o.toggleMaximise(...s)),class:"iconButton material-symbols-rounded"},v(o.maximised?"fullscreen_exit":"fullscreen"),1),t("span",{onClick:i[1]||(i[1]=()=>o.noPlaylist=!o.noPlaylist),class:"iconButton material-symbols-rounded",style:m({transform:`rotate(${o.noPlaylist?0:180}deg)`})},"menu_open",4),t("span",{onClick:i[2]||(i[2]=()=>o.animate=!o.animate),class:"iconButton material-symbols-rounded"},v(o.animate?"motion_photos_off":"animation"),1)])],64)):(l(),r("div",J,[t("div",K,[Q,t("div",W,[(l(!0),r(p,null,f(a(x),s=>(l(),_(a(q),{key:s.id,cover:s.cover,title:s.name,description:s.description,onClick:U(()=>a(e).loadPlaylist(s.id),["stop"])},null,8,["cover","title","description","onClick"]))),128))])])]))]))}}),rs=N(Y,[["__scopeId","data-v-4512c832"]]);export{rs as default};
