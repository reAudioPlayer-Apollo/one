import{_ as N,A as M,x as $,y as n,b8 as D,U as L,aL as T,o as l,c as r,z as a,F as p,a as t,m as g,n as m,g as z,j as f,f as _,d as E,t as v,l as U,p as V,i as j}from"./index.6686ce7a.js";import{L as h}from"./LightPlaylistEntry.59ecca37.js";import{S as k}from"./SpotifyPlaylistHeader.a7d5c6b3.js";import{P as q}from"./PlaylistItem.ce1f86fa.js";import"./SongCtx.5def33db.js";import"./EditSong.00a5b270.js";import"./FindSources.87d8275b.js";import"./SpotifyPlaylistEntry.9916c8c2.js";import"./MiniPlayer.f576897b.js";const b=d=>(V("data-v-c8e24f4b"),d=d(),j(),d),F={class:"bigPlayer"},O={class:"upNow"},R=["src"],A=b(()=>t("div",{class:"block",style:{"animation-delay":"0s"}},null,-1)),H={key:0,class:"playlistOverflow drop-shadow-2xl"},G={class:"settings"},J={key:1,class:"no-playlist-selected"},K={class:"wrapper"},Q=b(()=>t("h2",null,"Nothing playing yet...",-1)),W={class:"playlists"},X={components:{LightPlaylistEntry:h,SpotifyPlaylistHeader:k},methods:{toggleMaximise(){this.maximised=!this.maximised,this.$emit("maximise",this.maximised)}},data(){return{maximised:!1,noPlaylist:!1,animate:!1}}},Y=Object.assign(X,{__name:"BigPlayer",setup(d){const e=M(),P=$(),w=n(()=>e.song.title),y=n(()=>e.playing),S=n(()=>e.song.cover),B=n(()=>e.song.id),c=n(()=>e.playlist),I=n(()=>`${e.song.title} \u2022 ${e.song.artist}`),x=n(()=>P.playlists);D(I,s=>{document.title=s});const u=L(null);return T(()=>{window.setTimeout(()=>{var i;if(u.value.scrollTop)return;const s=(i=document.getElementById(`bplayer-entry-${B.value}`))==null?void 0:i.offsetTop;s>=354&&(u.value.scrollTop=s-354)},1e3)}),(s,i)=>(l(),r("div",F,[a(c).index>=0?(l(),r(p,{key:0},[t("div",O,[t("img",{src:a(S),class:g([{playing:a(y),animate:s.animate},"drop-shadow-2xl"])},null,10,R),t("div",{class:g(["blocks",{playing:a(y),animate:s.animate}])},[A,t("div",{class:"block",style:m({"animation-delay":".25s"})},null,4),t("div",{class:"block",style:m({"animation-delay":".5s"})},null,4)],2)]),s.noPlaylist?E("",!0):(l(),r("div",H,[t("div",{class:"playlist",ref_key:"playlistScroll",ref:u},[z(k),(l(!0),r(p,null,f(a(c).songs,o=>(l(),_(h,{key:o.source,onDownload:s.download,onRequestUpdate:s.updatePlaylist,index:a(c).songs.findIndex(C=>C.source==o.source),source:o.source,playing:o.title==a(w),id:o.id,title:o.title,album:o.album,artist:o.artist,cover:o.cover,favourite:o.favourite,duration:o.duration},null,8,["onDownload","onRequestUpdate","index","source","playing","id","title","album","artist","cover","favourite","duration"]))),128))],512)])),t("div",G,[t("span",{onClick:i[0]||(i[0]=(...o)=>s.toggleMaximise&&s.toggleMaximise(...o)),class:"iconButton material-symbols-rounded"},v(s.maximised?"fullscreen_exit":"fullscreen"),1),t("span",{onClick:i[1]||(i[1]=()=>s.noPlaylist=!s.noPlaylist),class:"iconButton material-symbols-rounded",style:m({transform:`rotate(${s.noPlaylist?0:180}deg)`})},"menu_open",4),t("span",{onClick:i[2]||(i[2]=()=>s.animate=!s.animate),class:"iconButton material-symbols-rounded"},v(s.animate?"motion_photos_off":"animation"),1)])],64)):(l(),r("div",J,[t("div",K,[Q,t("div",W,[(l(!0),r(p,null,f(a(x),o=>(l(),_(a(q),{key:o.id,cover:o.cover,title:o.title,description:o.description,onClick:U(()=>a(e).loadPlaylist(o.id),["stop"])},null,8,["cover","title","description","onClick"]))),128))])])]))]))}}),rs=N(Y,[["__scopeId","data-v-c8e24f4b"]]);export{rs as default};
