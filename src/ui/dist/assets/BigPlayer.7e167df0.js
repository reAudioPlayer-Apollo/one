import{_ as V,K as z,j as D,G as i,n as d,E as F,aX as j,o as t,c as n,u as l,F as _,a as e,g as h,x,h as G,I as g,i as P,f as w,d as H,t as B,y as K,k as L,l as O}from"./index.08918264.js";import{P as X,a as q}from"./PlaylistEntry.32b7dbad.js";import{P as A}from"./PlaylistItem.46a757ec.js";import"./EditSong.vue_vue_type_script_setup_true_lang.629ea41c.js";import"./song.ef42d390.js";import"./Dropdown.27fca163.js";import"./playerInPicture.37a9ab56.js";import"./TrackInfo.d6e4963f.js";import"./MiniPlayer.c46c7208.js";const b=u=>(L("data-v-37a26a18"),u=u(),O(),u),J={class:"bigPlayer"},Q={class:"upNow"},R=b(()=>e("div",{style:{"animation-delay":"0s"},class:"block"},null,-1)),U={key:0,class:"playlistOverflow drop-shadow-2xl"},W={class:"settings"},Y={key:1,class:"no-playlist-selected"},Z={class:"wrapper"},ss=b(()=>e("h2",null,"Nothing playing yet...",-1)),es={class:"playlists"},as={__name:"BigPlayer",emits:["maximise"],setup(u,{emit:S}){const a=z(),C=D(),f=i(()=>a.playing),I=i(()=>a.song.cover),$=i(()=>a.song.id),N=i(()=>a.playlist),k=i(()=>`${a.song.title} \u2022 ${a.song.artist}`),E=i(()=>C.playlists),v=d(null);document.title=k.value,F(k,r=>{document.title=r}),j(()=>{window.setTimeout(()=>{var o,s;if((o=v.value)!=null&&o.scrollTop)return;const r=(s=document.getElementById(`bplayer-entry-${$.value}`))==null?void 0:s.offsetTop;r>=354&&(v.value.scrollTop=r-354)},1e3)});const p=d(!1),T=()=>{p.value=!p.value,S("maximise",p.value)},y=d(!1),c=d(!1),m=d(-1);return(r,o)=>(t(),n("div",J,[l(a).loaded?(t(),n(_,{key:0},[e("div",Q,[h(G,{class:x([{playing:l(f),animate:c.value},"drop-shadow-2xl"]),src:l(I),type:"track"},null,8,["class","src"]),e("div",{class:x([{playing:l(f),animate:c.value},"blocks"])},[R,e("div",{style:g({"animation-delay":".25s"}),class:"block"},null,4),e("div",{style:g({"animation-delay":".5s"}),class:"block"},null,4)],2)]),y.value?H("",!0):(t(),n("div",U,[e("div",{ref_key:"playlistScroll",ref:v,class:"playlist"},[h(X),(t(!0),n(_,null,P(l(N).songs,(s,M)=>(t(),w(q,{id:"bplayer-entry-"+s.id,key:s.source,index:M,selected:m.value==s.id,song:s,"with-cover":"",onClick:ts=>m.value==s.id?m.value=-1:m.value=s.id},null,8,["id","index","selected","song","onClick"]))),128))],512)])),e("div",W,[e("span",{class:"iconButton material-symbols-rounded",onClick:T},B(p.value?"fullscreen_exit":"fullscreen"),1),e("span",{style:g({transform:`rotate(${y.value?0:180}deg)`}),class:"iconButton material-symbols-rounded",onClick:o[0]||(o[0]=()=>y.value=!y.value)},"menu_open",4),e("span",{class:"iconButton material-symbols-rounded",onClick:o[1]||(o[1]=()=>c.value=!c.value)},B(c.value?"motion_photos_off":"animation"),1)])],64)):(t(),n("div",Y,[e("div",Z,[ss,e("div",es,[(t(!0),n(_,null,P(l(E),s=>(t(),w(l(A),{key:s.id,cover:s.cover,description:s.description,title:s.name,onClick:K(()=>l(a).loadPlaylist(s.id),["stop"])},null,8,["cover","description","title","onClick"]))),128))])])]))]))}},ys=V(as,[["__scopeId","data-v-37a26a18"]]);export{ys as default};
