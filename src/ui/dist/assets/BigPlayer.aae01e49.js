import{_ as q,J as z,j as E,A as n,q as r,z as M,aU as V,o,c,u as a,F as _,a as e,n as k,H as g,g as D,h,f as P,d as F,t as b,y as H,k as R,l as j}from"./index.a83ce700.js";import{P as A,a as J}from"./PlaylistEntry.57562802.js";import{P as L}from"./PlaylistItem.b75a355d.js";import"./EditSong.vue_vue_type_script_setup_true_lang.3c2803b2.js";import"./song.0328dbbf.js";import"./playerInPicture.37a9ab56.js";import"./TrackInfo.52d373b8.js";import"./MiniPlayer.b12656c0.js";const w=u=>(R("data-v-731627bd"),u=u(),j(),u),O={class:"bigPlayer"},G={class:"upNow"},K=["src"],Q=w(()=>e("div",{class:"block",style:{"animation-delay":"0s"}},null,-1)),W={key:0,class:"playlistOverflow drop-shadow-2xl"},X={class:"settings"},Y={key:1,class:"no-playlist-selected"},Z={class:"wrapper"},ss=w(()=>e("h2",null,"Nothing playing yet...",-1)),es={class:"playlists"},ts={__name:"BigPlayer",emits:["maximise"],setup(u,{emit:x}){const t=z(),B=E(),f=n(()=>t.playing),S=n(()=>t.song.cover),C=n(()=>t.song.id),I=n(()=>t.playlist),N=n(()=>`${t.song.title} \u2022 ${t.song.artist}`),U=n(()=>B.playlists),v=r(null);M(N,l=>{document.title=l}),V(()=>{window.setTimeout(()=>{var i,s;if((i=v.value)!=null&&i.scrollTop)return;const l=(s=document.getElementById(`bplayer-entry-${C.value}`))==null?void 0:s.offsetTop;l>=354&&(v.value.scrollTop=l-354)},1e3)});const p=r(!1),$=()=>{p.value=!p.value,x("maximise",p.value)},y=r(!1),d=r(!1),m=r(-1);return(l,i)=>(o(),c("div",O,[a(t).loaded?(o(),c(_,{key:0},[e("div",G,[e("img",{src:a(S),class:k([{playing:a(f),animate:d.value},"drop-shadow-2xl"])},null,10,K),e("div",{class:k(["blocks",{playing:a(f),animate:d.value}])},[Q,e("div",{class:"block",style:g({"animation-delay":".25s"})},null,4),e("div",{class:"block",style:g({"animation-delay":".5s"})},null,4)],2)]),y.value?F("",!0):(o(),c("div",W,[e("div",{class:"playlist",ref_key:"playlistScroll",ref:v},[D(A),(o(!0),c(_,null,h(a(I).songs,(s,T)=>(o(),P(J,{key:s.source,onRequestUpdate:l.updatePlaylist,song:s,index:T,onClick:os=>m.value==s.id?m.value=-1:m.value=s.id,onUpdate:l.updatePlaylist,selected:m.value==s.id,"with-cover":""},null,8,["onRequestUpdate","song","index","onClick","onUpdate","selected"]))),128))],512)])),e("div",X,[e("span",{onClick:$,class:"iconButton material-symbols-rounded"},b(p.value?"fullscreen_exit":"fullscreen"),1),e("span",{onClick:i[0]||(i[0]=()=>y.value=!y.value),class:"iconButton material-symbols-rounded",style:g({transform:`rotate(${y.value?0:180}deg)`})},"menu_open",4),e("span",{onClick:i[1]||(i[1]=()=>d.value=!d.value),class:"iconButton material-symbols-rounded"},b(d.value?"motion_photos_off":"animation"),1)])],64)):(o(),c("div",Y,[e("div",Z,[ss,e("div",es,[(o(!0),c(_,null,h(a(U),s=>(o(),P(a(L),{key:s.id,cover:s.cover,title:s.name,description:s.description,onClick:H(()=>a(t).loadPlaylist(s.id),["stop"])},null,8,["cover","title","description","onClick"]))),128))])])]))]))}},ps=q(ts,[["__scopeId","data-v-731627bd"]]);export{ps as default};
