import{_ as I,A as x,x as C,y as n,o as l,c as d,z as a,F as p,a as o,m as y,n as m,g as $,j as f,f as g,d as N,t as _,l as D,p as M,i as T}from"./index.12dec214.js";import{L as v}from"./LightPlaylistEntry.ccb2bd6b.js";import{S as h}from"./SpotifyPlaylistHeader.49f3c380.js";import{P as z}from"./PlaylistItem.5f0a3a7c.js";import"./SongCtx.4f0241c8.js";import"./EditSong.82e35e52.js";import"./FindSources.cd82711f.js";import"./SpotifyPlaylistEntry.2a296d34.js";import"./MiniPlayer.d3511afd.js";const k=e=>(M("data-v-579fcf3a"),e=e(),T(),e),E={class:"bigPlayer"},L={class:"upNow"},V=["src"],j=k(()=>o("div",{class:"block",style:{"animation-delay":"0s"}},null,-1)),q={key:0,class:"playlistOverflow drop-shadow-2xl"},F={class:"playlist",ref:"playlistScroll"},O={class:"settings"},R={key:1,class:"no-playlist-selected"},U={class:"wrapper"},A=k(()=>o("h2",null,"Nothing playing yet...",-1)),H={class:"playlists"},G={components:{LightPlaylistEntry:v,SpotifyPlaylistHeader:h},watch:{title(e){document.title=e}},methods:{toggleMaximise(){this.maximised=!this.maximised,this.$emit("maximise",this.maximised)}},mounted(){window.setTimeout(()=>{var i;if(this.$refs.playlistScroll.scrollTop)return;const e=(i=document.getElementById(`bplayer-entry-${this.songId}`))==null?void 0:i.offsetTop;e>=354&&(this.$refs.playlistScroll.scrollTop=e-354)},1e3),document.title=this.title},data(){return{maximised:!1,noPlaylist:!1,animate:!1}}},J=Object.assign(G,{__name:"BigPlayer",setup(e){const i=x(),P=C(),b=n(()=>i.song.title),u=n(()=>i.playing),w=n(()=>i.song.cover);n(()=>i.song.id);const c=n(()=>i.playlist);n(()=>`${i.song.title} \u2022 ${i.song.artist}`);const S=n(()=>P.playlists);return(t,r)=>(l(),d("div",E,[a(c).index>=0?(l(),d(p,{key:0},[o("div",L,[o("img",{src:a(w),class:y([{playing:a(u),animate:t.animate},"drop-shadow-2xl"])},null,10,V),o("div",{class:y(["blocks",{playing:a(u),animate:t.animate}])},[j,o("div",{class:"block",style:m({"animation-delay":".25s"})},null,4),o("div",{class:"block",style:m({"animation-delay":".5s"})},null,4)],2)]),t.noPlaylist?N("",!0):(l(),d("div",q,[o("div",F,[$(h),(l(!0),d(p,null,f(a(c).songs,s=>(l(),g(v,{key:s.source,onDownload:t.download,onRequestUpdate:t.updatePlaylist,index:a(c).songs.findIndex(B=>B.source==s.source),source:s.source,playing:s.title==a(b),id:s.id,title:s.title,album:s.album,artist:s.artist,cover:s.cover,favourite:s.favourite,duration:s.duration},null,8,["onDownload","onRequestUpdate","index","source","playing","id","title","album","artist","cover","favourite","duration"]))),128))],512)])),o("div",O,[o("span",{onClick:r[0]||(r[0]=(...s)=>t.toggleMaximise&&t.toggleMaximise(...s)),class:"iconButton material-symbols-rounded"},_(t.maximised?"fullscreen_exit":"fullscreen"),1),o("span",{onClick:r[1]||(r[1]=()=>t.noPlaylist=!t.noPlaylist),class:"iconButton material-symbols-rounded",style:m({transform:`rotate(${t.noPlaylist?0:180}deg)`})},"menu_open",4),o("span",{onClick:r[2]||(r[2]=()=>t.animate=!t.animate),class:"iconButton material-symbols-rounded"},_(t.animate?"motion_photos_off":"animation"),1)])],64)):(l(),d("div",R,[o("div",U,[A,o("div",H,[(l(!0),d(p,null,f(a(S),s=>(l(),g(a(z),{key:s.id,cover:s.cover,title:s.title,description:s.description,onClick:D(()=>a(i).loadPlaylist(s.id),["stop"])},null,8,["cover","title","description","onClick"]))),128))])])]))]))}}),is=I(J,[["__scopeId","data-v-579fcf3a"]]);export{is as default};
