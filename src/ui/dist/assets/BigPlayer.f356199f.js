import{_ as M,N as V,j as D,A as i,n as d,z as F,aW as j,o as l,c as n,u as a,F as _,a as e,g as h,x,h as A,J as g,i as P,f as w,d as H,t as B,y as J,k as L,l as O}from"./index.433ad326.js";import{P as W,a as q}from"./PlaylistEntry.76c6731f.js";import{P as G}from"./PlaylistItem.c0496288.js";import"./EditSong.vue_vue_type_script_setup_true_lang.91d6aa84.js";import"./song.e6f39ade.js";import"./playerInPicture.37a9ab56.js";import"./TrackInfo.68407017.js";import"./MiniPlayer.151f39af.js";const b=u=>(L("data-v-d8ee23e7"),u=u(),O(),u),K={class:"bigPlayer"},Q={class:"upNow"},R=b(()=>e("div",{class:"block",style:{"animation-delay":"0s"}},null,-1)),U={key:0,class:"playlistOverflow drop-shadow-2xl"},X={class:"settings"},Y={key:1,class:"no-playlist-selected"},Z={class:"wrapper"},ss=b(()=>e("h2",null,"Nothing playing yet...",-1)),es={class:"playlists"},ts={__name:"BigPlayer",emits:["maximise"],setup(u,{emit:S}){const t=V(),C=D(),f=i(()=>t.playing),I=i(()=>t.song.cover),N=i(()=>t.song.id),$=i(()=>t.playlist),k=i(()=>`${t.song.title} \u2022 ${t.song.artist}`),T=i(()=>C.playlists),v=d(null);document.title=k.value,F(k,r=>{document.title=r}),j(()=>{window.setTimeout(()=>{var o,s;if((o=v.value)!=null&&o.scrollTop)return;const r=(s=document.getElementById(`bplayer-entry-${N.value}`))==null?void 0:s.offsetTop;r>=354&&(v.value.scrollTop=r-354)},1e3)});const p=d(!1),z=()=>{p.value=!p.value,S("maximise",p.value)},y=d(!1),c=d(!1),m=d(-1);return(r,o)=>(l(),n("div",K,[a(t).loaded?(l(),n(_,{key:0},[e("div",Q,[h(A,{src:a(I),class:x([{playing:a(f),animate:c.value},"drop-shadow-2xl"]),type:"track"},null,8,["src","class"]),e("div",{class:x(["blocks",{playing:a(f),animate:c.value}])},[R,e("div",{class:"block",style:g({"animation-delay":".25s"})},null,4),e("div",{class:"block",style:g({"animation-delay":".5s"})},null,4)],2)]),y.value?H("",!0):(l(),n("div",U,[e("div",{class:"playlist",ref_key:"playlistScroll",ref:v},[h(W),(l(!0),n(_,null,P(a($).songs,(s,E)=>(l(),w(q,{key:s.source,song:s,index:E,onClick:ls=>m.value==s.id?m.value=-1:m.value=s.id,selected:m.value==s.id,"with-cover":"",id:"bplayer-entry-"+s.id},null,8,["song","index","onClick","selected","id"]))),128))],512)])),e("div",X,[e("span",{onClick:z,class:"iconButton material-symbols-rounded"},B(p.value?"fullscreen_exit":"fullscreen"),1),e("span",{onClick:o[0]||(o[0]=()=>y.value=!y.value),class:"iconButton material-symbols-rounded",style:g({transform:`rotate(${y.value?0:180}deg)`})},"menu_open",4),e("span",{onClick:o[1]||(o[1]=()=>c.value=!c.value),class:"iconButton material-symbols-rounded"},B(c.value?"motion_photos_off":"animation"),1)])],64)):(l(),n("div",Y,[e("div",Z,[ss,e("div",es,[(l(!0),n(_,null,P(a(T),s=>(l(),w(a(G),{key:s.id,cover:s.cover,title:s.name,description:s.description,onClick:J(()=>a(t).loadPlaylist(s.id),["stop"])},null,8,["cover","title","description","onClick"]))),128))])])]))]))}},ps=M(ts,[["__scopeId","data-v-d8ee23e7"]]);export{ps as default};
