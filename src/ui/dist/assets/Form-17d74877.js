import{i as D,q as p,G as x,B as T,o as l,c as t,a as d,t as i,d as y,aS as I,A as b,f as g,F as w,j as U,Z as j,aR as E,_ as q,u as f,cu as N,g as $,T as B,p as R,ca as A,h as L,bQ as M,bE as O}from"./index-3c7a9a86.js";const P={class:"flex flex-row gap-2"},W={key:0,class:"material-symbols-rounded ms-wght-200"},z={class:"material-symbols-rounded"},G=["onClick"],H={class:"material-symbols-rounded"},Q={key:0,class:"material-symbols-rounded"},Z=D({__name:"Dropdown",props:{modelValue:{type:String,required:!0},options:{type:Array,required:!0},icon:{type:String,required:!1}},emits:["update:modelValue"],setup(u,{emit:h}){const v=u,_=p(v.modelValue),s=p(!1),m=h;x(v,c=>{_.value=c.modelValue},{deep:!0});const e=c=>{_.value=c,m("update:modelValue",c),s.value=!1},a=T(()=>{const c=v.options.find(r=>r.value==_.value);return c?c.label:""}),n=p(null),C=p(null);return x(s,c=>{E(()=>{if(c){const r=n.value.getBoundingClientRect(),o=C.value.getBoundingClientRect(),k=o.top,V=o.bottom,S=window.innerHeight-V,F=o.width;n.value.style.width=F+"px",n.value.style.left=o.left+"px",S>r.height?(n.value.style.top=V+"px",n.value.style.bottom="auto"):(n.value.style.top="auto",n.value.style.bottom=k-r.height+"px")}})}),window.addEventListener("click",()=>{s.value=!1}),(c,r)=>(l(),t("div",{ref_key:"container",ref:C,class:"dropdown"},[d("div",{class:I([{expanded:s.value},"dropdown__selected"]),onClick:r[0]||(r[0]=b(o=>s.value=!s.value,["stop"]))},[d("div",P,[u.icon?(l(),t("span",W,i(u.icon),1)):y("",!0),d("span",null,i(a.value),1)]),d("i",z,i(s.value?"expand_less":"expand_more"),1)],2),(l(),g(j,{to:"#dropdown-target"},[s.value?(l(),t("div",{key:0,ref_key:"trueDropdown",ref:n,class:"dropdown__options"},[(l(!0),t(w,null,U(u.options,o=>(l(),t("div",{key:o.value,class:"dropdown__option",onClick:b(k=>e(o.value),["stop"])},[d("span",H,i(o.icon),1),d("span",null,i(o.label),1),_.value==o.value?(l(),t("span",Q,"check")):y("",!0)],8,G))),128))],512)):y("",!0)]))],512))}});const J=q(Z,[["__scopeId","data-v-186027d9"]]),K={class:"form"},X={class:"content"},Y=["onClick"],ee=["accept","onChange"],ae={key:0,class:"imagePreview"},le=["onUpdate:modelValue","type","onChange"],se=D({__name:"Form",props:{options:{type:Array,required:!0}},setup(u,{expose:h}){const v=u;return h({toObject:()=>{const s={};return v.options.forEach(m=>{s[m.name]=m.value}),s}}),(s,m)=>(l(),t("div",K,[(l(!0),t(w,null,U(u.options,e=>(l(),t("div",{key:e.name,class:"option"},[d("h4",null,i(f(N)(e.name)),1),d("div",X,[e.type=="upload"?(l(),t(w,{key:0},[d("span",{class:"material-symbols-rounded icon-button",onClick:()=>{var a,n;return(n=(a=s.$refs["upload-"+e.name])==null?void 0:a[0])==null?void 0:n.click()}}," file_upload ",8,Y),d("input",{ref_for:!0,ref:"upload-"+e.name,accept:e.accept,style:{display:"none"},type:"file",onChange:a=>e==null?void 0:e.onUpload(a.target.files[0])},null,40,ee),$(B,{ref_for:!0,ref:"cover",modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,icon:e.icon,class:"addSong cover",type:"text",onChange:a=>e==null?void 0:e.onChange(e.value)},null,8,["modelValue","onUpdate:modelValue","icon","onChange"]),e.imagePreview?(l(),t("div",ae,[$(L,{src:f(R)(e.value),class:"cover",onClick:a=>f(A)(e.value)},null,8,["src","onClick"])])):y("",!0)],64)):e.type=="dropdown"?(l(),g(J,{key:1,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,icon:e.icon,options:e.options},null,8,["modelValue","onUpdate:modelValue","icon","options"])):e.type=="text"?(l(),g(B,{key:2,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,icon:e.icon,placeholder:e.placeholder,required:e.required,type:e.type,onChange:a=>e.onChange?e==null?void 0:e.onChange(e.value):null},null,8,["modelValue","onUpdate:modelValue","icon","placeholder","required","type","onChange"])):M((l(),t("input",{key:3,"onUpdate:modelValue":a=>e.value=a,type:e.type,onChange:a=>e.onChange?e==null?void 0:e.onChange(e.value):null},null,40,le)),[[O,e.value]])])]))),128))]))}});const oe=q(se,[["__scopeId","data-v-f7f90291"]]);export{J as D,oe as F};
