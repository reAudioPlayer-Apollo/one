import{m as x,n as h,o as l,f as u,w as D,a as c,t as $,N as F,c as d,r as j,d as v,K as b,e as B,k as N,l as O,_ as I,F as g,i as E,u as C,g as M,T as V,h as P,E as L,O as A,P as J,p as K,J as W}from"./index-734e511f.js";import{I as w}from"./IconButton-03e5f9fa.js";import{D as z}from"./Dropdown-6d5d0ee9.js";const G=n=>(N("data-v-6b1f1aae"),n=n(),O(),n),H={class:"wrapper"},Q={class:"header bg-secondary rounded-t-2xl p-3"},R={class:"title font-black"},X=G(()=>c("span",{class:"title material-icons-round"}," close ",-1)),Y=[X],Z={key:1},ee={key:2,class:"p-4 pt-0 flex flex-col overflow-hidden"},ae={key:0,class:"confirm"},le=x({__name:"Template",props:{name:{type:String,required:!0},submit:{type:Object,required:!0},secondary:{type:Object,required:!1,default:null}},emits:["submit","close","secondary"],setup(n,{expose:y,emit:m}){const s=n,r=h(!1),o=h(!1),e=h(""),a=()=>o.value=!1,i=()=>{r.value=!1,o.value=!0},k=()=>{r.value=!0,o.value=!0},U=async(f,t)=>{k();const _=await window.fetch(f,t);return i(),_.ok?_:(e.value=await _.text(),null)},p=()=>{a(),m("close")},T=()=>{m("submit"),p()},q=()=>{m("secondary"),p()};return y({show:i,hide:a,load:k,fetch:U}),(f,t)=>{const _=B("vue-final-modal");return l(),u(_,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=S=>o.value=S),classes:"modal-container","content-class":"modal-content",onClick:t[1]||(t[1]=b(()=>{},["stop"])),onContextmenu:t[2]||(t[2]=b(()=>{},["stop"])),onDrag:t[3]||(t[3]=b(()=>{},["stop"]))},{default:D(()=>[c("div",H,[c("div",Q,[c("h3",R,$(n.name),1),c("button",{class:"modal-close",onClick:p},Y)]),r.value?(l(),u(F,{key:0})):e.value?(l(),d("div",Z)):(l(),d("div",ee,[j(f.$slots,"default",{},void 0,!0),s.submit||s.secondary?(l(),d("div",ae,[s.secondary?(l(),u(w,{key:0,icon:s.secondary.icon,label:s.secondary.label,type:s.secondary.type,onClick:q},null,8,["icon","label","type"])):v("",!0),s.submit?(l(),u(w,{key:1,icon:s.submit.icon,label:s.submit.label,type:s.submit.type,onClick:T},null,8,["icon","label","type"])):v("",!0)])):v("",!0)]))])]),_:3},8,["modelValue"])}}});const ie=I(le,[["__scopeId","data-v-6b1f1aae"]]),se={class:"form"},te={class:"content"},ne=["onClick"],oe=["accept","onChange"],ce=["onUpdate:modelValue","type","onChange"],re=x({__name:"Form",props:{options:{type:Array,required:!0}},setup(n,{expose:y}){const m=n;return y({toObject:()=>{const r={};return m.options.forEach(o=>{r[o.name]=o.value}),r}}),(r,o)=>(l(),d("div",se,[(l(!0),d(g,null,E(n.options,e=>(l(),d("div",{key:e.name,class:"option"},[c("h4",null,$(C(J)(e.name)),1),c("div",te,[e.type=="upload"?(l(),d(g,{key:0},[c("span",{class:"material-symbols-rounded icon-button",onClick:()=>{var a,i;return(i=(a=r.$refs["upload-"+e.name])==null?void 0:a[0])==null?void 0:i.click()}}," file_upload ",8,ne),c("input",{ref_for:!0,ref:"upload-"+e.name,accept:e.accept,style:{display:"none"},type:"file",onChange:a=>e==null?void 0:e.onUpload(a.target.files[0])},null,40,oe),M(V,{ref_for:!0,ref:"cover",modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,icon:e.icon,class:"addSong cover",type:"text",onChange:a=>e==null?void 0:e.onChange(e.value)},null,8,["modelValue","onUpdate:modelValue","icon","onChange"]),e.imagePreview?(l(),u(P,{key:0,src:C(K)(e.value),class:"imagePreview",onClick:a=>C(W)(e.value)},null,8,["src","onClick"])):v("",!0)],64)):e.type=="dropdown"?(l(),u(z,{key:1,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,icon:e.icon,options:e.options},null,8,["modelValue","onUpdate:modelValue","icon","options"])):e.type=="text"?(l(),u(V,{key:2,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,icon:e.icon,placeholder:e.placeholder,required:e.required,type:e.type,onChange:a=>e.onChange?e==null?void 0:e.onChange(e.value):null},null,8,["modelValue","onUpdate:modelValue","icon","placeholder","required","type","onChange"])):L((l(),d("input",{key:3,"onUpdate:modelValue":a=>e.value=a,type:e.type,onChange:a=>e.onChange?e==null?void 0:e.onChange(e.value):null},null,40,ce)),[[A,e.value]])])]))),128))]))}});const _e=I(re,[["__scopeId","data-v-a0379122"]]);export{_e as F,ie as T};
