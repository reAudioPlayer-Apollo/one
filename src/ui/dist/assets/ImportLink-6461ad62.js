import{i as w,E as b,s as C,q as _,J as I,o as a,c as n,a as s,t as c,b as d,f as j,w as B,F as $,j as L,g as m,u as N,C as R,cn as V,_ as E}from"./index-6037c2e6.js";import{I as f}from"./IconButton-494923f5.js";const F={class:"max-w-[60ch] w-full h-full flex items-center justify-center"},S={class:"flex-col"},q={key:0,class:"text-muted italic text-sm"},A={class:"ml-0"},D={class:"flex gap-2 items-center"},J={class:"text-muted uppercase text-sm"},M=["onClick"],O={class:"buttons flex gap-2"},T=w({__name:"ImportLink",setup(z){const h=b(),l=C(),r=_(""),e=_([]);I(async()=>{const i=h.params.id,o=atob(i),[t,...u]=o.split(":");if(t==="gist"){const[p,v,g]=u,y=`https://gist.githubusercontent.com/${p}/${v}/raw/${g}`,k=await(await fetch(y)).json();e.value=[k],r.value=p}});const x=async()=>{await V(e.value),l.push("/")};return(i,o)=>(a(),n("div",F,[s("div",S,[s("strong",null,c(r.value),1),d(" wants to share: "),e.value.length==0?(a(),n("span",q,"Nothing")):(a(),j(R,{key:1,class:"p-4 mt-4 w-max flex flex-col gap-4"},{default:B(()=>[s("ul",A,[(a(!0),n($,null,L(e.value,t=>(a(),n("li",D,[s("span",J,c(t.type),1),d(" "+c(t.playlist.name)+" ",1),s("span",{class:"material-symbols-rounded cursor-pointer",onClick:u=>e.value.splice(e.value.indexOf(t),1)}," delete ",8,M)]))),256))]),s("div",O,[m(f,{type:"success",icon:"check",label:"Accept",onClick:x}),m(f,{type:"danger",icon:"close",label:"Reject",onClick:o[0]||(o[0]=t=>N(l).push("/"))})])]),_:1}))])]))}});const P=E(T,[["__scopeId","data-v-608ea9fa"]]);export{P as default};
