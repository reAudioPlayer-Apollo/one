import{T as v}from"./TrackCompact-e4e09c82.js";import{_ as P,q as y,b_ as S,c,a as t,F as i,j as r,o,f as n,w as k,g as p,h as D,M as g,u as b,C as w,m as T,n as $}from"./index-680fd85e.js";import"./ImportSpotifyAlbum.vue_vue_type_script_setup_true_lang-c1d9c97c.js";import"./Template-64220194.js";import"./IconButton-6b32d384.js";import"./Form-2d3da348.js";import"./Dropdown-ae451105.js";import"./Playlist-07ad2689.js";import"./PlaylistHeader-3f58c1ec.js";import"./ExternalEntry-b8431437.js";const x=l=>(T("data-v-6f841b26"),l=l(),$(),l),B={class:"wrap"},I={class:"covers"},N=x(()=>t("h2",null,"Local covers",-1)),q={class:"items grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4"},F={class:"flex justify-between w-full mb-4"},J={class:"overflow-hidden"},M=["onClick"],O={class:"tracks"},V=x(()=>t("h2",null,"Local tracks",-1)),z={class:"items grid grid-cols-2 md:grid-cols-4 gap-4"},A={class:"flex justify-between w-full mb-4"},G={class:"overflow-hidden"},H=["onClick"],K={class:"flex justify-center w-full mb-4"},Q=["src"],R={__name:"LocalData",setup(l){const m=y([]),f=y([]),C=S(),d=()=>{fetch("/api/config/images").then(e=>e.json()).then(e=>m.value=e),fetch("/api/config/tracks").then(e=>e.json()).then(e=>f.value=e)},L=async e=>{await fetch("/api/config/images",{method:"DELETE",body:JSON.stringify({name:e})}),d()},E=async e=>{fetch("/api/config/tracks",{method:"DELETE",body:JSON.stringify({name:e})}),d()},h=e=>{C.loadPlaylist("track",e)};return d(),(e,U)=>(o(),c("div",B,[t("div",I,[N,t("div",q,[(o(!0),c(i,null,r(m.value,(a,_)=>(o(),n(w,{key:_,class:"cover-wrapper"},{default:k(()=>[p(D,{src:a.name,class:"rounded-xl mb-4"},null,8,["src"]),t("div",F,[t("p",J,[p(g,{text:a.name},null,8,["text"])]),t("span",{class:"ml-2 material-symbols-rounded cursor-pointer",onClick:s=>L(a.name)},"delete",8,M)]),(o(!0),c(i,null,r(a.songs,(s,u)=>(o(),n(b(v),{id:s.id,key:u,artist:s.artist,cover:s.cover,title:s.title,onPlay:j=>h(s.id)},null,8,["id","artist","cover","title","onPlay"]))),128))]),_:2},1024))),128))])]),t("div",O,[V,t("div",z,[(o(!0),c(i,null,r(f.value,(a,_)=>(o(),n(w,{key:_,class:"track"},{default:k(()=>[t("div",A,[t("p",G,[p(g,{text:a.name},null,8,["text"])]),t("span",{class:"material-symbols-rounded cursor-pointer",onClick:s=>E(a.name)},"delete",8,H)]),t("div",K,[t("audio",{src:"/api/"+a.name.replace("local:","/src/tracks/"),controls:""},null,8,Q)]),(o(!0),c(i,null,r(a.songs,(s,u)=>(o(),n(b(v),{id:s.id,key:u,artist:s.artist,cover:s.cover,title:s.title,onPlay:j=>h(s.id)},null,8,["id","artist","cover","title","onPlay"]))),128))]),_:2},1024))),128))])])]))}},le=P(R,[["__scopeId","data-v-6f841b26"]]);export{le as default};
