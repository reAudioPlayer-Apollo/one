import{T as v}from"./TrackCompact-1a1861c0.js";import{_ as S,q as y,B as j,c,a as t,F as i,i as r,o,f as n,w as k,g as p,h as B,M as g,u as b,C as w,l as D,m as T}from"./index-9b66f4b7.js";import"./ImportSpotifyAlbum.vue_vue_type_script_setup_true_lang-e8c27d93.js";import"./Template-9f1b9544.js";import"./IconButton-2c78005e.js";import"./Form-8c5e0247.js";import"./Dropdown-622e9bc6.js";import"./Playlist-85c39b82.js";import"./PlaylistHeader-2908cf18.js";import"./ExternalEntry-a83cab4c.js";const x=l=>(D("data-v-6f841b26"),l=l(),T(),l),$={class:"wrap"},I={class:"covers"},N=x(()=>t("h2",null,"Local covers",-1)),q={class:"items grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4"},F={class:"flex justify-between w-full mb-4"},J={class:"overflow-hidden"},M=["onClick"],O={class:"tracks"},V=x(()=>t("h2",null,"Local tracks",-1)),z={class:"items grid grid-cols-2 md:grid-cols-4 gap-4"},A={class:"flex justify-between w-full mb-4"},G={class:"overflow-hidden"},H=["onClick"],K={class:"flex justify-center w-full mb-4"},Q=["src"],R={__name:"LocalData",setup(l){const m=y([]),f=y([]),C=j(),d=()=>{fetch("/api/config/images").then(e=>e.json()).then(e=>m.value=e),fetch("/api/config/tracks").then(e=>e.json()).then(e=>f.value=e)},L=async e=>{await fetch("/api/config/images",{method:"DELETE",body:JSON.stringify({name:e})}),d()},E=async e=>{fetch("/api/config/tracks",{method:"DELETE",body:JSON.stringify({name:e})}),d()},h=e=>{C.loadPlaylist("track",e)};return d(),(e,U)=>(o(),c("div",$,[t("div",I,[N,t("div",q,[(o(!0),c(i,null,r(m.value,(a,_)=>(o(),n(w,{key:_,class:"cover-wrapper"},{default:k(()=>[p(B,{src:a.name,class:"rounded-xl mb-4"},null,8,["src"]),t("div",F,[t("p",J,[p(g,{text:a.name},null,8,["text"])]),t("span",{class:"ml-2 material-symbols-rounded cursor-pointer",onClick:s=>L(a.name)},"delete",8,M)]),(o(!0),c(i,null,r(a.songs,(s,u)=>(o(),n(b(v),{id:s.id,key:u,artist:s.artist,cover:s.cover,title:s.title,onPlay:P=>h(s.id)},null,8,["id","artist","cover","title","onPlay"]))),128))]),_:2},1024))),128))])]),t("div",O,[V,t("div",z,[(o(!0),c(i,null,r(f.value,(a,_)=>(o(),n(w,{key:_,class:"track"},{default:k(()=>[t("div",A,[t("p",G,[p(g,{text:a.name},null,8,["text"])]),t("span",{class:"material-symbols-rounded cursor-pointer",onClick:s=>E(a.name)},"delete",8,H)]),t("div",K,[t("audio",{src:"/api/"+a.name.replace("local:","/src/tracks/"),controls:""},null,8,Q)]),(o(!0),c(i,null,r(a.songs,(s,u)=>(o(),n(b(v),{id:s.id,key:u,artist:s.artist,cover:s.cover,title:s.title,onPlay:P=>h(s.id)},null,8,["id","artist","cover","title","onPlay"]))),128))]),_:2},1024))),128))])])]))}},le=S(R,[["__scopeId","data-v-6f841b26"]]);export{le as default};
