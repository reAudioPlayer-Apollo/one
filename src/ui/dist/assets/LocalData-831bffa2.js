import{T as v}from"./TrackCompact-36f72937.js";import{_ as S,q as y,B as j,c,a as t,F as i,i as r,o,f as n,w as k,g as p,h as B,M as g,u as w,C as x,l as D,m as T}from"./index-13e752eb.js";import"./ImportSpotifyAlbum.vue_vue_type_script_setup_true_lang-d4ff9688.js";import"./Form-e384e243.js";import"./IconButton-ba66f531.js";import"./Dropdown-16e4ef33.js";import"./Playlist-266e725a.js";import"./PlaylistHeader-d95abe76.js";import"./ExternalEntry-61265b6d.js";import"./song-43126725.js";const b=l=>(D("data-v-8e506d8a"),l=l(),T(),l),$={class:"wrap"},I={class:"covers"},N=b(()=>t("h2",null,"Local covers",-1)),q={class:"items grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4"},F={class:"flex justify-between w-full mb-4"},J={class:"overflow-hidden"},M=["onClick"],O={class:"tracks"},V=b(()=>t("h2",null,"Local tracks",-1)),z={class:"items grid grid-cols-2 md:grid-cols-4 gap-4"},A={class:"flex justify-between w-full mb-4"},G={class:"overflow-hidden"},H=["onClick"],K={class:"flex justify-center w-full mb-4"},Q=["src"],R={__name:"LocalData",setup(l){const m=y([]),h=y([]),C=j(),d=()=>{fetch("/api/config/images").then(e=>e.json()).then(e=>m.value=e),fetch("/api/config/tracks").then(e=>e.json()).then(e=>h.value=e)},L=async e=>{await fetch("/api/config/images",{method:"DELETE",body:JSON.stringify({name:e})}),d()},E=async e=>{fetch("/api/config/tracks",{method:"DELETE",body:JSON.stringify({name:e})}),d()},f=e=>{C.loadPlaylist("track",e)};return d(),(e,U)=>(o(),c("div",$,[t("div",I,[N,t("div",q,[(o(!0),c(i,null,r(m.value,(a,_)=>(o(),n(x,{key:_,class:"cover-wrapper"},{default:k(()=>[p(B,{src:a.name,class:"rounded-xl mb-4"},null,8,["src"]),t("div",F,[t("p",J,[p(g,{text:a.name},null,8,["text"])]),t("span",{class:"ml-2 material-symbols-rounded cursor-pointer",onClick:s=>L(a.name)},"delete",8,M)]),(o(!0),c(i,null,r(a.songs,(s,u)=>(o(),n(w(v),{id:s.id,key:u,artist:s.artist,cover:s.cover,title:s.title,onPlay:P=>f(s.id)},null,8,["id","artist","cover","title","onPlay"]))),128))]),_:2},1024))),128))])]),t("div",O,[V,t("div",z,[(o(!0),c(i,null,r(h.value,(a,_)=>(o(),n(x,{key:_,class:"track"},{default:k(()=>[t("div",A,[t("p",G,[p(g,{text:a.name},null,8,["text"])]),t("span",{class:"material-symbols-rounded cursor-pointer",onClick:s=>E(a.name)},"delete",8,H)]),t("div",K,[t("audio",{src:"/api/"+a.name.replace("local:","/src/tracks/"),controls:""},null,8,Q)]),(o(!0),c(i,null,r(a.songs,(s,u)=>(o(),n(w(v),{id:s.id,key:u,artist:s.artist,cover:s.cover,title:s.title,onPlay:P=>f(s.id)},null,8,["id","artist","cover","title","onPlay"]))),128))]),_:2},1024))),128))])])]))}},le=S(R,[["__scopeId","data-v-8e506d8a"]]);export{le as default};
