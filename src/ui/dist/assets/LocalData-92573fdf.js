import{T as v}from"./TrackCompact-d50330d8.js";import{_ as S,q as y,B as j,c,a as e,F as i,i as r,o,f as n,w as k,g as p,h as B,M as g,u as b,C as w,l as D,m as T}from"./index-867c16c4.js";import"./ImportSpotifyAlbum.vue_vue_type_script_setup_true_lang-62cb48cc.js";import"./Template-e025ed30.js";import"./IconButton-7aded1d6.js";import"./Form-b2313d42.js";import"./Dropdown-d8b77bfe.js";import"./Playlist-03918ba4.js";import"./PlaylistHeader-c9007d18.js";import"./ExternalEntry-017881e1.js";import"./song-437c88a4.js";const x=l=>(D("data-v-6f841b26"),l=l(),T(),l),$={class:"wrap"},I={class:"covers"},N=x(()=>e("h2",null,"Local covers",-1)),q={class:"items grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4"},F={class:"flex justify-between w-full mb-4"},J={class:"overflow-hidden"},M=["onClick"],O={class:"tracks"},V=x(()=>e("h2",null,"Local tracks",-1)),z={class:"items grid grid-cols-2 md:grid-cols-4 gap-4"},A={class:"flex justify-between w-full mb-4"},G={class:"overflow-hidden"},H=["onClick"],K={class:"flex justify-center w-full mb-4"},Q=["src"],R={__name:"LocalData",setup(l){const m=y([]),f=y([]),C=j(),d=()=>{fetch("/api/config/images").then(t=>t.json()).then(t=>m.value=t),fetch("/api/config/tracks").then(t=>t.json()).then(t=>f.value=t)},L=async t=>{await fetch("/api/config/images",{method:"DELETE",body:JSON.stringify({name:t})}),d()},E=async t=>{fetch("/api/config/tracks",{method:"DELETE",body:JSON.stringify({name:t})}),d()},h=t=>{C.loadPlaylist("track",t)};return d(),(t,U)=>(o(),c("div",$,[e("div",I,[N,e("div",q,[(o(!0),c(i,null,r(m.value,(a,_)=>(o(),n(w,{key:_,class:"cover-wrapper"},{default:k(()=>[p(B,{src:a.name,class:"rounded-xl mb-4"},null,8,["src"]),e("div",F,[e("p",J,[p(g,{text:a.name},null,8,["text"])]),e("span",{class:"ml-2 material-symbols-rounded cursor-pointer",onClick:s=>L(a.name)},"delete",8,M)]),(o(!0),c(i,null,r(a.songs,(s,u)=>(o(),n(b(v),{id:s.id,key:u,artist:s.artist,cover:s.cover,title:s.title,onPlay:P=>h(s.id)},null,8,["id","artist","cover","title","onPlay"]))),128))]),_:2},1024))),128))])]),e("div",O,[V,e("div",z,[(o(!0),c(i,null,r(f.value,(a,_)=>(o(),n(w,{key:_,class:"track"},{default:k(()=>[e("div",A,[e("p",G,[p(g,{text:a.name},null,8,["text"])]),e("span",{class:"material-symbols-rounded cursor-pointer",onClick:s=>E(a.name)},"delete",8,H)]),e("div",K,[e("audio",{src:"/api/"+a.name.replace("local:","/src/tracks/"),controls:""},null,8,Q)]),(o(!0),c(i,null,r(a.songs,(s,u)=>(o(),n(b(v),{id:s.id,key:u,artist:s.artist,cover:s.cover,title:s.title,onPlay:P=>h(s.id)},null,8,["id","artist","cover","title","onPlay"]))),128))]),_:2},1024))),128))])])]))}},it=S(R,[["__scopeId","data-v-6f841b26"]]);export{it as default};
