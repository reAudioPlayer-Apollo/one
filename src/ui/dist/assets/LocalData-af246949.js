import{T as v}from"./TrackCompact-ac433b1a.js";import{_ as S,n as y,z as j,c,a as t,F as i,i as r,o,f as n,w as k,g as p,h as D,M as g,u as w,C as x,k as T,l as $}from"./index-01636ea9.js";import"./ImportSpotifyAlbum.vue_vue_type_script_setup_true_lang-cf13030c.js";import"./Form-232bc2b7.js";import"./IconButton-7d1de5c5.js";import"./Dropdown-06281c6a.js";import"./Playlist-1ac486a9.js";import"./PlaylistHeader-8460e900.js";import"./ExternalEntry-baac14dc.js";import"./song-31b3adc1.js";const b=l=>(T("data-v-8e506d8a"),l=l(),$(),l),B={class:"wrap"},I={class:"covers"},N=b(()=>t("h2",null,"Local covers",-1)),F={class:"items grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4"},J={class:"flex justify-between w-full mb-4"},M={class:"overflow-hidden"},O=["onClick"],V={class:"tracks"},q=b(()=>t("h2",null,"Local tracks",-1)),z={class:"items grid grid-cols-2 md:grid-cols-4 gap-4"},A={class:"flex justify-between w-full mb-4"},G={class:"overflow-hidden"},H=["onClick"],K={class:"flex justify-center w-full mb-4"},Q=["src"],R={__name:"LocalData",setup(l){const m=y([]),h=y([]),C=j(),d=()=>{fetch("/api/config/images").then(e=>e.json()).then(e=>m.value=e),fetch("/api/config/tracks").then(e=>e.json()).then(e=>h.value=e)},L=async e=>{await fetch("/api/config/images",{method:"DELETE",body:JSON.stringify({name:e})}),d()},E=async e=>{fetch("/api/config/tracks",{method:"DELETE",body:JSON.stringify({name:e})}),d()},f=e=>{C.loadPlaylist("track",e)};return d(),(e,U)=>(o(),c("div",B,[t("div",I,[N,t("div",F,[(o(!0),c(i,null,r(m.value,(a,_)=>(o(),n(x,{key:_,class:"cover-wrapper"},{default:k(()=>[p(D,{src:a.name,class:"rounded-xl mb-4"},null,8,["src"]),t("div",J,[t("p",M,[p(g,{text:a.name},null,8,["text"])]),t("span",{class:"ml-2 material-symbols-rounded cursor-pointer",onClick:s=>L(a.name)},"delete",8,O)]),(o(!0),c(i,null,r(a.songs,(s,u)=>(o(),n(w(v),{id:s.id,key:u,artist:s.artist,cover:s.cover,title:s.title,onPlay:P=>f(s.id)},null,8,["id","artist","cover","title","onPlay"]))),128))]),_:2},1024))),128))])]),t("div",V,[q,t("div",z,[(o(!0),c(i,null,r(h.value,(a,_)=>(o(),n(x,{key:_,class:"track"},{default:k(()=>[t("div",A,[t("p",G,[p(g,{text:a.name},null,8,["text"])]),t("span",{class:"material-symbols-rounded cursor-pointer",onClick:s=>E(a.name)},"delete",8,H)]),t("div",K,[t("audio",{src:"/api/"+a.name.replace("local:","/src/tracks/"),controls:""},null,8,Q)]),(o(!0),c(i,null,r(a.songs,(s,u)=>(o(),n(w(v),{id:s.id,key:u,artist:s.artist,cover:s.cover,title:s.title,onPlay:P=>f(s.id)},null,8,["id","artist","cover","title","onPlay"]))),128))]),_:2},1024))),128))])])]))}},le=S(R,[["__scopeId","data-v-8e506d8a"]]);export{le as default};
