import{_ as w,n as m,o as a,c,a as e,F as l,i as r,g as x,h as L,t as h,f,u as v,k as E,l as C}from"./index.f61d9b0b.js";import{T as g}from"./TrackCompact.65611d3f.js";import"./ImportSpotifyAlbum.vue_vue_type_script_setup_true_lang.d6f2cacb.js";import"./song.14734b85.js";import"./TrackInfo.1452ca48.js";import"./MiniPlayer.a1ba65d3.js";import"./ImportSpotifySong.vue_vue_type_script_setup_true_lang.5916f2e8.js";const k=i=>(E("data-v-a1549bae"),i=i(),C(),i),D={class:"wrap"},S={class:"covers"},j=k(()=>e("h2",null,"Local covers",-1)),T={class:"items grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4"},B={class:"flex justify-between w-full mb-4"},I={class:"overflow-hidden overflow-ellipsis"},N=["onClick"],$={class:"tracks"},F=k(()=>e("h2",null,"Local tracks",-1)),J={class:"items grid grid-cols-2 md:grid-cols-4 gap-4"},O={class:"flex justify-between w-full mb-4"},V={class:"overflow-hidden overflow-ellipsis"},q=["onClick"],z={class:"flex justify-center w-full mb-4"},A=["src"],G={__name:"LocalData",setup(i){const p=m([]),u=m([]),n=()=>{fetch("/api/config/images").then(s=>s.json()).then(s=>p.value=s),fetch("/api/config/tracks").then(s=>s.json()).then(s=>u.value=s)},y=async s=>{await fetch("/api/config/images",{method:"DELETE",body:JSON.stringify({name:s})}),n()},b=async s=>{fetch("/api/config/tracks",{method:"DELETE",body:JSON.stringify({name:s})}),n()};return n(),(s,H)=>(a(),c("div",D,[e("div",S,[j,e("div",T,[(a(!0),c(l,null,r(p.value,(o,d)=>(a(),c("div",{class:"cover-wrapper",key:d},[x(L,{src:o.name,class:"rounded-xl mb-4"},null,8,["src"]),e("div",B,[e("p",I,h(o.name),1),e("span",{class:"material-symbols-rounded cursor-pointer",onClick:t=>y(o.name)},"delete",8,N)]),(a(!0),c(l,null,r(o.songs,(t,_)=>(a(),f(v(g),{key:_,artist:t.artist,title:t.title,cover:t.cover,id:t.id},null,8,["artist","title","cover","id"]))),128))]))),128))])]),e("div",$,[F,e("div",J,[(a(!0),c(l,null,r(u.value,(o,d)=>(a(),c("div",{class:"track",key:d},[e("div",O,[e("p",V,h(o.name),1),e("span",{class:"material-symbols-rounded cursor-pointer",onClick:t=>b(o.name)},"delete",8,q)]),e("div",z,[e("audio",{controls:"",src:"/api/"+o.name.replace("local:","/src/tracks/")},null,8,A)]),(a(!0),c(l,null,r(o.songs,(t,_)=>(a(),f(v(g),{key:_,artist:t.artist,title:t.title,cover:t.cover,id:t.id},null,8,["artist","title","cover","id"]))),128))]))),128))])])]))}},X=w(G,[["__scopeId","data-v-a1549bae"]]);export{X as default};
