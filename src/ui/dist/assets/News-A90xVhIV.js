import{F as T}from"./FullShelf-DN6MSD2q.js";import{_ as f,C as $,f as c,o as n,i as _,w,c as a,d as C,a as o,t as h,L as k,g as N,F as p,h as g}from"./index-BpNZikfW.js";const M={name:"NewsItemBig",components:{Card:$},methods:{redirect(){this.$router.push(this.href)}},computed:{updatedTimestamp(){const e=new Date(this.updated),s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return`${s[e.getUTCDay()]} ${e.getUTCDate()} ${t[e.getUTCMonth()]} ${e.getUTCFullYear()} ${e.getUTCHours()}.${e.getUTCMinutes()} GMT`}},props:{image:String,title:String,summary:String,href:String,updated:String,source:String}},v=["src"],F=["innerHTML"],L={class:"small"};function x(e,s,t,i,u,d){const l=c("Card");return n(),_(l,{class:"p-4 col-span-2 cursor-pointer","with-hover":"",onClick:d.redirect},{default:w(()=>[t.image?(n(),a("img",{key:0,src:t.image},null,8,v)):C("",!0),o("h4",null,h(t.title),1),o("p",{class:"newsSummary",innerHTML:t.summary},null,8,F),o("p",L,h(`${d.updatedTimestamp}, ${t.source}`),1)]),_:1},8,["onClick"])}const B=f(M,[["render",x],["__scopeId","data-v-ad954c34"]]),D={components:{Loader:k,FullShelf:T,NewsItemBig:B},name:"News",data(){return{news:[]}},mounted(){fetch("/api/news/articles").then(e=>e.json()).then(e=>{this.news.length=0;for(const s of e){const t=this.news.findIndex(i=>i.source==s.source);t>=0?this.news[t].items.push(s):this.news.push({source:s.source,items:[s]})}})}},U={class:"padding-20"},I={class:"news"},b={key:0,class:"fillPage"};function H(e,s,t,i,u,d){const l=c("Loader"),y=c("news-item-big"),S=c("full-shelf");return n(),a("div",U,[o("div",I,[s[0]||(s[0]=o("h1",null,"News",-1)),u.news.length?C("",!0):(n(),a("div",b,[N(l)])),(n(!0),a(p,null,g(u.news,m=>(n(),_(S,{key:m.source,heading:m.source,class:"mt-10"},{default:w(()=>[(n(!0),a(p,null,g(m.items,r=>(n(),_(y,{key:r.url,href:r.link,image:r.image,source:r.source,summary:r.summary,title:r.title,updated:r.updated},null,8,["href","image","source","summary","title","updated"]))),128))]),_:2},1032,["heading"]))),128))])])}const V=f(D,[["render",H],["__scopeId","data-v-a520cb40"]]);export{V as default};
