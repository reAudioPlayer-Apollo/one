import{F as S}from"./FullShelf.773c37ed.js";import{C}from"./Card.bc361d01.js";import{_ as f,e as d,o as a,f as l,w,c as r,d as T,a as o,t as p,F as h,i as g,k as $,l as v}from"./index.f0322bf5.js";const N={name:"NewsItemBig",components:{Card:C},methods:{redirect(){this.$router.push(this.href)}},computed:{updatedTimestamp(){const e=new Date(this.updated),s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return`${s[e.getUTCDay()]} ${e.getUTCDate()} ${t[e.getUTCMonth()]} ${e.getUTCFullYear()} ${e.getUTCHours()}.${e.getUTCMinutes()} GMT`}},props:{image:String,title:String,summary:String,href:String,updated:String,source:String}},k=["src"],I=["innerHTML"],x={class:"small"};function M(e,s,t,c,m,i){const u=d("Card");return a(),l(u,{class:"p-4 col-span-2 cursor-pointer",onClick:i.redirect},{default:w(()=>[t.image?(a(),r("img",{key:0,src:t.image},null,8,k)):T("",!0),o("h4",null,p(t.title),1),o("p",{class:"newsSummary",innerHTML:t.summary},null,8,I),o("p",x,p(`${i.updatedTimestamp}, ${t.source}`),1)]),_:1},8,["onClick"])}const B=f(N,[["render",M],["__scopeId","data-v-65bb62e7"]]);const b={components:{FullShelf:S,NewsItemBig:B},name:"News",data(){return{news:[]}},mounted(){fetch("/api/news/articles").then(e=>e.json()).then(e=>{this.news.length=0;for(const s of e){const t=this.news.findIndex(c=>c.source==s.source);t>=0?this.news[t].items.push(s):this.news.push({source:s.source,items:[s]})}})}},F=e=>($("data-v-44fa14e5"),e=e(),v(),e),D={class:"padding-20"},U={class:"news"},H=F(()=>o("h1",null,"News",-1));function A(e,s,t,c,m,i){const u=d("news-item-big"),y=d("full-shelf");return a(),r("div",D,[o("div",U,[H,(a(!0),r(h,null,g(m.news,_=>(a(),l(y,{key:_.source,heading:_.source,class:"mt-10"},{default:w(()=>[(a(!0),r(h,null,g(_.items,n=>(a(),l(u,{key:n.url,href:n.link,image:n.image,source:n.source,summary:n.summary,title:n.title,updated:n.updated},null,8,["href","image","source","summary","title","updated"]))),128))]),_:2},1032,["heading"]))),128))])])}const V=f(b,[["render",A],["__scopeId","data-v-44fa14e5"]]);export{V as default};
