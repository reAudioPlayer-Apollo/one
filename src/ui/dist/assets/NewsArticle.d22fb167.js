import{L as m}from"./Loader.83cc1f4c.js";import{_ as d,o as r,c as o,a as s,f as l,t as n,b as y,d as a,k as v,e as _}from"./index.644d6423.js";const g={name:"Error",props:{msg:String},methods:{toggleSidebar(){this.$emit("toggleSidebar")}}},w={class:"error"},k=["innerHTML"];function L(t,i,c,h,e,u){return r(),o("div",w,[s("h1",{innerHTML:c.msg},null,8,k)])}const T=d(g,[["render",L],["__scopeId","data-v-2579edf4"]]);const x={name:"NewsArticle",components:{Loader:m,Error:T},data(){return{error:"",article:{},fullWidth:!1}},methods:{updateData(){fetch(`/api/news/articles/${this.$route.params.url}`).then(async t=>{if(t.status==404){this.error="This wouldn't have happened if you had clicked on the links we provided!<br>\u30FD(\u0CA0_\u0CA0)\u30CE",setTimeout(this.updateData,1e3);return}if(t.status==400){window.open(await t.text()),this.$router.push("/news");return}if(t.status==200){if(this.article=await t.json(),this.article.headline==="N/A"){window.open(this.article.href),this.$router.push("/news");return}return}this.error=t.statusText})}},mounted(){this.updateData()}},H={key:2,class:"padding-20 newsArticle"},M=["innerHTML"],N={class:"headline"},b=["innerHTML"],E={key:0,class:"date"},A=["href"],W={key:1},B=["innerHTML"];function C(t,i,c,h,e,u){const p=_("Error"),f=_("Loader");return e.error?(r(),l(p,{key:0,msg:e.error},null,8,["msg"])):e.article.headline?(r(),o("div",H,[s("span",{onClick:i[0]||(i[0]=D=>e.fullWidth=!e.fullWidth),class:"toggleWidth material-icons-round"},n(e.fullWidth?"close_fullscreen":"open_in_full"),1),s("div",{class:v(["wrapper",{slim:!e.fullWidth}])},[s("h5",{class:"accentLink topic",innerHTML:e.article.topic},null,8,M),s("h1",N,n(e.article.headline),1),s("h4",{class:"standfirst",innerHTML:e.article.standfirst},null,8,b),e.article.date?(r(),o("h5",E,[y(n(e.article.date)+", ",1),s("a",{href:e.article.href},n(e.article.href),9,A)])):a("",!0),e.article.body?(r(),o("hr",W)):a("",!0),s("div",{class:"body",innerHTML:e.article.body},null,8,B)],2)])):(r(),l(f,{key:1}))}const I=d(x,[["render",C],["__scopeId","data-v-54c215d8"]]);export{I as default};
