import{P as k}from"./song-c16c9c3c.js";import{m as C,J as $,E as f,n as g,e as I,o as i,c as r,a as l,t as p,C as _,g as a,h as q,d as h,w as x,M as c,u as w,K as B,x as E,O as P,_ as b,F as A,i as S,f as M,k as N,l as O}from"./index-817bd093.js";const H={key:0,class:"cover"},V={class:"artist-title"},D={class:"title"},F={class:"artist"},j={key:1,class:"album"},z=C({__name:"ExternalEntry",props:{song:{type:Object,required:!0},index:{type:Number,required:!0},withCover:{type:Boolean,required:!1,default:!1},withAlbum:{type:Boolean,required:!1,default:!1},selected:{type:Boolean,required:!1,default:!1},playlistId:{type:Number,required:!1,default:null}},emits:["update"],setup(e,{emit:u}){const t=e,s=$(),d=f(()=>t.song.id==s.song.id),n=g(!1);f(()=>t.playlistId==null?s.playlist.id:t.playlistId);const y=()=>{P(t.song.title,t.song.artist,t.song.source)};return g(null),(T,o)=>{const v=I("router-link");return i(),r("div",{class:_([{playing:w(d),selected:e.selected,hovering:n.value,withCover:e.withCover,withAlbum:e.withAlbum},"playlist-entry"]),onDblclick:y,onMouseenter:o[1]||(o[1]=m=>n.value=!0),onMouseleave:o[2]||(o[2]=m=>n.value=!1)},[l("div",{class:_([{"material-symbols-rounded":n.value},"index text-right"]),onClick:y},p(n.value?"play_arrow":e.index+1),3),e.withCover?(i(),r("div",H,[a(q,{src:e.song.cover,type:"track"},null,8,["src"])])):h("",!0),l("div",V,[l("span",D,[a(v,{to:`/track/${e.song.id}`,class:"linkOnHover"},{default:x(()=>[a(c,{text:e.song.title},null,8,["text"])]),_:1},8,["to"])]),l("span",F,[a(v,{to:`/search/artist:${e.song.artist}`,class:"linkOnHover"},{default:x(()=>[a(c,{text:e.song.artist},null,8,["text"])]),_:1},8,["to"])])]),e.withAlbum&&!w(B)?(i(),r("div",j,[a(c,{text:e.song.album},null,8,["text"])])):h("",!0),l("div",{class:"icon text-left material-symbols-rounded",onClick:o[0]||(o[0]=E(m=>u("add"),["stop"]))},p(e.song.added?"done":"add"),1)],34)}}});const J=b(z,[["__scopeId","data-v-7e1ef278"]]),K=e=>(N("data-v-60ca7a11"),e=e(),O(),e),L={class:"playlist"},G=K(()=>l("hr",null,null,-1)),Q={class:"entries"},R=C({__name:"Playlist",props:{songs:{type:Array,required:!0},noCover:{type:Boolean,default:!1}},setup(e){return(u,t)=>(i(),r("div",L,[a(k,{"without-duration":""}),G,l("div",Q,[(i(!0),r(A,null,S(e.songs,(s,d)=>(i(),M(J,{key:s.source,added:s.added,index:d,song:s,title:s.title,"with-cover":!e.noCover,onAdd:n=>u.$emit("add",d)},null,8,["added","index","song","title","with-cover","onAdd"]))),128))])]))}});const X=b(R,[["__scopeId","data-v-60ca7a11"]]);export{X as P};
