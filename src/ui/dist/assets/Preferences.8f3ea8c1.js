import{_ as w,o as i,c as p,a as e,t as g,n as v,bG as B,q as f,B as c,bA as m,u as d,b as k,C as y,f as P,w as I,F as N,h as V,g as $,k as O,l as U}from"./index.dbea350e.js";import{F as D}from"./FullShelf.cfa1b569.js";import{b as F}from"./index.b5a11ad3.js";const L={name:"Theme",props:{name:String},methods:{selected(){return window.getCurrentTheme()==this.name},select(){window.setTheme(this.name),this.$emit("selected")}}},M=["src"];function A(r,u,h,l,_,a){return i(),p("div",{onClick:u[0]||(u[0]=(...b)=>a.select&&a.select(...b)),class:"wrapper"},[e("p",{class:v({selected:a.selected()})},g(h.name),3),e("img",{src:`/assets/img/themes/${this.name}.svg`,class:v({selected:a.selected()})},null,10,M)])}const E=w(L,[["render",A],["__scopeId","data-v-0f8ac1ca"]]);const o=r=>(O("data-v-d180a901"),r=r(),U(),r),R={class:"preferences"},j={class:"padding-10"},H={class:"sidebar"},J=o(()=>e("h2",null,"Sidebar",-1)),q={class:"checkbox"},z=o(()=>e("label",{for:"checkbox"},[e("span",null,'Show "News" tab')],-1)),G={class:"checkbox"},K=o(()=>e("label",{for:"checkbox2"},[e("span",null,'Show "Sports" tab')],-1)),Q={class:"sidebar"},W=o(()=>e("h2",null,"Player",-1)),X=["disabled"],Y={key:0,for:"checkbox3"},Z=o(()=>e("span",null,"Play in browser",-1)),ee=[Z],se={key:1,for:"checkbox3"},te=o(()=>e("span",null,"Play in browser (local playback not supported on this device)",-1)),oe=[te],ne={class:"sidebar"},ae=o(()=>e("h2",null,"Data Backup",-1)),le={class:"wrapTogether spaceBetween"},de={class:"spotify"},ie=o(()=>e("h2",null,"Spotify",-1)),re=o(()=>e("summary",null,"How to",-1)),ce=o(()=>e("p",null,[k("1) Head over to the "),e("a",{href:"https://developer.spotify.com/dashboard/applications",target:"_blank"},"spotify developer dashboard")],-1)),pe=o(()=>e("p",null,"2) Create An App",-1)),he=o(()=>e("p",null,"3) Enter any name and any description",-1)),ue=o(()=>e("p",null,"5) Copy and enter the client id and secret into the corresponding input field",-1)),_e={class:"wrapTogether"},be=o(()=>e("p",null,"Client ID: ",-1)),me={class:"wrapTogether"},ve=o(()=>e("p",null,"Client Secret: ",-1)),fe=o(()=>e("h2",null,"Themes",-1)),ye={__name:"Preferences",setup(r){window.Buffer=F.Buffer;const h=`http://${window.location.host}/api/spotify/callback`,l=B(),_=f(window.getCurrentTheme()),a=f({secret:"",id:""}),b=["jade","light","dark"],S=()=>{_.value=window.getCurrentTheme()},T=()=>{a.value.id=a.value.secret="",fetch("/api/config/spotify",{method:"POST",body:JSON.stringify({id:"restricted",secret:"restricted"})}).then(n=>console.log(n))},C=()=>{Object.values(a.value).some(n=>n==="")||fetch("/api/config/spotify",{method:"POST",body:JSON.stringify(a.value)}).then(n=>console.log(n))};return(n,s)=>(i(),p("div",R,[e("div",j,[e("div",H,[J,e("div",q,[c(e("input",{onChange:s[0]||(s[0]=(...t)=>n.changeShowNewsTab&&n.changeShowNewsTab(...t)),"onUpdate:modelValue":s[1]||(s[1]=t=>d(l).sidebar.news=t),type:"checkbox",id:"checkbox",name:"",value:""},null,544),[[m,d(l).sidebar.news]]),z]),e("div",G,[c(e("input",{onChange:s[2]||(s[2]=(...t)=>n.changeShowSportsTab&&n.changeShowSportsTab(...t)),"onUpdate:modelValue":s[3]||(s[3]=t=>d(l).sidebar.sports=t),type:"checkbox",id:"checkbox2",name:"",value:""},null,544),[[m,d(l).sidebar.sports]]),K])]),e("div",Q,[W,e("div",{class:v(["checkbox",{disabled:!d(l).player.supportsLocalPlayback}])},[c(e("input",{onChange:s[4]||(s[4]=(...t)=>n.changePlayInBrowser&&n.changePlayInBrowser(...t)),disabled:!d(l).player.supportsLocalPlayback,"onUpdate:modelValue":s[5]||(s[5]=t=>d(l).player.inBrowser=t),type:"checkbox",id:"checkbox3",name:"",value:""},null,40,X),[[m,d(l).player.inBrowser]]),d(l).player.supportsLocalPlayback?(i(),p("label",Y,ee)):(i(),p("label",se,oe))],2)]),e("div",ne,[ae,e("div",le,[e("button",{onClick:s[6]||(s[6]=t=>n.$router.push("/export"))},"Save"),e("button",{onClick:s[7]||(s[7]=t=>n.$router.push("/import"))},"Restore")])]),e("div",de,[ie,e("details",null,[re,ce,pe,he,e("p",null,[k("4) Edit the settings: set the redirect url to "),e("a",{href:h},g(h))]),ue]),e("div",_e,[be,c(e("input",{type:"text","onUpdate:modelValue":s[8]||(s[8]=t=>a.value.id=t)},null,512),[[y,a.value.id]])]),e("div",me,[ve,c(e("input",{type:"text","onUpdate:modelValue":s[9]||(s[9]=t=>a.value.secret=t)},null,512),[[y,a.value.secret]])]),e("div",{class:"wrapTogether spaceBetween"},[e("button",{onClick:C},"save"),e("button",{onClick:T,class:"restrictedMode"},"enter restricted mode")])])]),e("div",null,[fe,(i(),P(D,{key:_.value},{default:I(()=>[(i(),p(N,null,V(b,(t,x)=>$(E,{onSelected:S,key:x,name:t},null,8,["name"])),64))]),_:1}))])]))}},Se=w(ye,[["__scopeId","data-v-d180a901"]]);export{Se as default};
