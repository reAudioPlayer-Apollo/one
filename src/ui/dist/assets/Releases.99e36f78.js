import{F as I}from"./FullShelf.dd766911.js";import{I as B}from"./ReleaseItem.7c2bf15c.js";import{A as b}from"./AddAlbumToPlaylist.e1ea9b3e.js";import{_ as D,e as i,o,c,g as w,a as n,t as g,d as _,f as l,w as p,F as v,i as y}from"./index.c9ec6f55.js";import{C as A}from"./CollectionHeader.cb3ebd43.js";import"./MiniPlayer.ec59e54c.js";import"./FindSources.4e939ca1.js";const C={components:{AddAlbumToPlaylist:b},name:"ReleaseItemBig",methods:{redirect(){this.$refs.addAlbum.showModal=!0}},props:{cover:String,title:String,artist:String,href:String,releaseDate:String}},N={class:"itemBig drop-shadow-md"},x=["src"],R={class:"wrapper"},F={key:0,class:"note"};function j(u,s,t,a,r,d){const h=i("add-album-to-playlist");return o(),c("div",N,[w(h,{id:this.href.replace("https://open.spotify.com/album/",""),cover:t.cover,title:t.title,artist:t.artist,href:t.href,ref:"addAlbum"},null,8,["id","cover","title","artist","href"]),n("div",{class:"item",onClick:s[0]||(s[0]=(...f)=>d.redirect&&d.redirect(...f))},[n("img",{src:t.cover},null,8,x),n("div",R,[n("h4",null,g(t.title),1),n("p",null,g(t.artist),1),t.releaseDate?(o(),c("p",F,"Released on "+g(t.releaseDate),1)):_("",!0)])])])}const H=D(C,[["render",j],["__scopeId","data-v-f22d1c93"]]);const M={components:{CollectionHeader:A,FullShelf:I,Item:B,ItemBig:H},name:"Releases",data(){return{outSoon:[],outNow:[],outAlready:[]}},mounted(){fetch("/api/releases").then(u=>u.json()).then(u=>{const s=new Date;for(const t of u){const a=new Date(t.releaseDate);s<a?this.outSoon.push(t):s.getMonth()==a.getMonth()&&s.getDate()==a.getDate()&&s.getFullYear()==a.getFullYear()?this.outNow.push(t):this.outAlready.push(t)}})}},V={class:"padding-20"},O={class:"releases"};function Y(u,s,t,a,r,d){const h=i("CollectionHeader"),f=i("item-big"),m=i("full-shelf"),S=i("ItemBig"),k=i("Item");return o(),c("div",V,[w(h),n("div",O,[r.outSoon.length?(o(),l(m,{key:0,heading:"Out Soon"},{default:p(()=>[(o(!0),c(v,null,y(r.outSoon,e=>(o(),l(f,{key:e.url,releaseDate:e.releaseDate,cover:e.cover,href:e.url,artist:e.artists.join(", "),title:e.title},null,8,["releaseDate","cover","href","artist","title"]))),128))]),_:1})):_("",!0),r.outNow.length?(o(),l(m,{key:1,heading:"Out Now"},{default:p(()=>[(o(!0),c(v,null,y(r.outNow,e=>(o(),l(S,{key:e.url,releaseDate:e.releaseDate,cover:e.cover,href:e.url,artist:e.artists.join(", "),title:e.title},null,8,["releaseDate","cover","href","artist","title"]))),128))]),_:1})):_("",!0),r.outAlready.length?(o(),l(m,{key:2,heading:"Releases"},{default:p(()=>[(o(!0),c(v,null,y(r.outAlready,e=>(o(),l(k,{key:e.url,releaseDate:e.releaseDate,cover:e.cover,href:e.url,artist:e.artists.join(", "),title:e.title},null,8,["releaseDate","cover","href","artist","title"]))),128))]),_:1})):_("",!0)])])}const J=D(M,[["render",Y],["__scopeId","data-v-aaa9aa10"]]);export{J as default};
