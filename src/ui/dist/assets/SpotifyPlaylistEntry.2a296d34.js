import{M as m}from"./MiniPlayer.d3511afd.js";import{_ as u,e as y,o,c as d,g as v,m as c,t as a,d as h,a as n}from"./index.12dec214.js";const p={components:{MiniPlayer:m},name:"SpotifyPlaylistEntry",props:{index:Number,id:Number,source:String,artist:{type:String,default:"N/A"},title:{type:String,default:"N/A"},added:Boolean,cover:String,album:String,preview:String},data(){return{highlighted:!1,favourited:this.favourite,isAutoPlaylist:this.$route.path=="/collection/tracks",hovering:!1}},methods:{remove(){fetch(`/api/playlists/${this.$route.params.id}/tracks`,{method:"DELETE",body:JSON.stringify({songId:this.id})})},onselect(){this.highlighted=!this.highlighted},playAt(){this.$emit("edit",this.index)},add(){console.log("add"),this.$emit("add",this.index)}},watch:{added(){console.log("change"),this.$refs.add.innerHTML=this.added?"done":"add"}}},f={class:"track"},_=["src"],S={class:"trackwrapper"},k={class:"title"},E={class:"artist"};function N(r,e,t,x,l,i){const g=y("mini-player");return o(),d("div",{onDblclick:e[2]||(e[2]=()=>{i.playAt(),i.onselect()}),onClick:e[3]||(e[3]=(...s)=>i.onselect&&i.onselect(...s)),onMouseover:e[4]||(e[4]=s=>l.hovering=!0),onMouseleave:e[5]||(e[5]=s=>l.hovering=!1),class:c(["playlistEntry",{selected:l.highlighted}])},[v(g,{class:c(["miniPlayer",{hidden:!l.hovering}]),title:t.title,artist:t.artist,src:t.source},null,8,["class","title","artist","src"]),l.hovering?h("",!0):(o(),d("span",{key:0,onClick:e[0]||(e[0]=(...s)=>r.edit&&r.edit(...s)),class:"id"},a(t.index+1),1)),n("div",f,[n("img",{src:t.cover||"/assets/img/music_placeholder.png"},null,8,_),n("div",S,[n("span",k,a(t.title),1),n("span",E,a(t.artist),1)]),h("",!0)]),n("span",{onClick:e[1]||(e[1]=(...s)=>i.add&&i.add(...s)),class:"material-icons-round edit",ref:"add"},"add",512)],34)}const b=u(p,[["render",N],["__scopeId","data-v-d2738e1c"]]);export{b as S};
