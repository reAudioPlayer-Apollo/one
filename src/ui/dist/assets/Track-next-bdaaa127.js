import{m as S,n as h,D as N,aR as B,o as t,c,_ as E,E as j,f as p,a as e,g as y,h as I,I as D,t as a,F as b,w as m,u as L,d as w,b as k,i as C,k as T,l as H,bH as R,L as U,bP as $}from"./index-fd3eb342.js";import{j as q,k as z,l as F}from"./song-ca46ae84.js";import{C as f}from"./Card-6dfcb4cf.js";import{E as K}from"./ExternalEntry-f0b99876.js";import"./Dropdown-0ed13857.js";const A=["aria-valuemax","aria-valuenow"],O=S({__name:"ProgressCircle",props:{max:{type:Number,required:!1,default:100},modelValue:{type:Number,required:!1,default:0},displayValue:{type:String,required:!0}},setup(i){const r=i,n=h(null),l=()=>{if(n.value){const d=r.modelValue/r.max*100;n.value.style.setProperty("--progress",`${d}%`),n.value.innerHTML=r.displayValue}};N(r,l,{deep:!0});const s=()=>{n.value&&(n.value.style.height=n.value.offsetWidth+"px")};return B(()=>{s(),l()}),window.addEventListener("resize",s),(d,g)=>(t(),c("div",{ref_key:"radialProgress",ref:n,"aria-valuemax":i.max,"aria-valuenow":i.modelValue,"aria-valuemin":"0",class:"radialProgress",role:"progressbar"},null,8,A))}});const P=E(O,[["__scopeId","data-v-6e1a8d6b"]]),x=i=>(T("data-v-3e3381b1"),i=i(),H(),i),W={class:"track p-4"},G={key:1,class:"wrap"},J={class:"track__data"},Q={class:"upper"},X={class:"trac__info__details__normal"},Y={class:"text-secondary my-0 text-2xl font-bold"},Z={class:"font-black text-5xl"},ee={class:"text-muted my-0"},se={key:0,class:"features flex flex-row gap-4 mt-4"},ae={class:"mx-4"},te=x(()=>e("p",{class:"my-0 text-muted"}," Key ",-1)),le={class:"mx-4"},oe=x(()=>e("p",{class:"my-0 text-muted"}," Camelot ",-1)),ne={class:"mx-4"},ue=x(()=>e("p",{class:"my-0 text-muted"}," BPM ",-1)),ie={class:"mx-4"},re=x(()=>e("p",{class:"my-0 text-muted"}," Duration ",-1)),ce={class:"spotify-infos flex flex-row justify-around"},de={class:"font-bold"},_e={class:"font-bold"},pe={class:"font-bold"},me=x(()=>e("h2",{class:"!text-left"},"Similar Songs",-1)),fe={class:"spotify__features__circles mt-4"},ve={class:"text-muted mb-0 text-center text-sm capitalize flex justify-center"},ye={class:"material-symbols-rounded mr-2"},he=S({__name:"Track-next",setup(i){const r=R(),n=j(()=>r.params.hash),l=h(null),s=h(null),d=h([]),g=h([]),M={acousticness:"piano",danceability:"nightlife",energy:"electric_bolt",happiness:"mood",instrumentalness:"mic_off",liveness:"groups_2",speechiness:"mic",loudness:"volume_up"},V=async()=>{l.value=await q(n.value),s.value=await z(l.value.id),d.value=await F(l.value.id),g.value=[];for(let[u,v]of Object.entries(s.value.spotify.features))["key","mode","tempo","duration_ms","time_signature"].includes(u)||typeof v=="number"&&(u=u.replaceAll("_"," "),u=u.replace("valence","happiness"),u==="loudness"&&(v=60+v),g.value.push({key:u,value:v,icon:M[u]}))};return B(V),N(r,V,{deep:!0}),(u,v)=>(t(),c("div",W,[l.value?(t(),c("div",G,[e("div",J,[e("div",Q,[y(I,{src:l.value.cover,class:"max-w-sm rounded-xl"},null,8,["src"]),e("div",{class:D([{"justify-end":s.value,"justify-center":!s.value},"track__info__details flex flex-col"])},[e("div",X,[e("h3",Y,a(l.value.artist),1),e("h1",Z,a(l.value.title),1),e("h5",ee,a(l.value.album),1)]),s.value&&s.value.spotify.features?(t(),c(b,{key:0},[s.value&&s.value.spotify.features?(t(),c("div",se,[y(f,{class:"p-4 w-full"},{default:m(()=>[e("h2",ae,a(s.value.spotify.features.key)+" "+a(s.value.spotify.features.mode),1),te]),_:1}),y(f,{class:"p-4 w-full"},{default:m(()=>[e("h2",le,a(L($)(s.value)),1),oe]),_:1}),y(f,{class:"p-4 w-full"},{default:m(()=>[e("h2",ne,a(Math.round(s.value.spotify.features.tempo)),1),ue]),_:1}),y(f,{class:"p-4 w-full"},{default:m(()=>[e("h2",ie,a(l.value.duration),1),re]),_:1})])):w("",!0),e("div",ce,[e("p",null,[k("Release Date: "),e("span",de,a(s.value.spotify.releaseDate),1)]),e("p",null,[k("Explicit: "),e("span",_e,a(s.value.spotify.explicit),1)]),e("p",null,[k("Popularity: "),e("span",pe,a(s.value.spotify.popularity),1)])])],64)):w("",!0)],2)]),d.value.length?(t(),p(f,{key:0,class:"p-4 mt-8"},{default:m(()=>[me,(t(!0),c(b,null,C(d.value,(o,_)=>(t(),p(K,{key:_,index:_,song:o,"can-import":"","cannot-add":"","with-album":"","with-cover":""},null,8,["index","song"]))),128))]),_:1})):w("",!0)]),e("aside",fe,[(t(!0),c(b,null,C(g.value,o=>(t(),p(f,{class:"p-2"},{default:m(()=>[o.key=="loudness"?(t(),p(P,{key:0,modelValue:o.value,"onUpdate:modelValue":_=>o.value=_,"display-value":Math.round(-60+o.value)+"dB",class:"circle",max:"60"},null,8,["modelValue","onUpdate:modelValue","display-value"])):(t(),p(P,{key:1,modelValue:o.value,"onUpdate:modelValue":_=>o.value=_,"display-value":Math.round(o.value*100)+"%",class:"circle",max:"1"},null,8,["modelValue","onUpdate:modelValue","display-value"])),e("p",ve,[e("span",ye,a(o.icon),1),k(" "+a(o.key),1)])]),_:2},1024))),256))])])):(t(),p(U,{key:0}))]))}});const Ve=E(he,[["__scopeId","data-v-3e3381b1"]]);export{Ve as default};
