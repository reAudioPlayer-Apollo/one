import{_ as I,m as N,y as T,l as n,B as D,A as M,aw as i,f as O,o,c as x,i as u,G as R,d as C,ax as V,g as c,w as d,a as s,x as A,u as b,M as w,t as E,C as q}from"./index-CTxjSbok.js";const z={class:"home-track-compact-wrapper"},G=["src"],P={class:"info"},j={class:"title"},F=["href"],J={class:"artist"},K={__name:"TrackCompact",props:{title:String,artist:String,cover:String,id:Number,href:String},emits:["play"],setup(e,{emit:S}){const t=e,$=S,p=N(),f=`/track/${T(String(t.id))}`,m=n(null),h=n(null),B=l=>{l.stopPropagation(),$("play")},H=()=>{var l,a;if(!((l=t==null?void 0:t.href)!=null&&l.includes("spotify.com"))){p.push(f);return}if((a=t==null?void 0:t.href)!=null&&a.includes("spotify.com/album/")){h.value.show();return}m.value.show()},r=n(t.cover);D(()=>t.cover,()=>{r.value=t.cover});const v=M(()=>i(r.value));return(l,a)=>{var y,g;const k=O("router-link");return o(),x("div",z,[(y=e.href)!=null&&y.includes("spotify.com/album/")?(o(),u(R,{key:0,ref_key:"addRelease",ref:h,album:{cover:v.value,name:e.title,artist:e.artist,id:e.href.replace("https://open.spotify.com/album/",""),href:e.href,releaseDate:null}},null,8,["album"])):C("",!0),(g=e.href)!=null&&g.includes("spotify.com/track/")?(o(),u(V,{key:1,ref_key:"addSong",ref:m,song:{cover:v.value,title:e.title,artist:e.artist,id:e.href.replace("https://open.spotify.com/track/",""),href:e.href,releaseDate:null}},null,8,["song"])):C("",!0),c(q,{class:"home-track-compact","with-hover":"",onClick:H},{default:d(()=>[s("div",{style:A({backgroundImage:`url(${b(i)(r.value)})`}),class:"cover",onClick:B},[s("img",{src:b(i)(r.value),class:"hidden",onError:a[0]||(a[0]=Q=>r.value=null)},null,40,G),a[1]||(a[1]=s("div",{class:"play"},[s("span",{class:"material-symbols-rounded"},"play_arrow")],-1))],4),s("div",P,[s("span",j,[e.href?(o(),x("a",{key:1,href:e.href,class:"linkOnHover"},[c(w,{text:e.title},null,8,["text"])],8,F)):(o(),u(k,{key:0,to:f,class:"linkOnHover"},{default:d(()=>[c(w,{text:e.title},null,8,["text"])]),_:1}))]),c(k,{to:`/search/artist:${e.artist}`,class:"linkOnHover"},{default:d(()=>[s("span",J,E(e.artist),1)]),_:1},8,["to"])])]),_:1})])}}},W=I(K,[["__scopeId","data-v-4c18b720"]]);export{W as T};
