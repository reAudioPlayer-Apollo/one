import{_ as B,s as T,z as H,q as n,G as N,B as D,cf as i,e as M,o as r,c as p,f as d,d as _,g as l,w as u,a,y as O,u as b,M as S,t as R,C as V,m as q,n as z}from"./index-77d57c2a.js";import{_ as E}from"./ImportSpotifyAlbum.vue_vue_type_script_setup_true_lang-c4878d62.js";import{_ as A}from"./ExternalEntry-ed6ea9a5.js";const G=e=>(q("data-v-d34b4deb"),e=e(),z(),e),P={class:"home-track-compact-wrapper"},j=["src"],F=G(()=>a("div",{class:"play"},[a("span",{class:"material-symbols-rounded"},"play_arrow")],-1)),J={class:"info"},K={class:"title"},L=["href"],Q={class:"artist"},U={__name:"TrackCompact",props:{title:String,artist:String,cover:String,id:Number,href:String},emits:["play"],setup(e,{emit:C}){const t=e,w=C,x=T(),m=`/track/${H(String(t.id))}`,f=n(null),h=n(null),I=o=>{o.stopPropagation(),w("play")},$=()=>{var o,c;if(!((o=t==null?void 0:t.href)!=null&&o.includes("spotify.com"))){x.push(m);return}if((c=t==null?void 0:t.href)!=null&&c.includes("spotify.com/album/")){h.value.show();return}f.value.show()},s=n(t.cover);N(()=>t.cover,()=>{s.value=t.cover});const v=D(()=>i(s.value));return(o,c)=>{var y,g;const k=M("router-link");return r(),p("div",P,[(y=e.href)!=null&&y.includes("spotify.com/album/")?(r(),d(E,{key:0,ref_key:"addRelease",ref:h,album:{cover:v.value,name:e.title,artist:e.artist,id:e.href.replace("https://open.spotify.com/album/",""),href:e.href,releaseDate:null}},null,8,["album"])):_("",!0),(g=e.href)!=null&&g.includes("spotify.com/track/")?(r(),d(A,{key:1,ref_key:"addSong",ref:f,song:{cover:v.value,title:e.title,artist:e.artist,id:e.href.replace("https://open.spotify.com/track/",""),href:e.href,releaseDate:null}},null,8,["song"])):_("",!0),l(V,{class:"home-track-compact","with-hover":"",onClick:$},{default:u(()=>[a("div",{style:O({backgroundImage:`url(${b(i)(s.value)})`}),class:"cover",onClick:I},[a("img",{src:b(i)(s.value),class:"hidden",onError:c[0]||(c[0]=X=>s.value=null)},null,40,j),F],4),a("div",J,[a("span",K,[e.href?(r(),p("a",{key:1,href:e.href,class:"linkOnHover"},[l(S,{text:e.title},null,8,["text"])],8,L)):(r(),d(k,{key:0,to:m,class:"linkOnHover"},{default:u(()=>[l(S,{text:e.title},null,8,["text"])]),_:1}))]),l(k,{to:`/search/artist:${e.artist}`,class:"linkOnHover"},{default:u(()=>[a("span",Q,R(e.artist),1)]),_:1},8,["to"])])]),_:1})])}}},te=B(U,[["__scopeId","data-v-d34b4deb"]]);export{te as T};
