import{_ as C,q as I,v as $,n,D as H,E as T,G as i,e as B,o as c,c as p,f as d,u as l,d as y,a as t,H as D,w as b,g as u,M as g,t as N,k as E,l as M}from"./index-817bd093.js";import{_ as O}from"./ImportSpotifyAlbum.vue_vue_type_script_setup_true_lang-8b22a9e5.js";import{_ as R}from"./ImportSpotifySong.vue_vue_type_script_setup_true_lang-1d352f43.js";const V=e=>(E("data-v-4dabb3eb"),e=e(),M(),e),q={class:"home-track-compact-wrapper drop-shadow-md"},z=["src"],A=V(()=>t("div",{class:"play"},[t("span",{class:"material-symbols-rounded"},"play_arrow")],-1)),G={class:"info"},P={class:"title"},j=["href"],F={class:"artist"},J={__name:"TrackCompact",props:{title:String,artist:String,cover:String,id:Number,href:String},emits:["play"],setup(e,{emit:_}){const a=e,S=I(),m=`/track/${$(String(a.id))}`,f=n(null),h=n(null),w=o=>{o.stopPropagation(),_("play")},x=()=>{var o,r;if(!((o=a.href)!=null&&o.includes("spotify.com"))){S.push(m);return}if((r=a.href)!=null&&r.includes("spotify.com/album/")){h.value.show();return}f.value.show()},s=n(a.cover);H(()=>a.cover,()=>{s.value=a.cover});const v=T(()=>i(s.value));return(o,r)=>{const k=B("router-link");return c(),p("div",q,[e.href.includes("spotify.com/album/")?(c(),d(O,{key:0,ref_key:"addRelease",ref:h,album:{cover:l(v),name:e.title,artist:e.artist,id:e.href.replace("https://open.spotify.com/album/",""),href:e.href,releaseDate:null}},null,8,["album"])):y("",!0),e.href.includes("spotify.com/track/")?(c(),d(R,{key:1,ref_key:"addSong",ref:f,song:{cover:l(v),title:e.title,artist:e.artist,id:e.href.replace("https://open.spotify.com/track/",""),href:e.href,releaseDate:null}},null,8,["song"])):y("",!0),t("div",{class:"home-track-compact",onClick:x},[t("div",{style:D({backgroundImage:`url(${l(i)(s.value)})`}),class:"cover",onClick:w},[t("img",{src:l(i)(s.value),class:"hidden",onError:r[0]||(r[0]=L=>s.value=null)},null,40,z),A],4),t("div",G,[t("span",P,[e.href?(c(),p("a",{key:1,href:e.href,class:"linkOnHover"},[u(g,{text:e.title},null,8,["text"])],8,j)):(c(),d(k,{key:0,to:m,class:"linkOnHover"},{default:b(()=>[u(g,{text:e.title},null,8,["text"])]),_:1}))]),u(k,{to:`/search/artist:${e.artist}`,class:"linkOnHover"},{default:b(()=>[t("span",F,N(e.artist),1)]),_:1},8,["to"])])])])}}},X=C(J,[["__scopeId","data-v-4dabb3eb"]]);export{X as T};
