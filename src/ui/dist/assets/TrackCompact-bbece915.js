import{_ as x,s as I,z as $,q as i,E as B,B as T,c6 as u,e as H,o as r,c as g,f as d,u as l,d as p,g as n,w as m,a,y as N,M as _,t as D,C as E,m as M,n as O}from"./index-10b115ba.js";import{_ as R}from"./ImportSpotifyAlbum.vue_vue_type_script_setup_true_lang-a5d89d6b.js";import{_ as V}from"./ExternalEntry-e3307c1b.js";const q=e=>(M("data-v-20c91b79"),e=e(),O(),e),z={class:"home-track-compact-wrapper"},A=["src"],P=q(()=>a("div",{class:"play"},[a("span",{class:"material-symbols-rounded"},"play_arrow")],-1)),j={class:"info"},F={class:"title"},G=["href"],J={class:"artist"},K={__name:"TrackCompact",props:{title:String,artist:String,cover:String,id:Number,href:String},emits:["play"],setup(e,{emit:S}){const t=e,b=I(),f=`/track/${$(String(t.id))}`,h=i(null),v=i(null),C=c=>{c.stopPropagation(),S("play")},w=()=>{var c,o;if(!((c=t==null?void 0:t.href)!=null&&c.includes("spotify.com"))){b.push(f);return}if((o=t==null?void 0:t.href)!=null&&o.includes("spotify.com/album/")){v.value.show();return}h.value.show()},s=i(t.cover);B(()=>t.cover,()=>{s.value=t.cover});const k=T(()=>u(s.value));return(c,o)=>{const y=H("router-link");return r(),g("div",z,[e.href.includes("spotify.com/album/")?(r(),d(R,{key:0,ref_key:"addRelease",ref:v,album:{cover:l(k),name:e.title,artist:e.artist,id:e.href.replace("https://open.spotify.com/album/",""),href:e.href,releaseDate:null}},null,8,["album"])):p("",!0),e.href.includes("spotify.com/track/")?(r(),d(V,{key:1,ref_key:"addSong",ref:h,song:{cover:l(k),title:e.title,artist:e.artist,id:e.href.replace("https://open.spotify.com/track/",""),href:e.href,releaseDate:null}},null,8,["song"])):p("",!0),n(E,{class:"home-track-compact","with-hover":"",onClick:w},{default:m(()=>[a("div",{style:N({backgroundImage:`url(${l(u)(s.value)})`}),class:"cover",onClick:C},[a("img",{src:l(u)(s.value),class:"hidden",onError:o[0]||(o[0]=Q=>s.value=null)},null,40,A),P],4),a("div",j,[a("span",F,[e.href?(r(),g("a",{key:1,href:e.href,class:"linkOnHover"},[n(_,{text:e.title},null,8,["text"])],8,G)):(r(),d(y,{key:0,to:f,class:"linkOnHover"},{default:m(()=>[n(_,{text:e.title},null,8,["text"])]),_:1}))]),n(y,{to:`/search/artist:${e.artist}`,class:"linkOnHover"},{default:m(()=>[a("span",J,D(e.artist),1)]),_:1},8,["to"])])]),_:1})])}}},Y=x(K,[["__scopeId","data-v-20c91b79"]]);export{Y as T};
