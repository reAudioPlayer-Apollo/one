import{_ as C,v as I,n as l,z as $,A as b,H as n,e as H,o as r,c as p,f as i,u as c,d as y,a as t,I as T,w as g,g as d,M as _,t as B,k as N,l as D}from"./index.f61d9b0b.js";import{_ as M}from"./ImportSpotifyAlbum.vue_vue_type_script_setup_true_lang.d6f2cacb.js";import{_ as O}from"./ImportSpotifySong.vue_vue_type_script_setup_true_lang.5916f2e8.js";const V=e=>(N("data-v-151a824a"),e=e(),D(),e),z={class:"home-track-compact-wrapper drop-shadow-md"},A=["src"],E=V(()=>t("div",{class:"play"},[t("span",{class:"material-symbols-rounded"},"play_arrow")],-1)),R={class:"info"},q={class:"title"},P=["href"],j={class:"artist"},F={__name:"TrackCompact",props:{title:String,artist:String,cover:String,id:Number,href:String},emits:["play"],setup(e,{emit:S}){const a=e,u=`/track/${I(String(a.id))}`,f=l(null),h=l(null),w=o=>{o.stopPropagation(),S("play")},x=()=>{var o;a.href||this.$router.push(u),(o=a.href)!=null&&o.includes("spotify")?h.show():f.show()},s=l(a.cover);$(()=>a.cover,()=>{s.value=a.cover});const m=b(()=>n(s.value));return(o,k)=>{const v=H("router-link");return r(),p("div",z,[e.href?(r(),i(M,{key:0,album:{cover:c(m),name:e.title,artist:e.artist,id:e.href.replace("https://open.spotify.com/album/",""),href:e.href,releaseDate:null},ref_key:"addRelease",ref:h},null,8,["album"])):y("",!0),e.href?(r(),i(O,{key:1,song:{cover:c(m),title:e.title,artist:e.artist,id:e.href.replace("https://open.spotify.com/track/",""),href:e.href,releaseDate:null},ref_key:"addSong",ref:f},null,8,["song"])):y("",!0),t("div",{class:"home-track-compact",onClick:x},[t("div",{onClick:w,class:"cover",style:T({backgroundImage:`url(${c(n)(s.value)})`})},[t("img",{src:c(n)(s.value),onError:k[0]||(k[0]=J=>s.value=null),class:"hidden"},null,40,A),E],4),t("div",R,[t("span",q,[e.href?(r(),p("a",{key:1,href:e.href,class:"linkOnHover"},[d(_,{text:e.title},null,8,["text"])],8,P)):(r(),i(v,{key:0,class:"linkOnHover",to:u},{default:g(()=>[d(_,{text:e.title},null,8,["text"])]),_:1}))]),d(v,{class:"linkOnHover",to:`/search/artist:${e.artist}`},{default:g(()=>[t("span",j,B(e.artist),1)]),_:1},8,["to"])])])])}}},U=C(F,[["__scopeId","data-v-151a824a"]]);export{U as T};
