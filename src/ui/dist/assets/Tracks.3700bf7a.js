import{F as v,G as m}from"./FixedPlaylistHeader.2772a387.js";import{P as b}from"./PlaylistEntry.a9a6d9e3.js";import{_ as k,s as x,o as l,c as r,g as d,k as P,m as S,w as H,b as N,a as s,t as p,F as C,i as I,f as T,e as o,l as w,p as V,h as B}from"./index.f115d27f.js";import"./EditSong.48ffc584.js";import"./FindSources.746e29fb.js";const E={components:{PlaylistEntry:b,FixedPlaylistHeader:v,GridHeader:m},data(){return this.updateTracks(),{fixedHeaderHidden:!0,playlist:[],playlistName:"N/A"}},computed:x("player",{currentSong:i=>i.song.id}),watch:{currentSong(){this.updateIsPlaying()}},methods:{updateIsPlaying(){console.log("Updating is playing",this.currentSong),this.playlist.forEach(i=>{i.playing=i.id==this.currentSong})},headerVisibilityChanged(i){this.fixedHeaderHidden=i},updateTracks(){fetch("/api/me/liked").then(i=>i.json()).then(i=>{this.playlist=i.songs,this.playlistName=i.name,this.updateIsPlaying()})},loadPlaylist(){fetch("/api/player/load",{method:"POST",body:JSON.stringify({type:"collection"})})}}},_=i=>(V("data-v-fc478ba1"),i=i(),B(),i),F={class:"playlist"},D={class:"padding-20"},G=_(()=>s("hr",null,null,-1)),O={class:"padding-20"},j={class:"grid"},z=_(()=>s("hr",null,null,-1)),A={class:"playlistEntries"};function J(i,n,L,M,e,a){const u=o("fixed-playlist-header"),y=o("h7"),h=o("grid-header"),f=o("playlist-entry"),g=w("observe-visibility");return l(),r("div",F,[d(u,{onClick:a.loadPlaylist,ref:"fixedHeading",class:P({hidden:e.fixedHeaderHidden}),title:e.playlistName},null,8,["onClick","class","title"]),S((l(),r("div",D,[d(y,null,{default:H(()=>[N("Playlist")]),_:1}),s("h1",null,p(e.playlistName),1),s("h5",null,"Your "+p(e.playlist.length)+" favourite tracks, auto-generated just for you",1)])),[[g,a.headerVisibilityChanged]]),G,s("div",O,[s("span",{id:"loadPlaylist",onClick:n[0]||(n[0]=(...t)=>a.loadPlaylist&&a.loadPlaylist(...t)),class:"material-icons-outlined"},"play_circle_filled"),s("div",j,[d(h,{class:"hideIfMobile"}),z,s("div",A,[(l(!0),r(C,null,I(e.playlist,(t,c)=>(l(),T(f,{key:c,index:c,source:t.source,id:t.id,title:t.title,playing:t.playing,album:t.album,artist:t.artist,cover:t.cover,favourite:t.favourite,duration:t.duration},null,8,["index","source","id","title","playing","album","artist","cover","favourite","duration"]))),128))])])])])}const R=k(E,[["render",J],["__scopeId","data-v-fc478ba1"]]);export{R as default};
