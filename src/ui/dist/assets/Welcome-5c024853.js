import{_,o as i,c as d,a as e,D as y,bY as v,s as C,bZ as g,F as S,i as T,f as w,b as p,E as a,bx as h,d as b,e as k,k as I,l as R}from"./index-d1ada720.js";const x={name:"ThemeSmall",props:{name:String},methods:{selected(){return window.getCurrentTheme()==this.name},select(){window.setTheme(this.name),this.$emit("selected")}}},A=["src"];function E(n,s,u,m,o,l){return i(),d("div",{onClick:s[0]||(s[0]=(...r)=>l.select&&l.select(...r)),class:"wrapper"},[e("img",{src:`/assets/img/themes/${this.name}.svg`,class:y({selected:l.selected()})},null,10,A)])}const Y=_(x,[["render",E],["__scopeId","data-v-d567b3d2"]]);const B={components:{ThemeSmall:Y},methods:{updateThemes(){this.mode++},redirect(n){window.open(n)},finalRedirectRestricted(){this.spotifyClientId||this.spotifyClientSecret||fetch("/api/config/spotify",{method:"POST",body:JSON.stringify({id:"restricted",secret:"restricted"})}).then(n=>{n.status==200&&(setTimeout(()=>fetch("/api/releases"),1e3),this.mode++,setTimeout(()=>{this.$router.push("/")},6*1e3))})},async finalRedirect(){!this.spotifyClientId||!this.spotifyClientSecret||(await v(this.spotifyClientId,this.spotifyClientSecret),setTimeout(()=>fetch("/api/releases"),1e3),setTimeout(()=>fetch("/api/news/articles"),1e3),this.mode++,setTimeout(async()=>{await C(),this.$router.push("/")},6*1e3))}},data(){setInterval(()=>{if(this.mode<3){this.mode++;return}},7*1e3);const n=["dynamic","dark","light"],s=window.getCurrentTheme();return{mode:0,themes:n,themeSelected:s,spotifyClientId:"",spotifyClientSecret:""}},async mounted(){await g()||this.$router.push("/")}},t=n=>(I("data-v-29e58593"),n=n(),R(),n),N={class:"welcome bouncy centred-column"},V={key:0,class:"first centred-column"},D=t(()=>e("p",null,"Welcome to",-1)),O=t(()=>e("h1",null,"reAudioPlayer ONE",-1)),F=[D,O],L={key:1,class:"first centred-column"},P=t(()=>e("p",null,"The free audio player with the most extensive catalogue",-1)),U=t(()=>e("h1",null,"ARE YOU READY?",-1)),W=[P,U],H={key:2,class:"first centred-column"},M=t(()=>e("h1",null,"Almost There",-1)),z=t(()=>e("p",null,"After a few configurations you're ready to go",-1)),G=[M,z],J={key:3,class:"permanent centred-column"},Z=t(()=>e("h1",null,"Pick a Theme",-1)),j=t(()=>e("p",null,"You'll be able to change the theme at any point later on",-1)),q=t(()=>e("br",null,null,-1)),K={class:"centred-column appear-delayed"},Q={key:4,class:"permanent centred-column"},X=t(()=>e("h1",null,"Let's integrate Spotify then!",-1)),$=t(()=>e("p",null,"You'll be able to change the tokens at any point later on",-1)),ee=t(()=>e("br",null,null,-1)),te={class:"centred-column appear-delayed"},se=t(()=>e("p",null,"2) Create An App",-1)),oe=t(()=>e("p",null,"3) Enter any name and any description",-1)),ne=t(()=>e("p",null,[p("4) Edit the settings: set the redirect url to "),e("a",{href:"http://reap.ml/"},"http://reap.ml/")],-1)),ie=t(()=>e("p",null,"5) Copy and enter the client id and secret into the corresponding input field",-1)),le=t(()=>e("br",null,null,-1)),de={class:"wrapTogether"},ce=t(()=>e("p",null,"Client ID: ",-1)),re={class:"wrapTogether"},ae=t(()=>e("p",null,"Client Secret: ",-1)),he={class:"wrapTogether spaceBetween"},_e={key:5,class:"centred-column"},pe=t(()=>e("h1",null,"ALRIGHT!",-1)),ue=t(()=>e("p",null,"You're ready to go",-1)),me=[pe,ue];function fe(n,s,u,m,o,l){const r=k("theme-small");return i(),d("div",N,[o.mode==0?(i(),d("div",V,F)):o.mode==1?(i(),d("div",L,W)):o.mode==2?(i(),d("div",H,G)):o.mode==3?(i(),d("div",J,[Z,j,q,e("div",K,[(i(),d("div",{class:"themes",key:o.themeSelected},[(i(!0),d(S,null,T(o.themes,(c,f)=>(i(),w(r,{onSelected:l.updateThemes,key:f,name:c},null,8,["onSelected","name"]))),128))]))])])):o.mode==4?(i(),d("div",Q,[X,$,ee,e("div",te,[e("p",null,[p("1) Head over to the "),e("a",{onClick:s[0]||(s[0]=()=>l.redirect("https://developer.spotify.com/dashboard/applications"))},"spotify developer dashboard")]),se,oe,ne,ie,le,e("div",de,[ce,a(e("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=c=>o.spotifyClientId=c)},null,512),[[h,o.spotifyClientId]])]),e("div",re,[ae,a(e("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=c=>o.spotifyClientSecret=c)},null,512),[[h,o.spotifyClientSecret]])]),e("div",he,[e("button",{onClick:s[3]||(s[3]=(...c)=>l.finalRedirect&&l.finalRedirect(...c))},"continue"),e("button",{onClick:s[4]||(s[4]=(...c)=>l.finalRedirectRestricted&&l.finalRedirectRestricted(...c)),class:"restrictedMode"},"enter restricted mode")])])])):o.mode==5?(i(),d("div",_e,me)):b("",!0)])}const ve=_(B,[["render",fe],["__scopeId","data-v-29e58593"]]);export{ve as default};
