import{_,o as i,c,a as e,k as y,F as v,i as g,f as C,b as p,m as a,q as h,d as T,e as S,p as k,h as w}from"./index.a74bbc0a.js";const b={name:"ThemeSmall",props:{name:String},methods:{selected(){return window.getCurrentTheme()==this.name},select(){window.setTheme(this.name),this.$emit("selected")}}},I=["src"];function R(s,o,u,m,n,l){return i(),c("div",{onClick:o[0]||(o[0]=(...r)=>l.select&&l.select(...r)),class:"wrapper"},[e("img",{src:`/assets/img/themes/${this.name}.svg`,class:y({selected:l.selected()})},null,10,I)])}const x=_(b,[["render",R],["__scopeId","data-v-479f3651"]]);const A={components:{ThemeSmall:x},methods:{updateThemes(){this.mode++},redirect(s){window.open(s)},finalRedirectRestricted(){this.spotifyClientId||this.spotifyClientSecret||fetch("/api/config/spotify",{method:"POST",body:JSON.stringify({id:"restricted",secret:"restricted"})}).then(s=>{s.status==200&&(setTimeout(()=>fetch("/api/releases"),1e3),this.mode++,setTimeout(()=>{this.$router.push("/")},6*1e3))})},finalRedirect(){!this.spotifyClientId||!this.spotifyClientSecret||fetch("/api/config/spotify",{method:"POST",body:JSON.stringify({id:this.spotifyClientId,secret:this.spotifyClientSecret})}).then(s=>{s.status==200&&(setTimeout(()=>fetch("/api/releases"),1e3),setTimeout(()=>fetch("/api/news/articles"),1e3),this.mode++,setTimeout(()=>{this.$router.push("/")},6*1e3))})}},data(){setInterval(()=>{if(this.mode<3){this.mode++;return}},7*1e3);const s=["jade","dark","light"],o=window.getCurrentTheme();return{mode:0,themes:s,themeSelected:o,spotifyClientId:"",spotifyClientSecret:""}},mounted(){fetch("/api/config").then(s=>{s.status==200&&this.$router.push("/")})}},t=s=>(k("data-v-c63e2927"),s=s(),w(),s),E={class:"welcome bouncy centred-column"},N={key:0,class:"first centred-column"},O=t(()=>e("p",null,"Welcome to",-1)),B=t(()=>e("h1",null,"reAudioPlayer ONE",-1)),V=[O,B],Y={key:1,class:"first centred-column"},P=t(()=>e("p",null,"The free audio player with the most extensive catalogue",-1)),D=t(()=>e("h1",null,"ARE YOU READY?",-1)),L=[P,D],U={key:2,class:"first centred-column"},W=t(()=>e("h1",null,"Almost There",-1)),F=t(()=>e("p",null,"After a few configurations you're ready to go",-1)),H=[W,F],J={key:3,class:"permanent centred-column"},M=t(()=>e("h1",null,"Pick a Theme",-1)),j=t(()=>e("p",null,"You'll be able to change the theme at any point later on",-1)),q=t(()=>e("br",null,null,-1)),z={class:"centred-column appear-delayed"},G={key:4,class:"permanent centred-column"},K=t(()=>e("h1",null,"Let's integrate Spotify then!",-1)),Q=t(()=>e("p",null,"You'll be able to change the tokens at any point later on",-1)),X=t(()=>e("br",null,null,-1)),Z={class:"centred-column appear-delayed"},$=t(()=>e("p",null,"2) Create An App",-1)),ee=t(()=>e("p",null,"3) Enter any name and any description",-1)),te=t(()=>e("p",null,[p("4) Edit the settings: set the redirect url to "),e("a",{href:"http://reap.ml/"},"http://reap.ml/")],-1)),se=t(()=>e("p",null,"5) Copy and enter the client id and secret into the corresponding input field",-1)),oe=t(()=>e("br",null,null,-1)),ne={class:"wrapTogether"},ie=t(()=>e("p",null,"Client ID: ",-1)),le={class:"wrapTogether"},ce=t(()=>e("p",null,"Client Secret: ",-1)),de={class:"wrapTogether spaceBetween"},re={key:5,class:"centred-column"},ae=t(()=>e("h1",null,"ALRIGHT!",-1)),he=t(()=>e("p",null,"You're ready to go",-1)),_e=[ae,he];function pe(s,o,u,m,n,l){const r=S("theme-small");return i(),c("div",E,[n.mode==0?(i(),c("div",N,V)):n.mode==1?(i(),c("div",Y,L)):n.mode==2?(i(),c("div",U,H)):n.mode==3?(i(),c("div",J,[M,j,q,e("div",z,[(i(),c("div",{class:"themes",key:n.themeSelected},[(i(!0),c(v,null,g(n.themes,(d,f)=>(i(),C(r,{onSelected:l.updateThemes,key:f,name:d},null,8,["onSelected","name"]))),128))]))])])):n.mode==4?(i(),c("div",G,[K,Q,X,e("div",Z,[e("p",null,[p("1) Head over to the "),e("a",{onClick:o[0]||(o[0]=()=>l.redirect("https://developer.spotify.com/dashboard/applications"))},"spotify developer dashboard")]),$,ee,te,se,oe,e("div",ne,[ie,a(e("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=d=>n.spotifyClientId=d)},null,512),[[h,n.spotifyClientId]])]),e("div",le,[ce,a(e("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=d=>n.spotifyClientSecret=d)},null,512),[[h,n.spotifyClientSecret]])]),e("div",de,[e("button",{onClick:o[3]||(o[3]=(...d)=>l.finalRedirect&&l.finalRedirect(...d))},"continue"),e("button",{onClick:o[4]||(o[4]=(...d)=>l.finalRedirectRestricted&&l.finalRedirectRestricted(...d)),class:"restrictedMode"},"enter restricted mode")])])])):n.mode==5?(i(),c("div",re,_e)):T("",!0)])}const me=_(A,[["render",pe],["__scopeId","data-v-c63e2927"]]);export{me as default};
