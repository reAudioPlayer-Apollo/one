import{K as a}from"./index-3c7a9a86.js";const c=1,r=1,s=1,l=e=>({type:"song",version:c,song:e}),i=async e=>{const n={type:"playlist",version:r};if(e.type==="special")return null;if(e.type==="classic"){const t=Object.assign({},e);return delete t.queue,delete t.cursor,{...n,playlist:t}}if(e.type==="smart"){const t=await a(e.id);return{...n,playlist:{name:e.name,description:e.description,cover:e.cover,type:e.type,definition:t,plays:e.plays,id:e.id,href:e.href}}}},u=async e=>({type:"collection",version:s,collection:await Promise.all(e.filter(n=>n.type!="special").map(i))}),y=(e,n="my")=>{var t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),o=document.createElement("a");o.setAttribute("href",t),o.setAttribute("download",`${n}.one.${e.type}`),o.click()};export{i as a,u as b,l as c,y as d};
