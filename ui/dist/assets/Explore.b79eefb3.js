import{_ as p,o as r,c as i,a as o,r as _,m as h,p as u,k as f,H as y,F as k,h as m,e as n,f as c,t as d,b as v}from"./index.87a4becd.js";const g={props:{src:String}},S=s=>(u("data-v-7c16d965"),s=s(),f(),s),$=S(()=>o("div",{class:"filter"},null,-1)),I={class:"info"};function w(s,e,a,l,t,E){return r(),i("div",{class:"image",style:h({backgroundImage:"url("+a.src+")"})},[$,o("div",I,[_(s.$slots,"default",{},void 0,!0)])],4)}var C=p(g,[["render",w],["__scopeId","data-v-7c16d965"]]);const H={class:"songContent"},O={class:"play"},b=["onClick"],j={class:"info"},x=new y("reapOne.track",22),P={data(){return console.log("hello woodoasdjkp"),fetch("/api/playlists").then(async s=>{const e=await s.json();for(let a=0;a<e.length;a++){const l=await fetch(`/api/playlists/${a}`);this.playlists.push(await l.json())}this.pick()}),{playlists:[],picks:[]}},mounted(){},methods:{pick(){console.log("pick"),this.songs=this.playlists.map(s=>s.songs).flat();for(let s=0;s<4;s++)this.picks.push(this.songs[Math.floor(Math.random()*this.songs.length)])},onScroll(){this.$refs.container.clientHeight+this.$refs.container.scrollTop>=this.$refs.container.scrollHeight-100&&this.pick()},href(s){return`/track/${x.encode(s.id)}`},loadPlaylist(s){console.log(s),fetch("/api/player/load",{method:"POST",body:JSON.stringify({id:s,type:"track"})})}}},B=Object.assign(P,{setup(s){return(e,a)=>{const l=v("router-link");return r(),i("div",{class:"explore",ref:"container",onScroll:a[0]||(a[0]=(...t)=>e.onScroll&&e.onScroll(...t))},[(r(!0),i(k,null,m(e.picks,t=>(r(),i("div",{class:"item",key:t.name},[n(C,{src:t.cover},{default:c(()=>[o("div",H,[o("div",O,[o("span",{id:"loadPlaylist",onClick:()=>e.loadPlaylist(t.id),class:"material-symbols-rounded play"},"play_circle",8,b)]),o("div",j,[n(l,{class:"linkOnHover",to:e.href(t)},{default:c(()=>[o("h1",null,d(t.title),1)]),_:2},1032,["to"]),n(l,{class:"linkOnHover",to:`/search/${t.artist}`},{default:c(()=>[o("p",null,d(t.artist),1)]),_:2},1032,["to"])])])]),_:2},1032,["src"])]))),128))],544)}}});var T=p(B,[["__scopeId","data-v-02321d80"]]);export{T as default};
