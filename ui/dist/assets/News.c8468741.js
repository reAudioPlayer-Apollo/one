import{F as y}from"./FullShelf.77c5f8d2.js";import{_ as f,o as a,c as r,a as i,d as S,t as l,F as m,i as p,f as h,w as v,e as g,p as T,h as $}from"./index.7a0dd187.js";const N={name:"NewsItemBig",methods:{redirect(){this.$router.push(this.href)}},computed:{updatedTimestamp(){const e=new Date(this.updated),s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return`${s[e.getUTCDay()]} ${e.getUTCDate()} ${t[e.getUTCMonth()]} ${e.getUTCFullYear()} ${e.getUTCHours()}.${e.getUTCMinutes()} GMT`}},props:{image:String,title:String,summary:String,href:String,updated:String,source:String}},C={class:"itemBig"},I=["src"],x={class:"wrapper"},B=["innerHTML"],M={class:"small"};function k(e,s,t,c,_,o){return a(),r("div",C,[i("div",{class:"item",onClick:s[0]||(s[0]=(...u)=>o.redirect&&o.redirect(...u))},[t.image?(a(),r("img",{key:0,src:t.image},null,8,I)):S("",!0),i("div",x,[i("h4",null,l(t.title),1),i("p",{innerHTML:t.summary,class:"newsSummary"},null,8,B),i("p",M,l(`${o.updatedTimestamp}, ${t.source}`),1)])])])}const F=f(N,[["render",k],["__scopeId","data-v-4aa32a3d"]]);const b={components:{FullShelf:y,NewsItemBig:F},name:"News",data(){return{news:[]}},mounted(){fetch("/api/news/articles").then(e=>e.json()).then(e=>{this.news.length=0;for(const s of e){const t=this.news.findIndex(c=>c.source==s.source);t>=0?this.news[t].items.push(s):this.news.push({source:s.source,items:[s]})}})}},D=e=>(T("data-v-2697b876"),e=e(),$(),e),U={class:"padding-20"},H={class:"news"},A=D(()=>i("h1",null,"News",-1));function J(e,s,t,c,_,o){const u=g("news-item-big"),w=g("full-shelf");return a(),r("div",U,[i("div",H,[A,(a(!0),r(m,null,p(_.news,d=>(a(),h(w,{key:d.source,heading:d.source},{default:v(()=>[(a(!0),r(m,null,p(d.items,n=>(a(),h(u,{key:n.url,title:n.title,image:n.image,summary:n.summary,href:n.link,updated:n.updated,source:n.source},null,8,["title","image","summary","href","updated","source"]))),128))]),_:2},1032,["heading"]))),128))])])}const V=f(b,[["render",J],["__scopeId","data-v-2697b876"]]);export{V as default};
