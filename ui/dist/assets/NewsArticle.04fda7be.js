import{_ as c,o as r,c as n,p as v,h as m,a as s,e as d,t as i,l as y,f as u,n as g,g as h}from"./index.f20fcaa5.js";const w={name:"Loader"},L=t=>(v("data-v-f35e58da"),t=t(),m(),t),x={class:"loader"},k=L(()=>s("div",{class:"spinner"},[s("div",{class:"bounce1"}),s("div",{class:"bounce2"}),s("div",{class:"bounce3"})],-1)),T=[k];function b(t,o,a,_,e,l){return r(),n("div",x,T)}var $=c(w,[["render",b],["__scopeId","data-v-f35e58da"]]);const H={name:"Error",props:{msg:String},methods:{toggleSidebar(){this.$emit("toggleSidebar")}}},M={class:"error"},N=["innerHTML"];function E(t,o,a,_,e,l){return r(),n("div",M,[s("h1",{innerHTML:a.msg},null,8,N)])}var S=c(H,[["render",E],["__scopeId","data-v-3b6bef0e"]]);const A={name:"NewsArticle",components:{Loader:$,Error:S},data(){return{error:"",article:{},fullWidth:!1}},methods:{updateData(){fetch(`http://localhost:1234/api/news/article/${this.$route.params.url}`).then(async t=>{if(t.status==404){this.error="This wouldn't have happened if you had clicked on the links we provided!<br>\u30FD(\u0CA0_\u0CA0)\u30CE",setTimeout(this.updateData,1e3);return}if(t.status==400){window.open(await t.text()),this.$router.push("/news");return}if(t.status==200){if(this.article=await t.json(),this.article.headline==="N/A"){window.open(this.article.href),this.$router.push("/news");return}return}this.error=t.statusText})}},mounted(){this.updateData()}},I={key:2,class:"padding-20 newsArticle"},W=["innerHTML"],B={class:"headline"},C=["innerHTML"],D={key:0,class:"date"},V=["href"],j={key:1},z=["innerHTML"];function q(t,o,a,_,e,l){const p=h("Error"),f=h("Loader");return e.error?(r(),d(p,{key:0,msg:e.error},null,8,["msg"])):e.article.headline?(r(),n("div",I,[s("span",{onClick:o[0]||(o[0]=F=>e.fullWidth=!e.fullWidth),class:"toggleWidth material-icons-round"},i(e.fullWidth?"close_fullscreen":"open_in_full"),1),s("div",{class:g(["wrapper",{slim:!e.fullWidth}])},[s("h5",{class:"accentLink topic",innerHTML:e.article.topic},null,8,W),s("h1",B,i(e.article.headline),1),s("h4",{class:"standfirst",innerHTML:e.article.standfirst},null,8,C),e.article.date?(r(),n("h5",D,[y(i(e.article.date)+", ",1),s("a",{href:e.article.href},i(e.article.href),9,V)])):u("",!0),e.article.body?(r(),n("hr",j)):u("",!0),s("div",{class:"body",innerHTML:e.article.body},null,8,z)],2)])):(r(),d(f,{key:1}))}var J=c(A,[["render",q],["__scopeId","data-v-866707fc"]]);export{J as default};
