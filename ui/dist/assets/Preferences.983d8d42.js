import{F as C}from"./FullShelf.291db3d2.js";import{_ as T,a as x,b as B,c as I,d as N,e as A,f as P,g as V,h as U,i as H,j as M,k as O,l as R,m as F,n as J,o as j}from"./underground.24e9c135.js";import{_ as y,o as c,c as p,a as e,t as D,n as m,H as E,w as i,bn as _,l as f,i as b,f as L,F as q,h as z,p as G,k as K,g as S,b as w}from"./index.2f14e5a2.js";import{b as u}from"./index.11d3b0f3.js";const Q={name:"Theme",props:{name:String},data(){return{src:new URL({"/src/assets/images/themes/apollo.svg":T,"/src/assets/images/themes/default.svg":x,"/src/assets/images/themes/extraction.svg":B,"/src/assets/images/themes/gradient.svg":I,"/src/assets/images/themes/light-royal.svg":N,"/src/assets/images/themes/light-ruby.svg":A,"/src/assets/images/themes/light.svg":P,"/src/assets/images/themes/neon.svg":V,"/src/assets/images/themes/night-cobalt.svg":U,"/src/assets/images/themes/night-crimson.svg":H,"/src/assets/images/themes/night-fire.svg":M,"/src/assets/images/themes/night-jade.svg":O,"/src/assets/images/themes/quarantine.svg":R,"/src/assets/images/themes/royal.svg":F,"/src/assets/images/themes/ruby.svg":J,"/src/assets/images/themes/underground.svg":j}[`/src/assets/images/themes/${this.name}.svg`],self.location).href}},methods:{selected(){return window.getCurrentTheme()==this.name},select(){window.setTheme(this.name),this.$emit("selected")}}},W=["src"];function X(a,s,d,h,r,o){return c(),p("div",{onClick:s[0]||(s[0]=(...l)=>o.select&&o.select(...l)),class:"wrapper"},[e("p",{class:m({selected:o.selected()})},D(d.name),3),e("img",{src:r.src,class:m({selected:o.selected()})},null,10,W)])}var Y=y(Q,[["render",X],["__scopeId","data-v-0dceb582"]]);window.Buffer=u.Buffer;const v=new E("reapApollo"),Z={components:{Theme:Y,FullShelf:C},name:"Preferences",methods:{updateThemes(){this.themeSelected=window.getCurrentTheme()},changeCoverAsBackground(){window.localStorage.setItem("player.coverAsBackground",this.coverAsBackground?"true":"false")},changeShowSportsTab(){window.localStorage.setItem("sidebar.showSportsTab",this.showSportsTab?"true":"false")},changeShowNewsTab(){window.localStorage.setItem("sidebar.showNewsTab",this.showNewsTab?"true":"false")},changePlayInBrowser(){window.localStorage.setItem("player.inBrowser",this.playInBrowser?"true":"false")},saveRestrictedMode(){this.spotifyClientId||this.spotifyClientSecret||fetch("/api/config/spotify",{method:"POST",body:JSON.stringify({id:"restricted",secret:"restricted"})}).then(a=>console.log(a))},saveSpotify(){!this.spotifyClientId||!this.spotifyClientSecret||fetch("/api/config/spotify",{method:"POST",body:JSON.stringify({id:this.spotifyClientId,secret:this.spotifyClientSecret})}).then(a=>console.log(a))}},data(){const a=["night-jade","night-cobalt","night-crimson","night-fire","apollo","gradient","underground","default","royal","ruby","light","light-royal","light-ruby"],s=window.getCurrentTheme();let d="",h="";if(this.$route.params.data){const r=v.decodeHex(this.$route.params.data),o=u.Buffer.from(r,"hex").toString("utf8"),l=JSON.parse(o);d=l.data.spotifyApiId,h=l.data.spotifyApiSecret,console.warn(l),l.data.hello={world:"how are you"};const g=u.Buffer.from(JSON.stringify(l),"utf8").toString("hex"),t=v.encodeHex(g);console.warn(t)}return{coverAsBackground:window.localStorage.getItem("player.coverAsBackground")=="true",themes:a,themeSelected:s,showSportsTab:window.localStorage.getItem("sidebar.showSportsTab")=="true",showNewsTab:window.localStorage.getItem("sidebar.showNewsTab")=="true",playInBrowser:window.localStorage.getItem("player.inBrowser")=="true",spotifyClientId:d,spotifyClientSecret:h}}},n=a=>(G("data-v-f168d0a8"),a=a(),K(),a),$={class:"preferences"},ee={class:"padding-10"},se={class:"sidebar"},te=n(()=>e("h2",null,"Sidebar",-1)),oe={class:"checkbox"},re=n(()=>e("label",{for:"checkbox"},[e("span",null,'Show "News" tab')],-1)),ne={class:"checkbox"},ae=n(()=>e("label",{for:"checkbox2"},[e("span",null,'Show "Sports" tab')],-1)),le={class:"sidebar"},ie=n(()=>e("h2",null,"Player",-1)),de={class:"checkbox"},ce=n(()=>e("label",{for:"checkbox3"},[e("span",null,"Play in browser")],-1)),he={class:"sidebar"},_e=n(()=>e("h2",null,"Cloud Synchronisation",-1)),ge={class:"wrapTogether spaceBetween"},pe={class:"spotify"},ue=n(()=>e("h2",null,"Spotify",-1)),me=n(()=>e("summary",null,"How to",-1)),fe=S("1) Head over to the "),be=n(()=>e("p",null,"2) Create An App",-1)),we=n(()=>e("p",null,"3) Enter any name and any description",-1)),ve=n(()=>e("p",null,[S("4) Edit the settings: set the redirect url to "),e("a",{href:"http://reap.ml/"},"http://reap.ml/")],-1)),ye=n(()=>e("p",null,"5) Copy and enter the client id and secret into the corresponding input field",-1)),Se={class:"wrapTogether"},ke=n(()=>e("p",null,"Client ID: ",-1)),Ce={class:"wrapTogether"},Te=n(()=>e("p",null,"Client Secret: ",-1)),xe={class:"wrapTogether spaceBetween"},Be=n(()=>e("h2",null,"Themes",-1)),Ie={class:"checkbox"},Ne=n(()=>e("label",{for:"checkbox3"},[e("span",null,"Cover as background")],-1));function Ae(a,s,d,h,r,o){const l=w("theme"),g=w("full-shelf");return c(),p("div",$,[e("div",ee,[e("div",se,[te,e("div",oe,[i(e("input",{onChange:s[0]||(s[0]=(...t)=>o.changeShowNewsTab&&o.changeShowNewsTab(...t)),"onUpdate:modelValue":s[1]||(s[1]=t=>r.showNewsTab=t),type:"checkbox",id:"checkbox",name:"",value:""},null,544),[[_,r.showNewsTab]]),re]),e("div",ne,[i(e("input",{onChange:s[2]||(s[2]=(...t)=>o.changeShowSportsTab&&o.changeShowSportsTab(...t)),"onUpdate:modelValue":s[3]||(s[3]=t=>r.showSportsTab=t),type:"checkbox",id:"checkbox2",name:"",value:""},null,544),[[_,r.showSportsTab]]),ae])]),e("div",le,[ie,e("div",de,[i(e("input",{onChange:s[4]||(s[4]=(...t)=>o.changePlayInBrowser&&o.changePlayInBrowser(...t)),"onUpdate:modelValue":s[5]||(s[5]=t=>r.playInBrowser=t),type:"checkbox",id:"checkbox3",name:"",value:""},null,544),[[_,r.playInBrowser]]),ce])]),e("div",he,[_e,e("div",ge,[e("button",{onClick:s[6]||(s[6]=t=>a.$router.push("/export"))},"Save"),e("button",{onClick:s[7]||(s[7]=t=>a.$router.push("/import"))},"Restore")])]),e("div",pe,[ue,e("details",null,[me,e("p",null,[fe,e("a",{onClick:s[8]||(s[8]=()=>a.redirect("https://developer.spotify.com/dashboard/applications"))},"spotify developer dashboard")]),be,we,ve,ye]),e("div",Se,[ke,i(e("input",{type:"text","onUpdate:modelValue":s[9]||(s[9]=t=>r.spotifyClientId=t)},null,512),[[f,r.spotifyClientId]])]),e("div",Ce,[Te,i(e("input",{type:"text","onUpdate:modelValue":s[10]||(s[10]=t=>r.spotifyClientSecret=t)},null,512),[[f,r.spotifyClientSecret]])]),e("div",xe,[e("button",{onClick:s[11]||(s[11]=(...t)=>o.saveSpotify&&o.saveSpotify(...t))},"save"),e("button",{onClick:s[12]||(s[12]=(...t)=>o.saveRestrictedMode&&o.saveRestrictedMode(...t)),class:"restrictedMode"},"enter restricted mode")])])]),e("div",null,[Be,e("div",Ie,[i(e("input",{onChange:s[13]||(s[13]=(...t)=>o.changeCoverAsBackground&&o.changeCoverAsBackground(...t)),"onUpdate:modelValue":s[14]||(s[14]=t=>r.coverAsBackground=t),type:"checkbox",id:"checkbox3",name:"",value:""},null,544),[[_,r.coverAsBackground]]),Ne]),(c(),b(g,{key:r.themeSelected},{default:L(()=>[(c(!0),p(q,null,z(r.themes,(t,k)=>(c(),b(l,{onSelected:o.updateThemes,key:k,name:t},null,8,["onSelected","name"]))),128))]),_:1}))])])}var Me=y(Z,[["render",Ae],["__scopeId","data-v-f168d0a8"]]);export{Me as default};
