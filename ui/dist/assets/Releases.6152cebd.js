import{F as w}from"./FullShelf.18972ec8.js";import{I}from"./ReleaseItem.ba5162f9.js";import{A as B}from"./AddAlbumToPlaylist.ceac6dff.js";import{_ as D,e as i,o,c,g as S,a as n,t as g,d as _,f as l,w as p,F as v,i as y}from"./index.2e38b25c.js";import{C as A}from"./CollectionHeader.d9322357.js";import"./MiniPlayer.ff4a4730.js";import"./FindSources.08f78238.js";const C={components:{AddAlbumToPlaylist:B},name:"ReleaseItemBig",methods:{redirect(){this.$refs.addAlbum.showModal=!0}},props:{cover:String,title:String,artist:String,href:String,releaseDate:String}},N={class:"itemBig"},x=["src"],R={class:"wrapper"},F={key:0,class:"note"};function j(u,s,t,a,r,d){const h=i("add-album-to-playlist");return o(),c("div",N,[S(h,{id:this.href.replace("https://open.spotify.com/album/",""),cover:t.cover,title:t.title,artist:t.artist,href:t.href,ref:"addAlbum"},null,8,["id","cover","title","artist","href"]),n("div",{class:"item",onClick:s[0]||(s[0]=(...f)=>d.redirect&&d.redirect(...f))},[n("img",{src:t.cover},null,8,x),n("div",R,[n("h4",null,g(t.title),1),n("p",null,g(t.artist),1),t.releaseDate?(o(),c("p",F,"Released on "+g(t.releaseDate),1)):_("",!0)])])])}const H=D(C,[["render",j],["__scopeId","data-v-c4b0caa6"]]);const M={components:{CollectionHeader:A,FullShelf:w,Item:I,ItemBig:H},name:"Releases",data(){return{outSoon:[],outNow:[],outAlready:[]}},mounted(){fetch("/api/releases").then(u=>u.json()).then(u=>{const s=new Date;for(const t of u){const a=new Date(t.releaseDate);s<a?this.outSoon.push(t):s.getMonth()==a.getMonth()&&s.getDate()==a.getDate()&&s.getFullYear()==a.getFullYear()?this.outNow.push(t):this.outAlready.push(t)}})}},V={class:"padding-20"},O={class:"releases"};function Y(u,s,t,a,r,d){const h=i("CollectionHeader"),f=i("item-big"),m=i("full-shelf"),b=i("ItemBig"),k=i("Item");return o(),c("div",V,[S(h),n("div",O,[r.outSoon.length?(o(),l(m,{key:0,heading:"Out Soon"},{default:p(()=>[(o(!0),c(v,null,y(r.outSoon,e=>(o(),l(f,{key:e.url,releaseDate:e.releaseDate,cover:e.cover,href:e.url,artist:e.artists.join(", "),title:e.title},null,8,["releaseDate","cover","href","artist","title"]))),128))]),_:1})):_("",!0),r.outNow.length?(o(),l(m,{key:1,heading:"Out Now"},{default:p(()=>[(o(!0),c(v,null,y(r.outNow,e=>(o(),l(b,{key:e.url,releaseDate:e.releaseDate,cover:e.cover,href:e.url,artist:e.artists.join(", "),title:e.title},null,8,["releaseDate","cover","href","artist","title"]))),128))]),_:1})):_("",!0),r.outAlready.length?(o(),l(m,{key:2,heading:"Releases"},{default:p(()=>[(o(!0),c(v,null,y(r.outAlready,e=>(o(),l(k,{key:e.url,releaseDate:e.releaseDate,cover:e.cover,href:e.url,artist:e.artists.join(", "),title:e.title},null,8,["releaseDate","cover","href","artist","title"]))),128))]),_:1})):_("",!0)])])}const J=D(M,[["render",Y],["__scopeId","data-v-88657c39"]]);export{J as default};
