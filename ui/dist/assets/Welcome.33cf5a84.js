import{_,o as i,c as r,a as e,j as y,F as g,i as v,f as C,l as a,m as h,d as T,p as S,h as w,b as u,e as b}from"./index.e2c20db6.js";const k={name:"ThemeSmall",props:{name:String},data(){return{src:new URL({}[`/src/assets/images/themes/${this.name}.svg`],self.location).href}},methods:{selected(){return window.getCurrentTheme()==this.name},select(){window.setTheme(this.name),this.$emit("selected")}}},I=["src"];function R(s,o,p,m,n,l){return i(),r("div",{onClick:o[0]||(o[0]=(...c)=>l.select&&l.select(...c)),class:"wrapper"},[e("img",{src:n.src,class:y({selected:l.selected()})},null,10,I)])}var x=_(k,[["render",R],["__scopeId","data-v-644c0063"]]);const A={components:{ThemeSmall:x},methods:{updateThemes(){this.mode++},redirect(s){window.open(s)},finalRedirectRestricted(){this.spotifyClientId||this.spotifyClientSecret||fetch("/api/config/spotify",{method:"POST",body:JSON.stringify({id:"restricted",secret:"restricted"})}).then(s=>{s.status==200&&(setTimeout(()=>fetch("/api/releases"),1e3),this.mode++,setTimeout(()=>{this.$router.push("/")},6*1e3))})},finalRedirect(){!this.spotifyClientId||!this.spotifyClientSecret||fetch("/api/config/spotify",{method:"POST",body:JSON.stringify({id:this.spotifyClientId,secret:this.spotifyClientSecret})}).then(s=>{s.status==200&&(setTimeout(()=>fetch("/api/releases"),1e3),setTimeout(()=>fetch("/api/news/articles"),1e3),this.mode++,setTimeout(()=>{this.$router.push("/")},6*1e3))})}},data(){setInterval(()=>{if(this.mode<3){this.mode++;return}},7*1e3);const s=["night-jade","night-cobalt","night-crimson","night-fire","apollo","gradient","underground","default","royal","ruby","light","light-royal","light-ruby"],o=window.getCurrentTheme();return{mode:0,themes:s,themeSelected:o,spotifyClientId:"",spotifyClientSecret:""}},mounted(){fetch("/api/config").then(s=>{s.status==200&&this.$router.push("/")})}},t=s=>(S("data-v-4a021ec0"),s=s(),w(),s),E={class:"welcome bouncy centred-column"},N={key:0,class:"first centred-column"},O=t(()=>e("p",null,"Welcome to",-1)),B=t(()=>e("h1",null,"reAudioPlayer ONE",-1)),V=[O,B],Y={key:1,class:"first centred-column"},L=t(()=>e("p",null,"The free audio player with the most extensive catalogue",-1)),P=t(()=>e("h1",null,"ARE YOU READY?",-1)),U=[L,P],D={key:2,class:"first centred-column"},W=t(()=>e("h1",null,"Almost There",-1)),j=t(()=>e("p",null,"After a few configurations you're ready to go",-1)),F=[W,j],H={key:3,class:"permanent centred-column"},J=t(()=>e("h1",null,"Pick a Theme",-1)),M=t(()=>e("p",null,"You'll be able to change the theme at any point later on",-1)),z=t(()=>e("br",null,null,-1)),G={class:"centred-column appear-delayed"},q={key:4,class:"permanent centred-column"},K=t(()=>e("h1",null,"Let's integrate Spotify then!",-1)),Q=t(()=>e("p",null,"You'll be able to change the tokens at any point later on",-1)),X=t(()=>e("br",null,null,-1)),Z={class:"centred-column appear-delayed"},$=u("1) Head over to the "),ee=t(()=>e("p",null,"2) Create An App",-1)),te=t(()=>e("p",null,"3) Enter any name and any description",-1)),se=t(()=>e("p",null,[u("4) Edit the settings: set the redirect url to "),e("a",{href:"http://reap.ml/"},"http://reap.ml/")],-1)),oe=t(()=>e("p",null,"5) Copy and enter the client id and secret into the corresponding input field",-1)),ne=t(()=>e("br",null,null,-1)),ie={class:"wrapTogether"},le=t(()=>e("p",null,"Client ID: ",-1)),re={class:"wrapTogether"},de=t(()=>e("p",null,"Client Secret: ",-1)),ce={class:"wrapTogether spaceBetween"},ae={key:5,class:"centred-column"},he=t(()=>e("h1",null,"ALRIGHT!",-1)),_e=t(()=>e("p",null,"You're ready to go",-1)),ue=[he,_e];function pe(s,o,p,m,n,l){const c=b("theme-small");return i(),r("div",E,[n.mode==0?(i(),r("div",N,V)):n.mode==1?(i(),r("div",Y,U)):n.mode==2?(i(),r("div",D,F)):n.mode==3?(i(),r("div",H,[J,M,z,e("div",G,[(i(),r("div",{class:"themes",key:n.themeSelected},[(i(!0),r(g,null,v(n.themes,(d,f)=>(i(),C(c,{onSelected:l.updateThemes,key:f,name:d},null,8,["onSelected","name"]))),128))]))])])):n.mode==4?(i(),r("div",q,[K,Q,X,e("div",Z,[e("p",null,[$,e("a",{onClick:o[0]||(o[0]=()=>l.redirect("https://developer.spotify.com/dashboard/applications"))},"spotify developer dashboard")]),ee,te,se,oe,ne,e("div",ie,[le,a(e("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=d=>n.spotifyClientId=d)},null,512),[[h,n.spotifyClientId]])]),e("div",re,[de,a(e("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=d=>n.spotifyClientSecret=d)},null,512),[[h,n.spotifyClientSecret]])]),e("div",ce,[e("button",{onClick:o[3]||(o[3]=(...d)=>l.finalRedirect&&l.finalRedirect(...d))},"continue"),e("button",{onClick:o[4]||(o[4]=(...d)=>l.finalRedirectRestricted&&l.finalRedirectRestricted(...d)),class:"restrictedMode"},"enter restricted mode")])])])):n.mode==5?(i(),r("div",ae,ue)):T("",!0)])}var fe=_(A,[["render",pe],["__scopeId","data-v-4a021ec0"]]);export{fe as default};
