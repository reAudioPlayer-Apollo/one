(function(t){function e(e){for(var i,a,r=e[0],l=e[1],s=e[2],d=0,b=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&b.push(c[a][0]),c[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(b.length)b.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,r=1;r<n.length;r++){var l=n[r];0!==c[l]&&(i=!1)}i&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},c={app:0},o=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var s=0;s<r.length;s++)e(r[s]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("c275")},"0156":function(t,e,n){"use strict";n("a12a")},"0b0a":function(t,e,n){"use strict";n("bd7b")},"0f93":function(t,e,n){"use strict";n("9420")},"19da":function(t,e,n){"use strict";n("88d8")},"1b69":function(t,e,n){"use strict";n("5231")},"20f8":function(t,e,n){"use strict";n("e8ed")},"22ef":function(t,e,n){},"26d0":function(t,e,n){"use strict";n("f767")},2875:function(t,e,n){"use strict";n("7d60")},2952:function(t,e,n){"use strict";n("44a3")},"2a4f":function(t,e,n){"use strict";n("40ed")},3037:function(t,e,n){"use strict";n("9026")},"3b4e":function(t,e,n){"use strict";n("781c")},"40ed":function(t,e,n){},"420a":function(t,e,n){},"44a3":function(t,e,n){},"466a":function(t,e,n){"use strict";n("420a")},"4b5e":function(t,e,n){},"4e80":function(t,e,n){},5231:function(t,e,n){},5717:function(t,e,n){"use strict";n("4b5e")},"58ec":function(t,e,n){"use strict";n("7182")},"648f":function(t,e,n){"use strict";n("4e80")},6626:function(t,e,n){},6832:function(t,e,n){},6926:function(t,e,n){},"6caa":function(t,e,n){},"6e05":function(t,e,n){"use strict";n("f096")},7182:function(t,e,n){},7794:function(t,e,n){},"781c":function(t,e,n){},"7d60":function(t,e,n){},"88d8":function(t,e,n){},"8b2f":function(t,e,n){"use strict";n("6832")},"8f71":function(t,e,n){},9026:function(t,e,n){},"915a":function(t,e,n){"use strict";n("22ef")},9420:function(t,e,n){},"99a9":function(t,e,n){},"9f1b":function(t,e,n){"use strict";n("f3b6")},a12a:function(t,e,n){},aaa9:function(t,e,n){"use strict";n("6caa")},ae21:function(t,e,n){},afd1:function(t,e,n){"use strict";n("6926")},b3fc:function(t,e,n){"use strict";n("ae21")},bd7b:function(t,e,n){},c063:function(t,e,n){"use strict";n("99a9")},c275:function(t,e,n){"use strict";n.r(e);var i=n("69be"),c={class:"appRoot"},o={class:"interface"};function a(t,e,n,a,r,l){var s=Object(i["I"])("Sidebar"),u=Object(i["I"])("Body"),d=Object(i["I"])("Player");return Object(i["A"])(),Object(i["h"])("div",c,[Object(i["i"])("div",o,[Object(i["l"])(s),Object(i["l"])(u)]),Object(i["l"])(d)])}var r={class:"body"};function l(t,e,n,c,o,a){var l=Object(i["I"])("router-view");return Object(i["A"])(),Object(i["h"])("div",r,[Object(i["l"])(l)])}var s={name:"Body"},u=(n("2875"),n("1c27")),d=n.n(u);const b=d()(s,[["render",l],["__scopeId","data-v-26006ec5"]]);var f=b,p=function(t){return Object(i["D"])("data-v-4e8bc54a"),t=t(),Object(i["B"])(),t},h={class:"player"},O={class:"left"},j=["src"],v={class:"titleartist"},m={class:"title"},y={class:"artist"},g={class:"centre"},S={class:"upper"},k=p((function(){return Object(i["i"])("span",{class:"material-icons-round defaultbtn"},"shuffle",-1)})),A=p((function(){return Object(i["i"])("span",{class:"material-icons-round defaultbtn"},"repeat",-1)})),_={class:"lower"},w={class:"positionLabel"},C={class:"positionLabel"},N={class:"right"},P=p((function(){return Object(i["i"])("span",{class:"material-icons-round defaultbtn"},"volume_up",-1)}));function x(t,e,n,c,o,a){return Object(i["A"])(),Object(i["h"])("div",h,[Object(i["i"])("div",O,[Object(i["i"])("img",{src:o.cover},null,8,j),Object(i["i"])("div",v,[Object(i["i"])("span",m,Object(i["N"])(o.title),1),Object(i["i"])("span",y,Object(i["N"])(o.artist),1)]),Object(i["i"])("span",{onClick:e[0]||(e[0]=function(t){return o.favourited=!o.favourited}),class:"favourite material-icons-round"},Object(i["N"])(o.favourited?"favorite":"favorite_border"),1)]),Object(i["i"])("div",g,[Object(i["i"])("div",S,[k,Object(i["i"])("span",{onClick:e[1]||(e[1]=function(t){return a.get("last")}),class:"material-icons-round defaultbtn"},"skip_previous"),Object(i["i"])("span",{onClick:e[2]||(e[2]=function(t){return a.get("playPause")}),class:"material-icons-round circle"},Object(i["N"])(o.playing?"pause_circle":"play_circle"),1),Object(i["i"])("span",{onClick:e[3]||(e[3]=function(t){return a.get("next")}),class:"material-icons-round defaultbtn"},"skip_next"),A]),Object(i["i"])("div",_,[Object(i["i"])("span",w,Object(i["N"])(o.progresslbl),1),Object(i["U"])(Object(i["i"])("input",{onChange:e[4]||(e[4]=function(){return a.progresschange&&a.progresschange.apply(a,arguments)}),"onUpdate:modelValue":e[5]||(e[5]=function(t){return o.progress=t}),max:"1000",type:"range",class:"progress"},null,544),[[i["Q"],o.progress]]),Object(i["i"])("span",C,Object(i["N"])(o.durationStr),1)])]),Object(i["i"])("div",N,[P,Object(i["i"])("input",{onChange:e[6]||(e[6]=function(){return a.volumechange&&a.volumechange.apply(a,arguments)}),ref:"volume",type:"range",class:"volume"},null,544)])])}n("3efd"),n("dfac"),n("07e6"),n("e932"),n("500c"),n("f258"),n("c7c6");var T=n("a258"),I={name:"Player",props:{favourite:{type:Boolean,default:!1}},setup:function(){Object(T["a"])({keyEvent:"keydown",keyBinds:[{keyCode:"space",success:function(){return fetch("http://localhost:1234/api/playPause")}}]})},data:function(){var t=this,e=this;function n(){console.log("attempting reconnect");var t=new WebSocket("ws://localhost:1234/ws");t.onclose=function(){console.log("ws closed"),setTimeout(n,1e3)},t.onopen=function(){console.log("ws connected")},t.onmessage=function(t){var n=JSON.parse(t.data);e.updateData(n)}}return n(),setInterval((function(){if(e.playing){var t=60*Number(e.durationStr.split(":")[0])+Number(e.durationStr.split(":")[1]),n=60*Number(e.progresslbl.split(":")[0])+Number(e.progresslbl.split(":")[1]);n+=1,e.progress=n/t*1e3,e.progresslbl="".concat(Math.floor(n/60),":").concat(e.zeroPad(n%60,2))}}),1e3),fetch("http://localhost:1234/api/getVolume").then((function(t){return t.text()})).then((function(e){t.$refs.volume.value=e})),{favourited:this.favourite,title:"N/A",artist:"N/A",durationStr:"0:00",cover:"/assets/img/music_placeholder.png",playing:!1,progress:0,progresslbl:"0:00"}},methods:{playPause:function(){console.log("playpause"),this.get("playPause")},get:function(t){fetch("http://localhost:1234/api/".concat(t))},volumechange:function(){fetch("http://localhost:1234/api/setVolume",{method:"POST",body:JSON.stringify({value:this.$refs.volume.value})})},zeroPad:function(t,e){return String(t).padStart(e,"0")},progresschange:function(){var t=60*Number(this.durationStr.split(":")[0])+Number(this.durationStr.split(":")[1]),e=this.progress*t/1e3;this.progresslbl="".concat(Math.floor(e/60),":").concat(this.zeroPad(Math.round(e%60),2)),fetch("http://localhost:1234/api/setPos",{method:"POST",body:JSON.stringify({value:e})})},updateData:function(t){var e,n,i,c;if("player.song"==t.path)return this.title=(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.title)||"N/A",this.artist=(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.artist)||"N/A",this.durationStr=(null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.duration)||"N/A",this.cover=(null===t||void 0===t||null===(c=t.data)||void 0===c?void 0:c.cover)||"/assets/img/music_placeholder.png",void(this.progresslbl="0:00");if("player.playState"!=t.path){if("player.posSync"==t.path){var o=(null===t||void 0===t?void 0:t.data)||0;this.progresslbl="".concat(Math.floor(o/60),":").concat(this.zeroPad(Math.round(o%60),2))}}else this.playing=(null===t||void 0===t?void 0:t.data)||!1}}};n("e06d");const M=d()(I,[["render",x],["__scopeId","data-v-4e8bc54a"]]);var $=M,D=(n("a15b"),function(t){return Object(i["D"])("data-v-41774380"),t=t(),Object(i["B"])(),t}),H={class:"sidebar"},U=D((function(){return Object(i["i"])("h2",null,"reAudioPlayer Online",-1)})),B=D((function(){return Object(i["i"])("br",null,null,-1)})),V=D((function(){return Object(i["i"])("br",null,null,-1)})),E=D((function(){return Object(i["i"])("hr",null,null,-1)})),J={class:"playlistList"};function F(t,e,n,c,o,a){var r=Object(i["I"])("nav-entry"),l=Object(i["I"])("router-link");return Object(i["A"])(),Object(i["h"])("div",H,[U,B,Object(i["l"])(r,{href:"/",icon:"home",name:"Home"}),Object(i["l"])(r,{href:"/search",icon:"search",name:"Search"}),Object(i["l"])(r,{href:"/collection/playlists",icon:"library_music",name:"Your Library"}),V,Object(i["l"])(r,{href:"/playlist/create",icon:"add_circle",name:"Create Playlist"}),Object(i["l"])(r,{href:"/collection/tracks",icon:"favorite",name:"Liked Songs"}),E,Object(i["i"])("div",J,[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.playlists,(function(t,e){return Object(i["A"])(),Object(i["f"])(l,{key:e,to:t.href},{default:Object(i["T"])((function(){return[Object(i["k"])(Object(i["N"])(t.name),1)]})),_:2},1032,["to"])})),128))])])}var G={class:"navEntry"},Q={class:"material-icons-round icon"},R={class:"name"};function L(t,e,n,c,o,a){var r=Object(i["I"])("router-link");return Object(i["A"])(),Object(i["f"])(r,{class:"link",to:n.href},{default:Object(i["T"])((function(){return[Object(i["i"])("div",G,[Object(i["i"])("span",Q,Object(i["N"])(n.icon),1),Object(i["i"])("span",R,Object(i["N"])(n.name),1)])]})),_:1},8,["to"])}var q={name:"NavEntry",props:{icon:String,name:String,href:String}};n("58ec");const Y=d()(q,[["render",L],["__scopeId","data-v-190bd65e"]]);var z=Y,W={name:"Sidebar",components:{NavEntry:z},data:function(){var t=this;return fetch("http://localhost:1234/api/playlists").then((function(t){return t.json()})).then((function(e){for(var n=0;n<e.length;n++)t.playlists.push({name:e[n],href:"/playlist/".concat(n)})})),{playlists:[]}}};n("2952");const X=d()(W,[["render",F],["__scopeId","data-v-41774380"]]);var K=X,Z=(n("1a57"),{name:"App",components:{Sidebar:K,Body:f,Player:$}});n("5717"),n("0f93");const tt=d()(Z,[["render",a]]);var et=tt,nt=n("50c9"),it=n("5e83"),ct=n("5211"),ot={class:"home"};function at(t,e,n,c,o,a){return Object(i["A"])(),Object(i["h"])("div",ot," Home ")}var rt={name:"Home"};const lt=d()(rt,[["render",at]]);var st=lt,ut=function(t){return Object(i["D"])("data-v-1611bcb5"),t=t(),Object(i["B"])(),t},dt={class:"playlist"},bt=Object(i["k"])("Playlist"),ft=ut((function(){return Object(i["i"])("hr",null,null,-1)})),pt={class:"padding-20"},ht={class:"grid"},Ot=ut((function(){return Object(i["i"])("hr",null,null,-1)})),jt={class:"playlistEntries"};function vt(t,e,n,c,o,a){var r=Object(i["I"])("AddSong"),l=Object(i["I"])("EditPlaylist"),s=Object(i["I"])("fixed-playlist-header"),u=Object(i["I"])("h7"),d=Object(i["I"])("grid-header"),b=Object(i["I"])("playlist-entry"),f=Object(i["J"])("observe-visibility");return Object(i["A"])(),Object(i["h"])("div",dt,[Object(i["l"])(r,{onClose:a.updatePlaylist,ref:"addSongPopup"},null,8,["onClose"]),Object(i["l"])(l,{onClose:a.updatePlaylist,playlistName:o.playlistName,playlistDescription:o.playlistDescription,ref:"editPlaylistPopup"},null,8,["onClose","playlistName","playlistDescription"]),Object(i["l"])(s,{onClick:a.loadPlaylist,ref:"fixedHeading",class:Object(i["u"])({hidden:o.fixedHeaderHidden}),title:o.playlistName},null,8,["onClick","class","title"]),Object(i["U"])((Object(i["A"])(),Object(i["h"])("div",{class:"padding-20 playlisteditor",onClick:e[0]||(e[0]=function(){return a.editPlaylist&&a.editPlaylist.apply(a,arguments)})},[Object(i["l"])(u,null,{default:Object(i["T"])((function(){return[bt]})),_:1}),Object(i["i"])("h1",null,Object(i["N"])(o.playlistName),1),Object(i["i"])("h5",null,Object(i["N"])(o.playlistDescription),1)])),[[f,a.headerVisibilityChanged]]),ft,Object(i["i"])("div",pt,[Object(i["i"])("span",{id:"loadPlaylist",onClick:e[1]||(e[1]=function(){return a.loadPlaylist&&a.loadPlaylist.apply(a,arguments)}),class:"material-icons-outlined"},"play_circle_filled"),Object(i["i"])("span",{id:"addToPlaylist",onClick:e[2]||(e[2]=function(){return a.addToPlaylist&&a.addToPlaylist.apply(a,arguments)}),class:"material-icons-outlined"},"add_circle"),Object(i["i"])("div",ht,[Object(i["l"])(d),Ot,Object(i["i"])("div",jt,[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.playlist,(function(t,e){return Object(i["A"])(),Object(i["f"])(b,{key:e,index:e,source:t.source,playing:t.playing,id:t.id,title:t.title,album:t.album,artist:t.artist,cover:t.cover,favourite:t.favourite,duration:t.duration},null,8,["index","source","playing","id","title","album","artist","cover","favourite","duration"])})),128))])])])])}var mt=n("1494"),yt=(n("4228"),n("526b"),{class:"fixedPlaylistHeader"}),gt={class:"upperWrapper"};function St(t,e,n,c,o,a){var r=this,l=Object(i["I"])("grid-header");return Object(i["A"])(),Object(i["h"])("div",yt,[Object(i["i"])("div",gt,[Object(i["i"])("span",{id:"loadPlaylist",onClick:e[0]||(e[0]=function(t){return r.$emit("click")}),class:"material-icons-outlined"},"play_circle_filled"),Object(i["i"])("h3",null,Object(i["N"])(n.title),1)]),Object(i["l"])(l,{class:"padding-20 darkback"})])}var kt=function(t){return Object(i["D"])("data-v-e629699e"),t=t(),Object(i["B"])(),t},At={class:"gridHeader"},_t=kt((function(){return Object(i["i"])("span",{class:"id"},"#",-1)})),wt=kt((function(){return Object(i["i"])("span",{class:"title"},"Title",-1)})),Ct=kt((function(){return Object(i["i"])("span",{class:"album"},"Album",-1)})),Nt=kt((function(){return Object(i["i"])("span",{class:"clock material-icons-round"},"schedule",-1)})),Pt=[_t,wt,Ct,Nt];function xt(t,e,n,c,o,a){return Object(i["A"])(),Object(i["h"])("div",At,Pt)}var Tt={name:"GridHeader"};n("466a");const It=d()(Tt,[["render",xt],["__scopeId","data-v-e629699e"]]);var Mt=It,$t={name:"FixedPlaylistHeader",components:{GridHeader:Mt},props:{title:String}};n("c063");const Dt=d()($t,[["render",St],["__scopeId","data-v-06795e71"]]);var Ht=Dt,Ut={class:"track"},Bt=["src"],Vt={class:"trackwrapper"},Et={class:"duration"};function Jt(t,e,n,c,o,a){var r=Object(i["I"])("EditSong"),l=Object(i["I"])("SongCtx");return Object(i["A"])(),Object(i["f"])(l,{onRemove:a.remove,onUpdate:a.update,onLike:e[7]||(e[7]=function(t){return o.favourited=!o.favourited}),isAutoPlaylist:o.isAutoPlaylist,liked:o.favourited,ref:"ctxMenu"},{default:Object(i["T"])((function(){return[Object(i["l"])(r,{onClose:t.updatePlaylist,ref:"editSongPopup",cover:n.cover,id:n.id,title:n.title,album:n.album,artist:n.artist,source:n.source},null,8,["onClose","cover","id","title","album","artist","source"]),Object(i["i"])("div",{onDblclick:e[3]||(e[3]=function(){a.playAt(),a.onselect()}),onClick:e[4]||(e[4]=function(){return a.onselect&&a.onselect.apply(a,arguments)}),onMouseover:e[5]||(e[5]=function(){return a.displayPlay&&a.displayPlay.apply(a,arguments)}),onMouseleave:e[6]||(e[6]=function(){return a.displayId&&a.displayId.apply(a,arguments)}),class:Object(i["u"])(["playlistEntry",{selected:o.highlighted}])},[Object(i["i"])("span",{onClick:e[0]||(e[0]=function(){return a.playAt&&a.playAt.apply(a,arguments)}),ref:"idOrPlay",class:Object(i["u"])([{playing:n.playing},"id"])},Object(i["N"])(n.index+1),3),Object(i["i"])("div",Ut,[Object(i["i"])("img",{src:n.cover||"/assets/img/music_placeholder.png"},null,8,Bt),Object(i["i"])("div",Vt,[Object(i["i"])("span",{class:Object(i["u"])(["title",{playing:n.playing}])},Object(i["N"])(n.title),3),Object(i["i"])("span",{class:Object(i["u"])(["artist",{playing:n.playing}])},Object(i["N"])(n.artist),3)])]),Object(i["i"])("span",{class:Object(i["u"])(["album",{playing:n.playing}])},Object(i["N"])(n.album),3),Object(i["i"])("span",{onClick:e[1]||(e[1]=function(t){return o.favourited=!o.favourited}),class:Object(i["u"])(["favourite material-icons-round",{showfavourite:o.favourited||o.highlighted}])},Object(i["N"])(o.favourited?"favorite":"favorite_border"),3),Object(i["i"])("span",Et,Object(i["N"])(n.duration),1),Object(i["i"])("span",{onClick:e[2]||(e[2]=function(){return a.showCtxMenu&&a.showCtxMenu.apply(a,arguments)}),class:Object(i["u"])(["more material-icons-round",{hidden:!o.highlighted}])},"more_horiz",2)],34)]})),_:1},8,["onRemove","onUpdate","isAutoPlaylist","liked"])}var Ft={ref:"box"},Gt=Object(i["k"])("Remove from this playlist"),Qt=Object(i["k"])("Add to playlist"),Rt=Object(i["k"])("Update Metadata"),Lt=Object(i["k"])("Share");function qt(t,e,n,c,o,a){var r=Object(i["I"])("v-contextmenu-item"),l=Object(i["I"])("v-contextmenu-divider"),s=Object(i["I"])("v-contextmenu"),u=Object(i["J"])("contextmenu");return Object(i["U"])((Object(i["A"])(),Object(i["h"])("div",Ft,[Object(i["H"])(t.$slots,"default"),Object(i["l"])(s,{ref:"contextmenu"},{default:Object(i["T"])((function(){return[Object(i["l"])(r,{onClick:a.like},{default:Object(i["T"])((function(){return[Object(i["k"])(Object(i["N"])((n.liked?"Remove from":"Save to")+" your Liked Songs"),1)]})),_:1},8,["onClick"]),n.isAutoPlaylist?Object(i["g"])("",!0):(Object(i["A"])(),Object(i["f"])(r,{key:0,onClick:a.remove},{default:Object(i["T"])((function(){return[Gt]})),_:1},8,["onClick"])),Object(i["l"])(r,{onClick:a.addto},{default:Object(i["T"])((function(){return[Qt]})),_:1},8,["onClick"]),Object(i["l"])(l),Object(i["l"])(r,{onClick:a.update},{default:Object(i["T"])((function(){return[Rt]})),_:1},8,["onClick"]),Object(i["l"])(l),Object(i["l"])(r,{onClick:a.share},{default:Object(i["T"])((function(){return[Lt]})),_:1},8,["onClick"])]})),_:1},512)])),[[u,void 0,"contextmenu"]])}var Yt={name:"SongCtx",props:{liked:Boolean,isAutoPlaylist:Boolean},methods:{hide:function(){this.$refs.contextmenu.hide()},show:function(t){var e=this.$refs.box.getBoundingClientRect(),n={top:e.height+e.top+window.scrollY,left:e.width+e.left+window.scrollX};this.$refs.contextmenu.show(n),null===t||void 0===t||t.stopPropagation()},like:function(){this.$emit("like")},remove:function(){this.$emit("remove")},addto:function(){this.$emit("addto")},share:function(){this.$emit("share")},update:function(){this.$emit("update")}}};const zt=d()(Yt,[["render",qt]]);var Wt=zt,Xt=function(t){return Object(i["D"])("data-v-8ac1ad8c"),t=t(),Object(i["B"])(),t},Kt={class:"wrapper"},Zt={class:"header"},te=Xt((function(){return Object(i["i"])("h3",null,"Edit song",-1)})),ee=Xt((function(){return Object(i["i"])("span",{class:"material-icons-round"}," close ",-1)})),ne=[ee],ie=Xt((function(){return Object(i["i"])("h4",null,"Source",-1)})),ce={class:"content"},oe=Xt((function(){return Object(i["i"])("h4",null,"Title",-1)})),ae={class:"content"},re=Xt((function(){return Object(i["i"])("h4",null,"Album",-1)})),le={class:"content"},se=Xt((function(){return Object(i["i"])("h4",null,"Artist",-1)})),ue={class:"content"},de=Xt((function(){return Object(i["i"])("h4",null,"Cover",-1)})),be={class:"content"},fe=["src"],pe={class:"confirm"};function he(t,e,n,c,o,a){var r=Object(i["I"])("FindSources"),l=Object(i["I"])("vue-final-modal");return Object(i["A"])(),Object(i["h"])("div",null,[Object(i["l"])(l,{onClick:a.hideFindSourcesCtx,modelValue:o.showModal,"onUpdate:modelValue":e[10]||(e[10]=function(t){return o.showModal=t}),classes:"modal-container","content-class":"modal-content"},{default:Object(i["T"])((function(){return[Object(i["i"])("div",Kt,[Object(i["i"])("div",Zt,[te,Object(i["i"])("button",{class:"modal-close",onClick:e[0]||(e[0]=function(t){return o.showModal=!1})},ne)]),ie,Object(i["l"])(r,{ref:"findSourcesEdit",title:n.title,artist:n.artist},{default:Object(i["T"])((function(){return[Object(i["i"])("div",ce,[Object(i["U"])(Object(i["i"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return o.dSource=t}),onChange:e[2]||(e[2]=function(){return a.loadMetadata&&a.loadMetadata.apply(a,arguments)}),type:"text",ref:"source"},null,544),[[i["Q"],o.dSource]]),Object(i["i"])("span",{class:"material-icons-round more",ref:"sourceMore",onClick:e[3]||(e[3]=function(){return a.opencontextmenu&&a.opencontextmenu.apply(a,arguments)})},"more_vert",512)])]})),_:1},8,["title","artist"]),oe,Object(i["i"])("div",ae,[Object(i["U"])(Object(i["i"])("input",{"onUpdate:modelValue":e[4]||(e[4]=function(t){return o.dTitle=t}),type:"text"},null,512),[[i["Q"],o.dTitle]])]),re,Object(i["i"])("div",le,[Object(i["U"])(Object(i["i"])("input",{"onUpdate:modelValue":e[5]||(e[5]=function(t){return o.dAlbum=t}),type:"text",ref:"album"},null,512),[[i["Q"],o.dAlbum]])]),se,Object(i["i"])("div",ue,[Object(i["U"])(Object(i["i"])("input",{"onUpdate:modelValue":e[6]||(e[6]=function(t){return o.dArtist=t}),type:"text"},null,512),[[i["Q"],o.dArtist]])]),de,Object(i["i"])("div",be,[Object(i["U"])(Object(i["i"])("input",{type:"text",class:"addSong cover","onUpdate:modelValue":e[7]||(e[7]=function(t){return o.dCover=t}),ref:"cover"},null,512),[[i["Q"],o.dCover]]),Object(i["i"])("img",{onClick:e[8]||(e[8]=function(){return a.openInNewTab&&a.openInNewTab.apply(a,arguments)}),class:"addSong cover",src:n.cover?n.cover:"/assets/img/music_placeholder.png"},null,8,fe)]),Object(i["i"])("div",pe,[Object(i["i"])("button",{onClick:e[9]||(e[9]=function(){return a.add&&a.add.apply(a,arguments)}),class:"negative"},"Save")])])]})),_:1},8,["onClick","modelValue"])])}n("ed98");var Oe={ref:"box"},je=Object(i["k"])("Soundcloud"),ve=Object(i["k"])("Audius"),me=Object(i["k"])("Youtube Music"),ye=Object(i["k"])("Spotify");function ge(t,e,n,c,o,a){var r=Object(i["I"])("v-contextmenu-item"),l=Object(i["I"])("v-contextmenu-submenu"),s=Object(i["I"])("v-contextmenu"),u=Object(i["J"])("contextmenu");return Object(i["U"])((Object(i["A"])(),Object(i["h"])("div",Oe,[Object(i["H"])(t.$slots,"default"),Object(i["l"])(s,{ref:"contextmenu"},{default:Object(i["T"])((function(){return[Object(i["l"])(l,{title:"Search on"},{default:Object(i["T"])((function(){return[Object(i["l"])(r,{onClick:a.openSoundcloud},{default:Object(i["T"])((function(){return[je]})),_:1},8,["onClick"]),Object(i["l"])(r,{onClick:a.openAudius},{default:Object(i["T"])((function(){return[ve]})),_:1},8,["onClick"]),Object(i["l"])(r,{onClick:a.openYoutubeMusic},{default:Object(i["T"])((function(){return[me]})),_:1},8,["onClick"]),Object(i["l"])(r,{onClick:a.openSpotify},{default:Object(i["T"])((function(){return[ye]})),_:1},8,["onClick"])]})),_:1})]})),_:1},512)])),[[u,void 0,"contextmenu"]])}var Se={name:"FindSources",props:{artist:String,title:String},methods:{hide:function(){this.$refs.contextmenu.hide()},show:function(t){var e=this.$refs.box.getBoundingClientRect(),n={top:e.height+e.top+window.scrollY,left:e.width+e.left+window.scrollX};this.$refs.contextmenu.show(n),null===t||void 0===t||t.stopPropagation()},openSoundcloud:function(){window.open("https://soundcloud.com/search?q=".concat(this.artist," ").concat(this.title))},openAudius:function(){window.open("https://audius.co/search/".concat(this.artist," ").concat(this.title))},openYoutubeMusic:function(){window.open("https://music.youtube.com/search?q=".concat(this.artist," ").concat(this.title))},openSpotify:function(){window.open("https://open.spotify.com/search/".concat(this.artist," ").concat(this.title))}}};const ke=d()(Se,[["render",ge]]);var Ae=ke,_e={name:"EditSong",components:{FindSources:Ae},props:{cover:String,album:String,artist:String,source:String,title:String,id:Number},data:function(){return{showModal:!1,dCover:this.cover,dAlbum:this.album,dArtist:this.artist,dTitle:this.title,dSource:this.source}},methods:{opencontextmenu:function(t){this.$refs.findSourcesEdit.show(t)},hideFindSourcesCtx:function(){this.$refs.findSourcesEdit.hide()},add:function(){var t=this;this.showModal=!1,console.log("fetch"),fetch("http://localhost:1234/api/updateSong",{method:"POST",body:JSON.stringify({id:this.id,source:this.dSource,title:this.dTitle,artist:this.dArtist,album:this.dAlbum,cover:this.dCover})}).then((function(e){console.log(e),t.$emit("close")}))},loadMetadata:function(){var t=this;fetch("http://localhost:1234/api/metadata",{method:"POST",body:JSON.stringify({url:this.$refs.source.value})}).then((function(t){return t.json()})).then((function(e){console.log(e),t.dTitle=e.title,t.dAlbum=e.album,t.dArtist=e.artists.join(", "),t.dCover=e.cover,t.dSource=e.src}))},openInNewTab:function(){window.open(this.cover?this.cover:"/assets/img/music_placeholder.png")}},watch:{id:function(){this.dCover=this.cover,this.dAlbum=this.album,this.dArtist=this.artist,this.dTitle=this.title,this.dSource=this.source}}};n("20f8"),n("0156");const we=d()(_e,[["render",he],["__scopeId","data-v-8ac1ad8c"]]);var Ce=we,Ne={name:"PlaylistEntry",components:{SongCtx:Wt,EditSong:Ce},props:{index:Number,id:Number,source:String,artist:{type:String,default:"N/A"},cover:{type:String,default:"/assets/img/music_placeholder.png"},title:{type:String,default:"N/A"},album:{type:String,default:"N/A"},duration:{type:String,default:"N/A"},favourite:{type:Boolean,default:!1},playing:{type:Boolean,default:!1}},data:function(){return{highlighted:!1,favourited:this.favourite,isAutoPlaylist:"/collection/tracks"==this.$route.path}},methods:{remove:function(){fetch("http://localhost:1234/api/remove",{method:"POST",body:JSON.stringify({playlistId:Number(this.$route.params.id),songId:this.id})})},update:function(){this.$refs.editSongPopup.showModal=!0},hideCtxMenu:function(){this.$refs.ctxMenu.hide()},showCtxMenu:function(t){console.log("show"),this.$refs.ctxMenu.show(t)},onselect:function(){this.highlighted=!this.highlighted,this.hideCtxMenu()},displayPlay:function(){var t=this.$refs.idOrPlay;t.innerHTML="play_arrow",t.classList.add("material-icons-round")},displayId:function(){var t=this.$refs.idOrPlay;t.innerHTML=this.index+1,t.classList.remove("material-icons-round")},playAt:function(){fetch("http://localhost:1234/api/at",{method:"POST",body:JSON.stringify({index:this.index})})},setFavourite:function(){fetch("http://localhost:1234/api/updateSong",{method:"POST",body:JSON.stringify({id:this.id,favourite:this.favourited,album:this.album,artist:this.artist,title:this.title,duration:this.duration,cover:this.cover,source:this.source})})}},watch:{favourited:function(){this.setFavourite()},favourite:function(){console.log("mounted",this.title,this.favourite,this.favourited),this.favourited=this.favourite,this.highlighted=!1}}};n("1b69");const Pe=d()(Ne,[["render",Jt],["__scopeId","data-v-f859ac52"]]);var xe=Pe,Te=function(t){return Object(i["D"])("data-v-5fa35514"),t=t(),Object(i["B"])(),t},Ie={class:"wrapper"},Me={class:"header"},$e=Te((function(){return Object(i["i"])("h3",null,"Add song",-1)})),De=Te((function(){return Object(i["i"])("span",{class:"material-icons-round"}," close ",-1)})),He=[De],Ue=Te((function(){return Object(i["i"])("h4",null,"Source",-1)})),Be={class:"content"},Ve=Te((function(){return Object(i["i"])("h4",null,"Title",-1)})),Ee={class:"content"},Je=Te((function(){return Object(i["i"])("h4",null,"Album",-1)})),Fe={class:"content"},Ge={type:"text",ref:"album"},Qe=Te((function(){return Object(i["i"])("h4",null,"Artist",-1)})),Re={class:"content"},Le=Te((function(){return Object(i["i"])("h4",null,"Cover",-1)})),qe={class:"content"},Ye=["src"],ze={class:"confirm"};function We(t,e,n,c,o,a){var r=Object(i["I"])("FindSources"),l=Object(i["I"])("vue-final-modal");return Object(i["A"])(),Object(i["h"])("div",null,[Object(i["l"])(l,{onClick:a.hideFindSourcesCtx,modelValue:o.showModal,"onUpdate:modelValue":e[8]||(e[8]=function(t){return o.showModal=t}),classes:"modal-container","content-class":"modal-content"},{default:Object(i["T"])((function(){return[Object(i["i"])("div",Ie,[Object(i["i"])("div",Me,[$e,Object(i["i"])("button",{class:"modal-close",onClick:e[0]||(e[0]=function(t){return o.showModal=!1})},He)]),Ue,Object(i["l"])(r,{ref:"findSources",title:o.title,artist:o.artist},{default:Object(i["T"])((function(){return[Object(i["i"])("div",Be,[Object(i["i"])("input",{onChange:e[1]||(e[1]=function(){return a.loadMetadata&&a.loadMetadata.apply(a,arguments)}),type:"text",ref:"source"},null,544),Object(i["i"])("span",{class:"material-icons-round more",ref:"sourceMore",onClick:e[2]||(e[2]=function(){return a.opencontextmenu&&a.opencontextmenu.apply(a,arguments)})},"more_vert",512)])]})),_:1},8,["title","artist"]),Ve,Object(i["i"])("div",Ee,[Object(i["U"])(Object(i["i"])("input",{"onUpdate:modelValue":e[3]||(e[3]=function(t){return o.title=t}),type:"text"},null,512),[[i["Q"],o.title]])]),Je,Object(i["i"])("div",Fe,[Object(i["i"])("input",Ge,null,512)]),Qe,Object(i["i"])("div",Re,[Object(i["U"])(Object(i["i"])("input",{"onUpdate:modelValue":e[4]||(e[4]=function(t){return o.artist=t}),type:"text"},null,512),[[i["Q"],o.artist]])]),Le,Object(i["i"])("div",qe,[Object(i["U"])(Object(i["i"])("input",{type:"text",class:"addSong cover","onUpdate:modelValue":e[5]||(e[5]=function(t){return o.cover=t}),ref:"cover"},null,512),[[i["Q"],o.cover]]),Object(i["i"])("img",{onClick:e[6]||(e[6]=function(){return a.openInNewTab&&a.openInNewTab.apply(a,arguments)}),class:"addSong cover",src:o.cover?o.cover:"/assets/img/music_placeholder.png"},null,8,Ye)]),Object(i["i"])("div",ze,[Object(i["i"])("button",{onClick:e[7]||(e[7]=function(){return a.add&&a.add.apply(a,arguments)}),class:"negative"},"Add")])])]})),_:1},8,["onClick","modelValue"])])}var Xe={name:"AddSong",components:{FindSources:Ae},data:function(){return{showModal:!1,cover:"",artist:"",title:""}},methods:{opencontextmenu:function(t){this.$refs.findSources.show(t)},hideFindSourcesCtx:function(){this.$refs.findSources.hide()},add:function(){var t=this;this.showModal=!1,console.log("fetch"),fetch("http://localhost:1234/api/add",{method:"POST",body:JSON.stringify({id:Number(this.$route.params.id),source:this.$refs.source.value,title:this.title,artist:this.artist,album:this.$refs.album.value,cover:this.cover})}).then((function(e){console.log(e),t.$emit("close")}))},loadMetadata:function(){var t=this;fetch("http://localhost:1234/api/metadata",{method:"POST",body:JSON.stringify({url:this.$refs.source.value})}).then((function(t){return t.json()})).then((function(e){console.log(e),t.title=e.title,t.$refs.album.value=e.album,t.artist=e.artists.join(", "),t.cover=e.cover,t.$refs.source.value=e.src}))},openInNewTab:function(){window.open(this.cover?this.cover:"/assets/img/music_placeholder.png")}}};n("2a4f"),n("3037");const Ke=d()(Xe,[["render",We],["__scopeId","data-v-5fa35514"]]);var Ze=Ke,tn=function(t){return Object(i["D"])("data-v-c6960088"),t=t(),Object(i["B"])(),t},en={class:"wrapper"},nn={class:"header"},cn=tn((function(){return Object(i["i"])("h3",null,"Edit details",-1)})),on=tn((function(){return Object(i["i"])("span",{class:"material-icons-round"}," close ",-1)})),an=[on],rn=tn((function(){return Object(i["i"])("h4",null,"Name",-1)})),ln={class:"content"},sn=tn((function(){return Object(i["i"])("h4",null,"Description",-1)})),un={class:"content"},dn={class:"confirm"};function bn(t,e,n,c,o,a){var r=Object(i["I"])("vue-final-modal");return Object(i["A"])(),Object(i["h"])("div",null,[Object(i["l"])(r,{modelValue:o.showModal,"onUpdate:modelValue":e[4]||(e[4]=function(t){return o.showModal=t}),classes:"modal-container","content-class":"modal-content"},{default:Object(i["T"])((function(){return[Object(i["i"])("div",en,[Object(i["i"])("div",nn,[cn,Object(i["i"])("button",{class:"modal-close",onClick:e[0]||(e[0]=function(t){return o.showModal=!1})},an)]),rn,Object(i["i"])("div",ln,[Object(i["U"])(Object(i["i"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return o.name=t}),type:"text",ref:"name"},null,512),[[i["Q"],o.name]])]),sn,Object(i["i"])("div",un,[Object(i["U"])(Object(i["i"])("input",{"onUpdate:modelValue":e[2]||(e[2]=function(t){return o.description=t}),type:"text",ref:"description"},null,512),[[i["Q"],o.description]])]),Object(i["i"])("div",dn,[Object(i["i"])("button",{onClick:e[3]||(e[3]=function(){return a.apply&&a.apply.apply(a,arguments)}),class:"negative"},"Save")])])]})),_:1},8,["modelValue"])])}var fn={name:"EditPlaylist",props:{playlistName:String,playlistDescription:String},data:function(){return{showModal:!1,cover:"",name:this.playlistName,description:this.playlistDescription}},methods:{apply:function(){var t=this;this.showModal=!1,console.log("fetch"),fetch("http://localhost:1234/api/updatePlaylist",{method:"POST",body:JSON.stringify({id:Number(this.$route.params.id),name:this.name,description:this.description})}).then((function(e){console.log(e),t.$emit("close")}))}},watch:{playlistName:function(){this.name=this.playlistName},playlistDescription:function(){this.description=this.playlistDescription}}};n("915a"),n("6e05");const pn=d()(fn,[["render",bn],["__scopeId","data-v-c6960088"]]);var hn=pn,On={components:{PlaylistEntry:xe,FixedPlaylistHeader:Ht,GridHeader:Mt,AddSong:Ze,EditPlaylist:hn},name:"Playlist",data:function(){return this.updatePlaylist(),{fixedHeaderHidden:!1,playlist:[],playlistName:"N/A",playlistDescription:""}},methods:{connect:function(){var t=this;console.log("attempting reconnect");var e=new WebSocket("ws://localhost:1234/ws");e.onclose=function(){console.log("ws closed"),setTimeout(this.connect,1e3)},e.onopen=function(){console.log("ws connected")},e.onmessage=function(e){var n=JSON.parse(e.data);t.updateData(n)}},headerVisibilityChanged:function(t){this.fixedHeaderHidden=t},addToPlaylist:function(){this.$refs.addSongPopup.showModal=!0},editPlaylist:function(){this.$refs.editPlaylistPopup.showModal=!0},updateData:function(t){if("player.song"==t.path){var e;console.log(this.playlist.length,t);var n,i=(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.title)||"N/A",c=Object(mt["a"])(this.playlist);try{for(c.s();!(n=c.n()).done;){var o=n.value;o.playing=o.title==i}}catch(a){c.e(a)}finally{c.f()}}},updatePlaylist:function(){var t=this;"create"!=this.$route.params.id?fetch("http://localhost:1234/api/playlist",{method:"POST",body:JSON.stringify({id:Number(this.$route.params.id)})}).then((function(t){return t.json()})).then((function(e){t.playlist=e.songs,t.playlistName=e.name,t.playlistDescription=e.description,console.log(t.playlist),t.connect()})):fetch("http://localhost:1234/api/playlist/create").then((function(t){return t.text()})).then((function(e){console.log(e),t.$router.push(e)}))},loadPlaylist:function(){fetch("http://localhost:1234/api/loadPlaylist",{method:"POST",body:JSON.stringify({id:Number(this.$route.params.id)})})}},watch:{$route:function(){this.updatePlaylist()}}};n("aaa9");const jn=d()(On,[["render",vt],["__scopeId","data-v-1611bcb5"]]);var vn=jn,mn={class:"search"};function yn(t,e,n,c,o,a){var r=Object(i["I"])("Item"),l=Object(i["I"])("Shelf");return Object(i["A"])(),Object(i["h"])("div",mn,[Object(i["U"])(Object(i["i"])("input",{onKeyup:e[0]||(e[0]=function(){return a.enterText&&a.enterText.apply(a,arguments)}),"onUpdate:modelValue":e[1]||(e[1]=function(t){return o.query=t}),type:"text"},null,544),[[i["Q"],o.query]]),o.tracks.length?(Object(i["A"])(),Object(i["f"])(l,{key:0,heading:"Songs"},{default:Object(i["T"])((function(){return[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.tracks,(function(t){return Object(i["A"])(),Object(i["f"])(r,{key:t.url,cover:t.cover,href:t.url,artist:t.artists.join(", "),title:t.title},null,8,["cover","href","artist","title"])})),128))]})),_:1})):Object(i["g"])("",!0),o.spotifyTracks.length?(Object(i["A"])(),Object(i["f"])(l,{key:1,heading:"Songs (Spotify)"},{default:Object(i["T"])((function(){return[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.spotifyTracks,(function(t){return Object(i["A"])(),Object(i["f"])(r,{key:t.url,cover:t.cover,href:t.url,artist:t.artists.join(", "),title:t.title},null,8,["cover","href","artist","title"])})),128))]})),_:1})):Object(i["g"])("",!0),o.youtubeTracks.length?(Object(i["A"])(),Object(i["f"])(l,{key:2,heading:"Songs (Youtube)"},{default:Object(i["T"])((function(){return[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.youtubeTracks,(function(t){return Object(i["A"])(),Object(i["f"])(r,{key:t.url,cover:t.cover,href:t.url,artist:t.artists.join(", "),title:t.title},null,8,["cover","href","artist","title"])})),128))]})),_:1})):Object(i["g"])("",!0),o.artists.length?(Object(i["A"])(),Object(i["f"])(l,{key:3,heading:"Artists"},{default:Object(i["T"])((function(){return[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.artists,(function(t){return Object(i["A"])(),Object(i["f"])(r,{key:t.url,cover:t.cover,href:t.url,artist:t.artists.join(", "),title:t.title},null,8,["cover","href","artist","title"])})),128))]})),_:1})):Object(i["g"])("",!0),o.spotifyArtists.length?(Object(i["A"])(),Object(i["f"])(l,{key:4,heading:"Artists (Spotify)"},{default:Object(i["T"])((function(){return[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.spotifyArtists,(function(t){return Object(i["A"])(),Object(i["f"])(r,{key:t.url,cover:t.cover,href:t.url,artist:t.artists.join(", "),title:t.title},null,8,["cover","href","artist","title"])})),128))]})),_:1})):Object(i["g"])("",!0)])}var gn=n("e599"),Sn=(n("c720"),{class:"wrapper"}),kn=["src"],An={key:0,class:"note"};function _n(t,e,n,c,o,a){return Object(i["A"])(),Object(i["h"])("div",Sn,[Object(i["i"])("div",{class:"item",onClick:e[0]||(e[0]=function(){return a.redirect&&a.redirect.apply(a,arguments)})},[Object(i["i"])("img",{src:n.cover},null,8,kn),Object(i["i"])("h4",null,Object(i["N"])(n.title),1),Object(i["i"])("p",null,Object(i["N"])(n.artist),1),n.releaseDate?(Object(i["A"])(),Object(i["h"])("p",An,"Released on "+Object(i["N"])(n.releaseDate),1)):Object(i["g"])("",!0)])])}n("0e37");var wn={name:"Item",methods:{redirect:function(){this.$router.push("/album/spotify/".concat(this.href.replace("https://open.spotify.com/album/","")))}},props:{cover:String,title:String,artist:String,href:String,releaseDate:String}};n("19da");const Cn=d()(wn,[["render",_n],["__scopeId","data-v-59453f13"]]);var Nn=Cn,Pn=function(t){return Object(i["D"])("data-v-a845af6e"),t=t(),Object(i["B"])(),t},xn={class:"shelf"},Tn={class:"header"},In=Pn((function(){return Object(i["i"])("h5",null,"See All",-1)})),Mn={class:"items"};function $n(t,e,n,c,o,a){return Object(i["A"])(),Object(i["h"])("div",xn,[Object(i["i"])("div",Tn,[Object(i["i"])("h2",null,Object(i["N"])(n.heading),1),In]),Object(i["i"])("div",Mn,[Object(i["H"])(t.$slots,"default",{},void 0,!0)])])}var Dn={name:"Shelf",props:{heading:String}};n("9f1b");const Hn=d()(Dn,[["render",$n],["__scopeId","data-v-a845af6e"]]);var Un=Hn,Bn={name:"Search",components:{Shelf:Un,Item:Nn},data:function(){return{query:"",spotifyTracks:[],spotifyArtists:[],tracks:[],artists:[],youtubeTracks:[]}},methods:{search:function(){var t=this,e=this.$route.params.query;e&&fetch("http://localhost:1234/api/search",{method:"POST",body:JSON.stringify({query:e})}).then((function(t){return t.json()})).then((function(e){var n,i,c,o,a;t.spotifyTracks.length=0,t.spotifyArtists.length=0,t.tracks.length=0,t.artists.length=0,t.youtubeTracks.length=0,(n=t.spotifyTracks).push.apply(n,Object(gn["a"])(e.spotifyTracks||[])),(i=t.spotifyArtists).push.apply(i,Object(gn["a"])(e.spotifyArtists||[])),(c=t.tracks).push.apply(c,Object(gn["a"])(e.tracks||[])),(o=t.artists).push.apply(o,Object(gn["a"])(e.artists||[])),(a=t.youtubeTracks).push.apply(a,Object(gn["a"])(e.youtubeTracks||[]))}))},enterText:function(t){"Enter"===t.key&&this.$router.push("/search/"+this.query)}},watch:{$route:function(){this.search()}},mounted:function(){this.search()}};n("f0dc");const Vn=d()(Bn,[["render",yn],["__scopeId","data-v-562dbf1e"]]);var En=Vn,Jn=function(t){return Object(i["D"])("data-v-000223ea"),t=t(),Object(i["B"])(),t},Fn={class:"padding-20"},Gn=Jn((function(){return Object(i["i"])("div",{class:"albums"}," Albums ",-1)}));function Qn(t,e,n,c,o,a){var r=Object(i["I"])("CollectionHeader");return Object(i["A"])(),Object(i["h"])("div",Fn,[Object(i["l"])(r),Gn])}var Rn=function(t){return Object(i["D"])("data-v-1e4244b9"),t=t(),Object(i["B"])(),t},Ln={class:"wrapper"},qn=Rn((function(){return Object(i["i"])("div",{class:"collection"}," Playlists ",-1)})),Yn=Rn((function(){return Object(i["i"])("div",{class:"collection"}," Releases ",-1)})),zn=Rn((function(){return Object(i["i"])("div",{class:"collection"}," Artists ",-1)})),Wn=Rn((function(){return Object(i["i"])("div",{class:"collection"}," Albums ",-1)}));function Xn(t,e,n,c,o,a){var r=Object(i["I"])("router-link");return Object(i["A"])(),Object(i["h"])("div",Ln,[Object(i["l"])(r,{class:"link",to:"/collection/playlists"},{default:Object(i["T"])((function(){return[qn]})),_:1}),Object(i["l"])(r,{class:"link",to:"/collection/releases"},{default:Object(i["T"])((function(){return[Yn]})),_:1}),Object(i["l"])(r,{class:"link",to:"/collection/artists"},{default:Object(i["T"])((function(){return[zn]})),_:1}),Object(i["l"])(r,{class:"link",to:"/collection/albums"},{default:Object(i["T"])((function(){return[Wn]})),_:1})])}var Kn={name:"CollectionHeader",props:{href:String}};n("cfb4");const Zn=d()(Kn,[["render",Xn],["__scopeId","data-v-1e4244b9"]]);var ti=Zn,ei={components:{CollectionHeader:ti},name:"Albums"};n("8b2f");const ni=d()(ei,[["render",Qn],["__scopeId","data-v-000223ea"]]);var ii=ni,ci=function(t){return Object(i["D"])("data-v-d7e744b8"),t=t(),Object(i["B"])(),t},oi={class:"padding-20"},ai=ci((function(){return Object(i["i"])("div",{class:"artists"}," Artists ",-1)}));function ri(t,e,n,c,o,a){var r=Object(i["I"])("CollectionHeader");return Object(i["A"])(),Object(i["h"])("div",oi,[Object(i["l"])(r),ai])}var li={components:{CollectionHeader:ti},name:"Artists"};n("648f");const si=d()(li,[["render",ri],["__scopeId","data-v-d7e744b8"]]);var ui=si,di=function(t){return Object(i["D"])("data-v-44a3f64c"),t=t(),Object(i["B"])(),t},bi={class:"padding-20"},fi=di((function(){return Object(i["i"])("div",{class:"playlists"}," Playlists ",-1)}));function pi(t,e,n,c,o,a){var r=Object(i["I"])("CollectionHeader");return Object(i["A"])(),Object(i["h"])("div",bi,[Object(i["l"])(r),fi])}var hi={components:{CollectionHeader:ti},name:"Playlists"};n("afd1");const Oi=d()(hi,[["render",pi],["__scopeId","data-v-44a3f64c"]]);var ji=Oi,vi={class:"padding-20"},mi={class:"releases"};function yi(t,e,n,c,o,a){var r=Object(i["I"])("CollectionHeader"),l=Object(i["I"])("item-big"),s=Object(i["I"])("full-shelf"),u=Object(i["I"])("Item");return Object(i["A"])(),Object(i["h"])("div",vi,[Object(i["l"])(r),Object(i["i"])("div",mi,[o.outSoon.length?(Object(i["A"])(),Object(i["f"])(s,{key:0,heading:"Out Soon"},{default:Object(i["T"])((function(){return[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.outSoon,(function(t){return Object(i["A"])(),Object(i["f"])(l,{key:t.url,releaseDate:t.releaseDate,cover:t.cover,href:t.url,artist:t.artists.join(", "),title:t.title},null,8,["releaseDate","cover","href","artist","title"])})),128))]})),_:1})):Object(i["g"])("",!0),o.outNow.length?(Object(i["A"])(),Object(i["f"])(s,{key:1,heading:"Out Now"},{default:Object(i["T"])((function(){return[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.outNow,(function(t){return Object(i["A"])(),Object(i["f"])(u,{key:t.url,releaseDate:t.releaseDate,cover:t.cover,href:t.url,artist:t.artists.join(", "),title:t.title},null,8,["releaseDate","cover","href","artist","title"])})),128))]})),_:1})):Object(i["g"])("",!0),o.outAlready.length?(Object(i["A"])(),Object(i["f"])(s,{key:2,heading:"Releases"},{default:Object(i["T"])((function(){return[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.outAlready,(function(t){return Object(i["A"])(),Object(i["f"])(u,{key:t.url,releaseDate:t.releaseDate,cover:t.cover,href:t.url,artist:t.artists.join(", "),title:t.title},null,8,["releaseDate","cover","href","artist","title"])})),128))]})),_:1})):Object(i["g"])("",!0)])])}var gi={class:"shelf"},Si={class:"header"},ki={class:"items"};function Ai(t,e,n,c,o,a){return Object(i["A"])(),Object(i["h"])("div",gi,[Object(i["i"])("div",Si,[Object(i["i"])("h2",null,Object(i["N"])(n.heading),1)]),Object(i["i"])("div",ki,[Object(i["H"])(t.$slots,"default",{},void 0,!0)])])}var _i={name:"FullShelf",props:{heading:String}};n("b3fc");const wi=d()(_i,[["render",Ai],["__scopeId","data-v-be2be860"]]);var Ci=wi,Ni={class:"itemBig"},Pi=["src"],xi={class:"wrapper"},Ti={key:0,class:"note"};function Ii(t,e,n,c,o,a){return Object(i["A"])(),Object(i["h"])("div",Ni,[Object(i["i"])("div",{class:"item",onClick:e[0]||(e[0]=function(){return a.redirect&&a.redirect.apply(a,arguments)})},[Object(i["i"])("img",{src:n.cover},null,8,Pi),Object(i["i"])("div",xi,[Object(i["i"])("h4",null,Object(i["N"])(n.title),1),Object(i["i"])("p",null,Object(i["N"])(n.artist),1),n.releaseDate?(Object(i["A"])(),Object(i["h"])("p",Ti,"Released on "+Object(i["N"])(n.releaseDate),1)):Object(i["g"])("",!0)])])])}var Mi={name:"ItemBig",methods:{redirect:function(){this.$router.push("/album/spotify/".concat(this.href.replace("https://open.spotify.com/album/","")))}},props:{cover:String,title:String,artist:String,href:String,releaseDate:String}};n("3b4e");const $i=d()(Mi,[["render",Ii],["__scopeId","data-v-f54557fc"]]);var Di=$i,Hi={components:{CollectionHeader:ti,FullShelf:Ci,Item:Nn,ItemBig:Di},name:"Releases",data:function(){return{outSoon:[],outNow:[],outAlready:[]}},mounted:function(){var t=this;fetch("http://localhost:1234/api/releases").then((function(t){return t.json()})).then((function(e){var n,i=new Date,c=Object(mt["a"])(e);try{for(c.s();!(n=c.n()).done;){var o=n.value,a=new Date(o.releaseDate);i<a?t.outSoon.push(o):i.getMonth()==a.getMonth()&&i.getDate()==a.getDate()&&i.getFullYear()==a.getFullYear()?t.outNow.push(o):t.outAlready.push(o)}}catch(r){c.e(r)}finally{c.f()}}))}};n("26d0");const Ui=d()(Hi,[["render",yi],["__scopeId","data-v-ae9e0856"]]);var Bi=Ui,Vi=function(t){return Object(i["D"])("data-v-6aba531b"),t=t(),Object(i["B"])(),t},Ei={class:"playlist"},Ji={class:"padding-20"},Fi=Object(i["k"])("Playlist"),Gi=Vi((function(){return Object(i["i"])("h5",null,"My Description",-1)})),Qi=Vi((function(){return Object(i["i"])("hr",null,null,-1)})),Ri={class:"padding-20"},Li={class:"grid"},qi=Vi((function(){return Object(i["i"])("hr",null,null,-1)})),Yi={class:"playlistEntries"};function zi(t,e,n,c,o,a){var r=Object(i["I"])("fixed-playlist-header"),l=Object(i["I"])("h7"),s=Object(i["I"])("grid-header"),u=Object(i["I"])("playlist-entry"),d=Object(i["J"])("observe-visibility");return Object(i["A"])(),Object(i["h"])("div",Ei,[Object(i["l"])(r,{onClick:t.loadPlaylist,ref:"fixedHeading",class:Object(i["u"])({hidden:o.fixedHeaderHidden}),title:o.playlistName},null,8,["onClick","class","title"]),Object(i["U"])((Object(i["A"])(),Object(i["h"])("div",Ji,[Object(i["l"])(l,null,{default:Object(i["T"])((function(){return[Fi]})),_:1}),Object(i["i"])("h1",null,Object(i["N"])(o.playlistName),1),Gi])),[[d,a.headerVisibilityChanged]]),Qi,Object(i["i"])("div",Ri,[Object(i["i"])("span",{id:"loadPlaylist",onClick:e[0]||(e[0]=function(){return t.loadPlaylist&&t.loadPlaylist.apply(t,arguments)}),class:"material-icons-outlined"},"play_circle_filled"),Object(i["i"])("div",Li,[Object(i["l"])(s),qi,Object(i["i"])("div",Yi,[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.playlist,(function(t,e){return Object(i["A"])(),Object(i["f"])(u,{key:e,index:e,id:t.id,title:t.title,album:t.album,artist:t.artist,cover:t.cover,favourite:t.favourite,duration:t.duration},null,8,["index","id","title","album","artist","cover","favourite","duration"])})),128))])])])])}var Wi={components:{PlaylistEntry:xe,FixedPlaylistHeader:Ht,GridHeader:Mt},name:"Tracks",data:function(){return this.updateTracks(),{fixedHeaderHidden:!1,playlist:[],playlistName:"N/A"}},methods:{headerVisibilityChanged:function(t){this.fixedHeaderHidden=t},updateTracks:function(){var t=this;fetch("http://localhost:1234/api/collection/tracks").then((function(t){return t.json()})).then((function(e){t.playlist=e.songs,t.playlistName=e.name,console.log(t.playlist)}))}}};n("0b0a");const Xi=d()(Wi,[["render",zi],["__scopeId","data-v-6aba531b"]]);var Ki=Xi,Zi=n("6831"),tc=Object(i["e"])(et);tc.directive("observe-visibility",{beforeMount:function(t,e,n){n.context=e.instance,nt["a"].bind(t,e,n)},updated:nt["a"].update,unmounted:nt["a"].unbind}),tc.use(Object(it["a"])()),tc.use(Zi["a"]);var ec=[{path:"/",component:st},{path:"/search",component:En},{path:"/search/:query",component:En},{path:"/collection/albums",component:ii},{path:"/collection/artists",component:ui},{path:"/collection/playlists",component:ji},{path:"/collection/releases",component:Bi},{path:"/collection/tracks",component:Ki},{path:"/playlist/:id",component:vn}],nc=Object(ct["a"])({history:Object(ct["b"])(),routes:ec});tc.use(nc),tc.mount("#app")},cfb4:function(t,e,n){"use strict";n("6626")},e06d:function(t,e,n){"use strict";n("8f71")},e8ed:function(t,e,n){},f096:function(t,e,n){},f0dc:function(t,e,n){"use strict";n("7794")},f3b6:function(t,e,n){},f767:function(t,e,n){}});
//# sourceMappingURL=app.1c5d6f30.js.map