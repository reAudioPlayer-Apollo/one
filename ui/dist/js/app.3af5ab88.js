(function(t){function e(e){for(var i,l,a=e[0],r=e[1],s=e[2],d=0,b=[];d<a.length;d++)l=a[d],Object.prototype.hasOwnProperty.call(c,l)&&c[l]&&b.push(c[l][0]),c[l]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);u&&u(e);while(b.length)b.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,a=1;a<n.length;a++){var r=n[a];0!==c[r]&&(i=!1)}i&&(o.splice(e--,1),t=l(l.s=n[0]))}return t}var i={},c={app:0},o=[];function l(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=t,l.c=i,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(n,i,function(e){return t[e]}.bind(null,i));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],r=a.push.bind(a);a.push=e,a=a.slice();for(var s=0;s<a.length;s++)e(a[s]);var u=r;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("c275")},"06be":function(t,e,n){"use strict";n("1475")},"09a1":function(t,e,n){"use strict";n("db6a")},"0b54":function(t,e,n){},1270:function(t,e,n){t.exports=n.p+"img/night-ruby.9f7b4a08.svg"},"132a":function(t,e,n){},"13ab":function(t,e,n){},1475:function(t,e,n){},1919:function(t,e,n){},"1a5f":function(t,e,n){"use strict";n("abf1")},"1c3e":function(t,e,n){"use strict";n("2944")},"1c56":function(t,e,n){"use strict";n("5ae8")},"20ef":function(t,e,n){},2226:function(t,e,n){},2293:function(t,e,n){"use strict";n("6938")},2339:function(t,e,n){t.exports=n.p+"img/neon.6a026199.svg"},"26f0":function(t,e,n){"use strict";n("4285")},2776:function(t,e,n){"use strict";n("27ea")},"27dd":function(t,e,n){},"27ea":function(t,e,n){},2875:function(t,e,n){"use strict";n("7d60")},2944:function(t,e,n){},"2a4e":function(t,e,n){"use strict";n("daed")},"2b2a":function(t,e,n){},"2e38":function(t,e,n){"use strict";n("501c")},"2f8b":function(t,e,n){"use strict";n("4d45")},"32e0":function(t,e,n){},3347:function(t,e,n){"use strict";n("6a9b")},3686:function(t,e,n){},"37df":function(t,e,n){var i={"./default.svg":"f63f","./neon.svg":"2339","./night-cobalt.svg":"57c9","./night-fire.svg":"63f0","./night-jade.svg":"5fcf","./night-ruby.svg":"1270","./reap.svg":"c8ec","./royal.svg":"3c3b","./ruby.svg":"c8b5","./tink.svg":"cb43"};function c(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}c.keys=function(){return Object.keys(i)},c.resolve=o,t.exports=c,c.id="37df"},"3c3b":function(t,e,n){t.exports=n.p+"img/royal.b92cd988.svg"},"3f53":function(t,e,n){"use strict";n("9636")},4098:function(t,e,n){},"420a":function(t,e,n){},4246:function(t,e,n){"use strict";n("62ce")},4285:function(t,e,n){},4448:function(t,e,n){},"466a":function(t,e,n){"use strict";n("420a")},"4aaf":function(t,e,n){"use strict";n("860b")},"4c29":function(t,e,n){},"4d45":function(t,e,n){},"4fce":function(t,e,n){"use strict";n("1919")},"501c":function(t,e,n){},5568:function(t,e,n){"use strict";n("3686")},"57c9":function(t,e,n){t.exports=n.p+"img/night-cobalt.296fe936.svg"},"5ae8":function(t,e,n){},"5c98":function(t,e,n){},"5cac":function(t,e,n){},"5fcf":function(t,e,n){t.exports=n.p+"img/night-jade.3dd32cc0.svg"},"625c":function(t,e,n){"use strict";n("4448")},"62ce":function(t,e,n){},"63f0":function(t,e,n){t.exports=n.p+"img/night-fire.c1f643d2.svg"},6497:function(t,e,n){"use strict";n("13ab")},6832:function(t,e,n){},6938:function(t,e,n){},"69e1":function(t,e,n){"use strict";n("27dd")},"6a9b":function(t,e,n){},"6edd":function(t,e,n){"use strict";n("132a")},"6fac":function(t,e,n){},7013:function(t,e,n){},7600:function(t,e,n){"use strict";n("d8dc")},"7d51":function(t,e,n){},"7d60":function(t,e,n){},"7f21":function(t,e,n){"use strict";n("a7f7")},"81fb":function(t,e,n){"use strict";n("7013")},"860b":function(t,e,n){},8642:function(t,e,n){},8759:function(t){t.exports=JSON.parse('{"accent-dark":{"default":"#217e41","ruby":"#601717","royal":"#30305a","reap":"#522783","tink":"#A5004D","neon":"#892b68","night-jade":"#00c48b","night-ruby":"#e85454","night-cobalt":"#189de4","night-fire":"#c7aa19"},"accent":{"default":"#1ed760","ruby":"#bd4c62","royal":"#7169ff","reap":"#c18bff","tink":"#e7619f","neon":"#ffd100","night-jade":"#00c48b","night-ruby":"#e85454","night-cobalt":"#189de4","night-fire":"#c7aa19"},"font-colour":{"default":"white","reap":"whitesmoke","tink":"whitesmoke","neon":"whitesmoke","night-jade":"whitesmoke","night-ruby":"whitesmoke","night-cobalt":"whitesmoke","night-fire":"whitesmoke"},"font-darker":{"default":"#a7a7a7","reap":"#c2bebe","tink":"#c2bebe","neon":"#d7d7d7","night-jade":"#c2bebe","night-ruby":"#c2bebe","night-cobalt":"#c2bebe","night-fire":"#c2bebe"},"hover-4":{"default":"#242424"},"hover-3":{"default":"hsla(0,0%,100%,0.04)","reap":"hsla(0,0%,100%,0.3)"},"hover-2":{"default":"hsla(0,0%,100%,0.3)","reap":"hsla(0,0%,100%,0.1)","night-jade":"#374148","night-ruby":"#374148","night-cobalt":"#374148","night-fire":"#374148"},"hover-1":{"default":"hsla(0,0%,100%,0.1)","reap":"hsla(0,0%,100%,0.04)","night-jade":"#37414877","night-ruby":"#37414877","night-cobalt":"#37414877","night-fire":"#37414877"},"background":{"default":"#121212","reap":"linear-gradient(to right top, #522783, hsl(214, 80%, 24%))","tink":"linear-gradient(to left bottom, #A5004D, #6105B0)","neon":"linear-gradient(to right bottom, #F956B3, #e68114)","night-jade":"#1e1e1e","night-ruby":"#1e1e1e","night-cobalt":"#1e1e1e","night-fire":"#1e1e1e"},"background-light":{"default":"#181818","reap":"linear-gradient(to right bottom, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.3))","tink":"linear-gradient(to right bottom, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.3))","neon":"#3d3d3db0","night-jade":"#374148","night-ruby":"#374148","night-cobalt":"#374148","night-fire":"#374148"},"sidebar-background":{"default":"black","reap":"linear-gradient(to right bottom, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.3))","tink":"linear-gradient(to right bottom, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.3))","neon":"#3d3d3db0","night-jade":"#374148","night-ruby":"#374148","night-cobalt":"#374148","night-fire":"#374148"},"player-background":{"default":"#181818","reap":"linear-gradient(to right bottom, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.3))","tink":"linear-gradient(to right bottom, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.3))","neon":"#3d3d3db0","night-jade":"#374148","night-ruby":"#374148","night-cobalt":"#374148","night-fire":"#374148"},"fixedplaylistheader-background":{"default":"var(--player-background)","reap":"#522783","tink":"#A5004D","neon":"#892b68"},"fixedplaylistheader-border":{"default":"#303030","reap":"#522783","tink":"#A5004D","neon":"#892b68"},"font-family":{"default":"Poppins, sans-serif"},"playlistEntry-height":{"default":"50px"},"player-height":{"default":"88px"},"sidebar-width":{"default":"200px"}}')},"87a6":function(t,e,n){"use strict";n("5cac")},"886e":function(t,e,n){"use strict";n("5c98")},"8b2f":function(t,e,n){"use strict";n("6832")},"924a":function(t,e,n){"use strict";n("a3c2")},"95fa":function(t,e,n){"use strict";n("2226")},9636:function(t,e,n){},"98d8":function(t,e,n){"use strict";n("6fac")},"9f1b":function(t,e,n){"use strict";n("f3b6")},a3c2:function(t,e,n){},a59f:function(t,e,n){"use strict";n("f993")},a7f7:function(t,e,n){},aad2:function(t,e,n){"use strict";n("ed6a")},abf1:function(t,e,n){},ae21:function(t,e,n){},ae47:function(t,e,n){"use strict";n("20ef")},b226:function(t,e,n){},b318:function(t,e,n){"use strict";n("2b2a")},b3fc:function(t,e,n){"use strict";n("ae21")},b754:function(t,e,n){"use strict";n("4098")},c275:function(t,e,n){"use strict";n.r(e);var i=n("69be"),c={class:"appRoot"},o={class:"interface"};function l(t,e,n,l,a,r){var s=Object(i["I"])("Sidebar"),u=Object(i["I"])("Body"),d=Object(i["I"])("Player");return Object(i["A"])(),Object(i["h"])("div",c,[Object(i["i"])("div",o,[Object(i["l"])(s,{onExpandCover:r.expandCover,expandCover:a.shallExpandCover},null,8,["onExpandCover","expandCover"]),Object(i["l"])(u)]),Object(i["l"])(d,{onExpandCover:r.expandCover,expandCover:!a.shallExpandCover},null,8,["onExpandCover","expandCover"])])}n("4fd6"),n("89b1"),n("1c6f");var a={class:"body"};function r(t,e,n,c,o,l){var r=Object(i["I"])("router-view");return Object(i["A"])(),Object(i["h"])("div",a,[Object(i["l"])(r)])}var s={name:"Body"},u=(n("2875"),n("1c27")),d=n.n(u);const b=d()(s,[["render",r],["__scopeId","data-v-26006ec5"]]);var f=b,p=function(t){return Object(i["D"])("data-v-172babe8"),t=t(),Object(i["B"])(),t},h={class:"player"},O={class:"left"},j=["src"],v={class:"titleartist"},y={class:"title"},m={class:"artist"},g={class:"centre"},k={class:"upper"},S=p((function(){return Object(i["i"])("span",{class:"material-icons-round defaultbtn"},"shuffle",-1)})),A=p((function(){return Object(i["i"])("span",{class:"material-icons-round defaultbtn"},"repeat",-1)})),w={class:"lower"},C={class:"positionLabel"},P={class:"positionLabel"},x={class:"right"},I=p((function(){return Object(i["i"])("span",{class:"material-icons-round defaultbtn"},"volume_up",-1)}));function _(t,e,n,c,o,l){return Object(i["A"])(),Object(i["h"])("div",h,[Object(i["i"])("div",O,[n.expandCover?(Object(i["A"])(),Object(i["h"])("img",{key:0,onClick:e[0]||(e[0]=function(){return l.onExpandCover&&l.onExpandCover.apply(l,arguments)}),src:o.cover},null,8,j)):Object(i["g"])("",!0),Object(i["i"])("div",v,[Object(i["i"])("span",y,Object(i["N"])(o.title),1),Object(i["i"])("span",m,Object(i["N"])(o.artist),1)]),Object(i["i"])("span",{onClick:e[1]||(e[1]=function(t){return o.favourited=!o.favourited}),class:"favourite material-icons-round"},Object(i["N"])(o.favourited?"favorite":"favorite_border"),1)]),Object(i["i"])("div",g,[Object(i["i"])("div",k,[S,Object(i["i"])("span",{onClick:e[2]||(e[2]=function(t){return l.get("last")}),class:"material-icons-round defaultbtn"},"skip_previous"),Object(i["i"])("span",{onClick:e[3]||(e[3]=function(t){return l.get("playPause")}),class:"material-icons-round circle"},Object(i["N"])(o.playing?"pause_circle":"play_circle"),1),Object(i["i"])("span",{onClick:e[4]||(e[4]=function(t){return l.get("next")}),class:"material-icons-round defaultbtn"},"skip_next"),A]),Object(i["i"])("div",w,[Object(i["i"])("span",C,Object(i["N"])(o.progresslbl),1),Object(i["V"])(Object(i["i"])("input",{onChange:e[5]||(e[5]=function(){return l.progresschange&&l.progresschange.apply(l,arguments)}),"onUpdate:modelValue":e[6]||(e[6]=function(t){return o.progress=t}),max:"1000",type:"range",class:"progress"},null,544),[[i["R"],o.progress]]),Object(i["i"])("span",P,Object(i["N"])(o.durationStr),1)])]),Object(i["i"])("div",x,[I,Object(i["i"])("input",{onChange:e[7]||(e[7]=function(){return l.volumechange&&l.volumechange.apply(l,arguments)}),ref:"volume",type:"range",class:"volume"},null,544)])])}n("3efd"),n("dfac"),n("07e6"),n("e932"),n("500c"),n("f258"),n("c7c6");var N=n("a258"),T=n("5211"),M={name:"Player",props:{favourite:{type:Boolean,default:!1},expandCover:Boolean},setup:function(){var t=Object(T["c"])();Object(N["a"])({keyEvent:"keydown",keyBinds:[{keyCode:"space",success:function(){return fetch("http://localhost:1234/api/playPause")},modifiers:["ctrlKey"]},{keyCode:"right",success:function(){return fetch("http://localhost:1234/api/next")},modifiers:["ctrlKey"]},{keyCode:"left",success:function(){return fetch("http://localhost:1234/api/last")},modifiers:["ctrlKey"]},{keyCode:49,success:function(){return t.push("/playlist/0")},modifiers:["altKey"]},{keyCode:50,success:function(){return t.push("/playlist/1")},modifiers:["altKey"]},{keyCode:51,success:function(){return t.push("/playlist/2")},modifiers:["altKey"]},{keyCode:52,success:function(){return t.push("/playlist/3")},modifiers:["altKey"]},{keyCode:53,success:function(){return t.push("/playlist/4")},modifiers:["altKey"]},{keyCode:54,success:function(){return t.push("/playlist/5")},modifiers:["altKey"]},{keyCode:55,success:function(){return t.push("/playlist/6")},modifiers:["altKey"]},{keyCode:56,success:function(){return t.push("/playlist/7")},modifiers:["altKey"]},{keyCode:57,success:function(){return t.push("/playlist/8")},modifiers:["altKey"]},{keyCode:58,success:function(){return t.push("/playlist/9")},modifiers:["altKey"]}]})},data:function(){var t=this,e=this;function n(){console.log("attempting reconnect");var t=new WebSocket("ws://localhost:1234/ws");t.onclose=function(){console.log("ws closed"),setTimeout(n,1e3)},t.onopen=function(){console.log("ws connected")},t.onmessage=function(t){var n=JSON.parse(t.data);e.updateData(n)}}return n(),setInterval((function(){if(e.playing){var t=60*Number(e.durationStr.split(":")[0])+Number(e.durationStr.split(":")[1]),n=60*Number(e.progresslbl.split(":")[0])+Number(e.progresslbl.split(":")[1]);n+=1,e.progress=n/t*1e3,e.progresslbl="".concat(Math.floor(n/60),":").concat(e.zeroPad(n%60,2))}}),1e3),fetch("http://localhost:1234/api/getVolume").then((function(t){return t.text()})).then((function(e){t.$refs.volume.value=e})),{favourited:this.favourite,title:"N/A",artist:"N/A",durationStr:"0:00",cover:"/assets/img/music_placeholder.png",playing:!1,progress:0,progresslbl:"0:00"}},methods:{onExpandCover:function(){this.$emit("expandCover",!0)},playPause:function(){console.log("playpause"),this.get("playPause")},get:function(t){fetch("http://localhost:1234/api/".concat(t))},volumechange:function(){fetch("http://localhost:1234/api/setVolume",{method:"POST",body:JSON.stringify({value:this.$refs.volume.value})})},zeroPad:function(t,e){return String(t).padStart(e,"0")},progresschange:function(){var t=60*Number(this.durationStr.split(":")[0])+Number(this.durationStr.split(":")[1]),e=this.progress*t/1e3;this.progresslbl="".concat(Math.floor(e/60),":").concat(this.zeroPad(Math.round(e%60),2)),fetch("http://localhost:1234/api/setPos",{method:"POST",body:JSON.stringify({value:e})})},updateData:function(t){var e,n,i,c;if("player.song"==t.path)return this.title=(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.title)||"N/A",this.artist=(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.artist)||"N/A",this.durationStr=(null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.duration)||"N/A",this.cover=(null===t||void 0===t||null===(c=t.data)||void 0===c?void 0:c.cover)||"/assets/img/music_placeholder.png",void(this.progresslbl="0:00");if("player.playState"!=t.path){if("player.posSync"==t.path){var o=(null===t||void 0===t?void 0:t.data)||0;this.progresslbl="".concat(Math.floor(o/60),":").concat(this.zeroPad(Math.round(o%60),2))}}else this.playing=(null===t||void 0===t?void 0:t.data)||!1}}};n("a59f");const V=d()(M,[["render",_],["__scopeId","data-v-172babe8"]]);var U=V,$=(n("a15b"),function(t){return Object(i["D"])("data-v-0bbe7397"),t=t(),Object(i["B"])(),t}),D={class:"sidebar"},H=$((function(){return Object(i["i"])("br",null,null,-1)})),R=$((function(){return Object(i["i"])("br",null,null,-1)})),E=$((function(){return Object(i["i"])("hr",null,null,-1)})),B={class:"playlistList"},J=["src"];function F(t,e,n,c,o,l){var a=Object(i["I"])("nav-entry"),r=Object(i["I"])("router-link");return Object(i["A"])(),Object(i["h"])("div",D,[Object(i["i"])("h2",{onClick:e[0]||(e[0]=function(){return l.onLogoClick&&l.onLogoClick.apply(l,arguments)})},"reAudioPlayer Online"),H,Object(i["l"])(a,{href:"/",icon:"home",name:"Home"}),Object(i["l"])(a,{href:"/search",icon:"search",name:"Search"}),Object(i["l"])(a,{href:"/collection/playlists",icon:"library_music",name:"Your Library"}),R,Object(i["l"])(a,{href:"/playlist/create",icon:"add_circle",name:"Create Playlist"}),Object(i["l"])(a,{href:"/collection/tracks",icon:"favorite",name:"Liked Songs"}),E,Object(i["i"])("div",B,[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.playlists,(function(t,e){return Object(i["A"])(),Object(i["f"])(r,{key:e,to:t.href},{default:Object(i["U"])((function(){return[Object(i["k"])(Object(i["N"])(t.name),1)]})),_:2},1032,["to"])})),128))]),n.expandCover?(Object(i["A"])(),Object(i["h"])("img",{key:0,onClick:e[1]||(e[1]=function(){return l.hideCover&&l.hideCover.apply(l,arguments)}),src:o.cover,class:"cover"},null,8,J)):Object(i["g"])("",!0)])}var L={class:"navEntry"},G={class:"material-icons-round icon"},K={class:"name"};function q(t,e,n,c,o,l){var a=Object(i["I"])("router-link");return Object(i["A"])(),Object(i["f"])(a,{class:"link",to:n.href},{default:Object(i["U"])((function(){return[Object(i["i"])("div",L,[Object(i["i"])("span",G,Object(i["N"])(n.icon),1),Object(i["i"])("span",K,Object(i["N"])(n.name),1)])]})),_:1},8,["to"])}var Y={name:"NavEntry",props:{icon:String,name:String,href:String}};n("1c3e");const z=d()(Y,[["render",q],["__scopeId","data-v-3945adfd"]]);var Q=z,W={name:"Sidebar",components:{NavEntry:Q},props:{expandCover:Boolean},data:function(){var t=this;fetch("http://localhost:1234/api/playlists").then((function(t){return t.json()})).then((function(e){for(var n=0;n<e.length;n++)t.playlists.push({name:e[n],href:"/playlist/".concat(n)})}));var e=this;function n(){console.log("attempting reconnect");var t=new WebSocket("ws://localhost:1234/ws");t.onclose=function(){console.log("ws closed"),setTimeout(n,1e3)},t.onopen=function(){console.log("ws connected")},t.onmessage=function(t){var n=JSON.parse(t.data);e.updateData(n)}}return n(),{playlists:[],cover:"/assets/img/music_placeholder.png"}},methods:{hideCover:function(){this.$emit("expandCover",!1)},onLogoClick:function(){this.$router.push("/preferences")},updateData:function(t){var e;"player.song"!=t.path||(this.cover=(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.cover)||"/assets/img/music_placeholder.png")}}};n("4246");const X=d()(W,[["render",F],["__scopeId","data-v-0bbe7397"]]);var Z=X,tt=(n("1a57"),n("8759")),et="theme";window.getThemes=function(){window.themes=[];for(var t=0,e=Object.keys(tt);t<e.length;t++)for(var n=e[t],i=0,c=Object.keys(tt[n]);i<c.length;i++){var o=c[i];window.themes.includes(o)||window.themes.push(o)}return window.themes},window.getCurrentTheme=function(){return window.localStorage.getItem(et)||"default"},window.setTheme=function(t){if(window.getThemes().includes(t)){window.localStorage.setItem(et,t);for(var e=0,n=Object.keys(tt);e<n.length;e++){var i=n[e],c=tt[i];document.documentElement.style.setProperty("--".concat(i),c[t]||c.default)}}},window.setTheme(window.localStorage.getItem(et)||"default");var nt={name:"App",components:{Sidebar:Z,Body:f,Player:U},data:function(){return{shallExpandCover:!1}},methods:{expandCover:function(t){this.shallExpandCover=t}}};n("1c56"),n("aad2");const it=d()(nt,[["render",l]]);var ct=it,ot=n("50c9"),lt=n("5e83"),at={class:"home"};function rt(t,e,n,c,o,l){return Object(i["A"])(),Object(i["h"])("div",at," Home ")}var st={name:"Home"};const ut=d()(st,[["render",rt]]);var dt=ut,bt=function(t){return Object(i["D"])("data-v-2ef237ea"),t=t(),Object(i["B"])(),t},ft={class:"playlist"},pt=Object(i["k"])("Playlist"),ht=bt((function(){return Object(i["i"])("hr",null,null,-1)})),Ot={class:"padding-20"},jt={class:"grid"},vt=bt((function(){return Object(i["i"])("hr",null,null,-1)})),yt={class:"playlistEntries"};function mt(t,e,n,c,o,l){var a=Object(i["I"])("AddSong"),r=Object(i["I"])("EditPlaylist"),s=Object(i["I"])("fixed-playlist-header"),u=Object(i["I"])("h7"),d=Object(i["I"])("grid-header"),b=Object(i["I"])("playlist-entry"),f=Object(i["J"])("observe-visibility");return Object(i["A"])(),Object(i["h"])("div",ft,[Object(i["l"])(a,{onClose:l.updatePlaylist,ref:"addSongPopup"},null,8,["onClose"]),Object(i["l"])(r,{onClose:l.updatePlaylist,playlistName:o.playlistName,playlistDescription:o.playlistDescription,ref:"editPlaylistPopup"},null,8,["onClose","playlistName","playlistDescription"]),Object(i["l"])(s,{onClick:l.loadPlaylist,ref:"fixedHeading",class:Object(i["u"])({hidden:o.fixedHeaderHidden}),title:o.playlistName},null,8,["onClick","class","title"]),Object(i["V"])((Object(i["A"])(),Object(i["h"])("div",{class:"padding-20 playlisteditor",onClick:e[0]||(e[0]=function(){return l.editPlaylist&&l.editPlaylist.apply(l,arguments)})},[Object(i["l"])(u,null,{default:Object(i["U"])((function(){return[pt]})),_:1}),Object(i["i"])("h1",null,Object(i["N"])(o.playlistName),1),Object(i["i"])("h5",null,Object(i["N"])(o.playlistDescription),1)])),[[f,l.headerVisibilityChanged]]),ht,Object(i["i"])("div",Ot,[Object(i["i"])("span",{id:"loadPlaylist",onClick:e[1]||(e[1]=function(){return l.loadPlaylist&&l.loadPlaylist.apply(l,arguments)}),class:"material-icons-outlined"},"play_circle_filled"),Object(i["i"])("span",{id:"addToPlaylist",onClick:e[2]||(e[2]=function(){return l.addToPlaylist&&l.addToPlaylist.apply(l,arguments)}),class:"material-icons-outlined"},"add_circle"),Object(i["i"])("div",jt,[Object(i["l"])(d),vt,Object(i["i"])("div",yt,[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.playlist,(function(t,e){return Object(i["A"])(),Object(i["f"])(b,{key:e,index:e,source:t.source,playing:t.playing,id:t.id,title:t.title,album:t.album,artist:t.artist,cover:t.cover,favourite:t.favourite,duration:t.duration},null,8,["index","source","playing","id","title","album","artist","cover","favourite","duration"])})),128))])])])])}var gt=n("afa6"),kt=n("1494"),St=(n("a623"),n("4228"),n("526b"),{class:"fixedPlaylistHeader"}),At={class:"upperWrapper"};function wt(t,e,n,c,o,l){var a=this,r=Object(i["I"])("grid-header");return Object(i["A"])(),Object(i["h"])("div",St,[Object(i["i"])("div",At,[Object(i["i"])("span",{id:"loadPlaylist",onClick:e[0]||(e[0]=function(t){return a.$emit("click")}),class:"material-icons-outlined"},"play_circle_filled"),Object(i["i"])("h3",null,Object(i["N"])(n.title),1)]),Object(i["l"])(r,{class:"padding-20 darkback"})])}var Ct=function(t){return Object(i["D"])("data-v-e629699e"),t=t(),Object(i["B"])(),t},Pt={class:"gridHeader"},xt=Ct((function(){return Object(i["i"])("span",{class:"id"},"#",-1)})),It=Ct((function(){return Object(i["i"])("span",{class:"title"},"Title",-1)})),_t=Ct((function(){return Object(i["i"])("span",{class:"album"},"Album",-1)})),Nt=Ct((function(){return Object(i["i"])("span",{class:"clock material-icons-round"},"schedule",-1)})),Tt=[xt,It,_t,Nt];function Mt(t,e,n,c,o,l){return Object(i["A"])(),Object(i["h"])("div",Pt,Tt)}var Vt={name:"GridHeader"};n("466a");const Ut=d()(Vt,[["render",Mt],["__scopeId","data-v-e629699e"]]);var $t=Ut,Dt={name:"FixedPlaylistHeader",components:{GridHeader:$t},props:{title:String}};n("625c");const Ht=d()(Dt,[["render",wt],["__scopeId","data-v-68da01a7"]]);var Rt=Ht,Et={class:"track"},Bt=["src"],Jt={class:"trackwrapper"},Ft={class:"duration"};function Lt(t,e,n,c,o,l){var a=Object(i["I"])("EditSong"),r=Object(i["I"])("SongCtx");return Object(i["A"])(),Object(i["f"])(r,{onRemove:l.remove,onUpdate:l.update,onLike:e[7]||(e[7]=function(t){return o.favourited=!o.favourited}),isAutoPlaylist:o.isAutoPlaylist,liked:o.favourited,ref:"ctxMenu"},{default:Object(i["U"])((function(){return[Object(i["l"])(a,{onClose:t.updatePlaylist,ref:"editSongPopup",cover:n.cover,id:n.id,title:n.title,album:n.album,artist:n.artist,source:n.source},null,8,["onClose","cover","id","title","album","artist","source"]),Object(i["i"])("div",{onDblclick:e[3]||(e[3]=function(){l.playAt(),l.onselect()}),onClick:e[4]||(e[4]=function(){return l.onselect&&l.onselect.apply(l,arguments)}),onMouseover:e[5]||(e[5]=function(){return l.displayPlay&&l.displayPlay.apply(l,arguments)}),onMouseleave:e[6]||(e[6]=function(){return l.displayId&&l.displayId.apply(l,arguments)}),class:Object(i["u"])(["playlistEntry",{selected:o.highlighted}])},[Object(i["i"])("span",{onClick:e[0]||(e[0]=function(){return l.playAt&&l.playAt.apply(l,arguments)}),ref:"idOrPlay",class:Object(i["u"])([{playing:n.playing},"id"])},Object(i["N"])(n.index+1),3),Object(i["i"])("div",Et,[Object(i["i"])("img",{src:n.cover||"/assets/img/music_placeholder.png"},null,8,Bt),Object(i["i"])("div",Jt,[Object(i["i"])("span",{class:Object(i["u"])(["title",{playing:n.playing}])},Object(i["N"])(n.title),3),Object(i["i"])("span",{class:Object(i["u"])(["artist",{playing:n.playing}])},Object(i["N"])(n.artist),3)])]),Object(i["i"])("span",{class:Object(i["u"])(["album",{playing:n.playing}])},Object(i["N"])(n.album),3),Object(i["i"])("span",{onClick:e[1]||(e[1]=function(t){return o.favourited=!o.favourited}),class:Object(i["u"])(["favourite material-icons-round",{showfavourite:o.favourited||o.highlighted}])},Object(i["N"])(o.favourited?"favorite":"favorite_border"),3),Object(i["i"])("span",Ft,Object(i["N"])(n.duration),1),Object(i["i"])("span",{onClick:e[2]||(e[2]=function(){return l.showCtxMenu&&l.showCtxMenu.apply(l,arguments)}),class:Object(i["u"])(["more material-icons-round",{hidden:!o.highlighted}])},"more_horiz",2)],34)]})),_:1},8,["onRemove","onUpdate","isAutoPlaylist","liked"])}var Gt={ref:"box"},Kt=Object(i["k"])("Remove from this playlist"),qt=Object(i["k"])("Add to playlist"),Yt=Object(i["k"])("Update Metadata"),zt=Object(i["k"])("Share");function Qt(t,e,n,c,o,l){var a=Object(i["I"])("v-contextmenu-item"),r=Object(i["I"])("v-contextmenu-divider"),s=Object(i["I"])("v-contextmenu"),u=Object(i["J"])("contextmenu");return Object(i["V"])((Object(i["A"])(),Object(i["h"])("div",Gt,[Object(i["H"])(t.$slots,"default"),Object(i["l"])(s,{ref:"contextmenu"},{default:Object(i["U"])((function(){return[Object(i["l"])(a,{onClick:l.like},{default:Object(i["U"])((function(){return[Object(i["k"])(Object(i["N"])((n.liked?"Remove from":"Save to")+" your Liked Songs"),1)]})),_:1},8,["onClick"]),n.isAutoPlaylist?Object(i["g"])("",!0):(Object(i["A"])(),Object(i["f"])(a,{key:0,onClick:l.remove},{default:Object(i["U"])((function(){return[Kt]})),_:1},8,["onClick"])),Object(i["l"])(a,{onClick:l.addto},{default:Object(i["U"])((function(){return[qt]})),_:1},8,["onClick"]),Object(i["l"])(r),Object(i["l"])(a,{onClick:l.update},{default:Object(i["U"])((function(){return[Yt]})),_:1},8,["onClick"]),Object(i["l"])(r),Object(i["l"])(a,{onClick:l.share},{default:Object(i["U"])((function(){return[zt]})),_:1},8,["onClick"])]})),_:1},512)])),[[u,void 0,"contextmenu"]])}var Wt={name:"SongCtx",props:{liked:Boolean,isAutoPlaylist:Boolean},methods:{hide:function(){this.$refs.contextmenu.hide()},show:function(t){var e=this.$refs.box.getBoundingClientRect(),n={top:e.height+e.top+window.scrollY,left:e.width+e.left+window.scrollX};this.$refs.contextmenu.show(n),null===t||void 0===t||t.stopPropagation()},like:function(){this.$emit("like")},remove:function(){this.$emit("remove")},addto:function(){this.$emit("addto")},share:function(){this.$emit("share")},update:function(){this.$emit("update")}}};const Xt=d()(Wt,[["render",Qt]]);var Zt=Xt,te=function(t){return Object(i["D"])("data-v-8142fd52"),t=t(),Object(i["B"])(),t},ee={class:"wrapper"},ne={class:"header"},ie=te((function(){return Object(i["i"])("h3",null,"Edit song",-1)})),ce=te((function(){return Object(i["i"])("span",{class:"material-icons-round"}," close ",-1)})),oe=[ce],le=te((function(){return Object(i["i"])("h4",null,"Source",-1)})),ae={class:"content"},re=te((function(){return Object(i["i"])("h4",null,"Title",-1)})),se={class:"content"},ue=te((function(){return Object(i["i"])("h4",null,"Album",-1)})),de={class:"content"},be=te((function(){return Object(i["i"])("h4",null,"Artist",-1)})),fe={class:"content"},pe=te((function(){return Object(i["i"])("h4",null,"Cover",-1)})),he={class:"content"},Oe=["src"],je={class:"confirm"};function ve(t,e,n,c,o,l){var a=Object(i["I"])("FindSources"),r=Object(i["I"])("vue-final-modal");return Object(i["A"])(),Object(i["h"])("div",null,[Object(i["l"])(r,{onClick:l.hideFindSourcesCtx,modelValue:o.showModal,"onUpdate:modelValue":e[10]||(e[10]=function(t){return o.showModal=t}),classes:"modal-container","content-class":"modal-content"},{default:Object(i["U"])((function(){return[Object(i["i"])("div",ee,[Object(i["i"])("div",ne,[ie,Object(i["i"])("button",{class:"modal-close",onClick:e[0]||(e[0]=function(t){return o.showModal=!1})},oe)]),le,Object(i["l"])(a,{ref:"findSourcesEdit",title:n.title,artist:n.artist},{default:Object(i["U"])((function(){return[Object(i["i"])("div",ae,[Object(i["V"])(Object(i["i"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return o.dSource=t}),onChange:e[2]||(e[2]=function(){return l.loadMetadata&&l.loadMetadata.apply(l,arguments)}),type:"text",ref:"source"},null,544),[[i["R"],o.dSource]]),Object(i["i"])("span",{class:"material-icons-round more",ref:"sourceMore",onClick:e[3]||(e[3]=function(){return l.opencontextmenu&&l.opencontextmenu.apply(l,arguments)})},"more_vert",512)])]})),_:1},8,["title","artist"]),re,Object(i["i"])("div",se,[Object(i["V"])(Object(i["i"])("input",{"onUpdate:modelValue":e[4]||(e[4]=function(t){return o.dTitle=t}),type:"text"},null,512),[[i["R"],o.dTitle]])]),ue,Object(i["i"])("div",de,[Object(i["V"])(Object(i["i"])("input",{"onUpdate:modelValue":e[5]||(e[5]=function(t){return o.dAlbum=t}),type:"text",ref:"album"},null,512),[[i["R"],o.dAlbum]])]),be,Object(i["i"])("div",fe,[Object(i["V"])(Object(i["i"])("input",{"onUpdate:modelValue":e[6]||(e[6]=function(t){return o.dArtist=t}),type:"text"},null,512),[[i["R"],o.dArtist]])]),pe,Object(i["i"])("div",he,[Object(i["V"])(Object(i["i"])("input",{type:"text",class:"addSong cover","onUpdate:modelValue":e[7]||(e[7]=function(t){return o.dCover=t}),ref:"cover"},null,512),[[i["R"],o.dCover]]),Object(i["i"])("img",{onClick:e[8]||(e[8]=function(){return l.openInNewTab&&l.openInNewTab.apply(l,arguments)}),class:"addSong cover",src:n.cover?n.cover:"/assets/img/music_placeholder.png"},null,8,Oe)]),Object(i["i"])("div",je,[Object(i["i"])("button",{onClick:e[9]||(e[9]=function(){return l.add&&l.add.apply(l,arguments)}),class:"negative"},"Save")])])]})),_:1},8,["onClick","modelValue"])])}n("ed98");var ye={ref:"box"},me=Object(i["k"])("Soundcloud"),ge=Object(i["k"])("Audius"),ke=Object(i["k"])("Youtube Music"),Se=Object(i["k"])("Spotify");function Ae(t,e,n,c,o,l){var a=Object(i["I"])("v-contextmenu-item"),r=Object(i["I"])("v-contextmenu-submenu"),s=Object(i["I"])("v-contextmenu"),u=Object(i["J"])("contextmenu");return Object(i["V"])((Object(i["A"])(),Object(i["h"])("div",ye,[Object(i["H"])(t.$slots,"default"),Object(i["l"])(s,{ref:"contextmenu"},{default:Object(i["U"])((function(){return[Object(i["l"])(r,{title:"Search on"},{default:Object(i["U"])((function(){return[Object(i["l"])(a,{onClick:l.openSoundcloud},{default:Object(i["U"])((function(){return[me]})),_:1},8,["onClick"]),Object(i["l"])(a,{onClick:l.openAudius},{default:Object(i["U"])((function(){return[ge]})),_:1},8,["onClick"]),Object(i["l"])(a,{onClick:l.openYoutubeMusic},{default:Object(i["U"])((function(){return[ke]})),_:1},8,["onClick"]),Object(i["l"])(a,{onClick:l.openSpotify},{default:Object(i["U"])((function(){return[Se]})),_:1},8,["onClick"])]})),_:1})]})),_:1},512)])),[[u,void 0,"contextmenu"]])}var we={name:"FindSources",props:{artist:String,title:String},methods:{hide:function(){this.$refs.contextmenu.hide()},show:function(t){var e=this.$refs.box.getBoundingClientRect(),n={top:e.height+e.top+window.scrollY,left:e.width+e.left+window.scrollX};this.$refs.contextmenu.show(n),null===t||void 0===t||t.stopPropagation()},openSoundcloud:function(){window.open("https://soundcloud.com/search?q=".concat(this.artist," ").concat(this.title))},openAudius:function(){window.open("https://audius.co/search/".concat(this.artist," ").concat(this.title))},openYoutubeMusic:function(){window.open("https://music.youtube.com/search?q=".concat(this.artist," ").concat(this.title))},openSpotify:function(){window.open("https://open.spotify.com/search/".concat(this.artist," ").concat(this.title))}}};const Ce=d()(we,[["render",Ae]]);var Pe=Ce,xe={name:"EditSong",components:{FindSources:Pe},props:{cover:String,album:String,artist:String,source:String,title:String,id:Number},data:function(){return{showModal:!1,dCover:this.cover,dAlbum:this.album,dArtist:this.artist,dTitle:this.title,dSource:this.source}},methods:{opencontextmenu:function(t){this.$refs.findSourcesEdit.show(t)},hideFindSourcesCtx:function(){this.$refs.findSourcesEdit.hide()},add:function(){var t=this;this.showModal=!1,console.log("fetch"),fetch("http://localhost:1234/api/updateSong",{method:"POST",body:JSON.stringify({id:this.id,source:this.dSource,title:this.dTitle,artist:this.dArtist,album:this.dAlbum,cover:this.dCover})}).then((function(e){console.log(e),t.$emit("close")}))},loadMetadata:function(){var t=this;fetch("http://localhost:1234/api/metadata",{method:"POST",body:JSON.stringify({url:this.$refs.source.value})}).then((function(t){return t.json()})).then((function(e){console.log(e),t.dTitle=e.title,t.dAlbum=e.album,t.dArtist=e.artists.join(", "),t.dCover=e.cover,t.dSource=e.src}))},openInNewTab:function(){window.open(this.cover?this.cover:"/assets/img/music_placeholder.png")}},watch:{id:function(){this.dCover=this.cover,this.dAlbum=this.album,this.dArtist=this.artist,this.dTitle=this.title,this.dSource=this.source}}};n("69e1"),n("87a6");const Ie=d()(xe,[["render",ve],["__scopeId","data-v-8142fd52"]]);var _e=Ie,Ne={name:"PlaylistEntry",components:{SongCtx:Zt,EditSong:_e},props:{index:Number,id:Number,source:String,artist:{type:String,default:"N/A"},cover:{type:String,default:"/assets/img/music_placeholder.png"},title:{type:String,default:"N/A"},album:{type:String,default:"N/A"},duration:{type:String,default:"N/A"},favourite:{type:Boolean,default:!1},playing:{type:Boolean,default:!1}},data:function(){return{highlighted:!1,favourited:this.favourite,isAutoPlaylist:"/collection/tracks"==this.$route.path}},methods:{remove:function(){fetch("http://localhost:1234/api/remove",{method:"POST",body:JSON.stringify({playlistId:Number(this.$route.params.id),songId:this.id})})},update:function(){this.$refs.editSongPopup.showModal=!0},hideCtxMenu:function(){this.$refs.ctxMenu.hide()},showCtxMenu:function(t){console.log("show"),this.$refs.ctxMenu.show(t)},onselect:function(){this.highlighted=!this.highlighted,this.hideCtxMenu()},displayPlay:function(){var t=this.$refs.idOrPlay;t.innerHTML="play_arrow",t.classList.add("material-icons-round")},displayId:function(){var t=this.$refs.idOrPlay;t.innerHTML=this.index+1,t.classList.remove("material-icons-round")},playAt:function(){fetch("http://localhost:1234/api/at",{method:"POST",body:JSON.stringify({index:this.index})})},setFavourite:function(){fetch("http://localhost:1234/api/updateSong",{method:"POST",body:JSON.stringify({id:this.id,favourite:this.favourited,album:this.album,artist:this.artist,title:this.title,duration:this.duration,cover:this.cover,source:this.source})})}},watch:{favourited:function(){this.setFavourite()},favourite:function(){console.log("mounted",this.title,this.favourite,this.favourited),this.favourited=this.favourite,this.highlighted=!1}}};n("4aaf");const Te=d()(Ne,[["render",Lt],["__scopeId","data-v-4d225eea"]]);var Me=Te,Ve=function(t){return Object(i["D"])("data-v-23f10b9b"),t=t(),Object(i["B"])(),t},Ue={class:"wrapper"},$e={class:"header"},De=Ve((function(){return Object(i["i"])("h3",null,"Add song",-1)})),He=Ve((function(){return Object(i["i"])("span",{class:"material-icons-round"}," close ",-1)})),Re=[He],Ee=Ve((function(){return Object(i["i"])("h4",null,"Source",-1)})),Be={class:"content"},Je=Ve((function(){return Object(i["i"])("h4",null,"Title",-1)})),Fe={class:"content"},Le=Ve((function(){return Object(i["i"])("h4",null,"Album",-1)})),Ge={class:"content"},Ke={type:"text",ref:"album"},qe=Ve((function(){return Object(i["i"])("h4",null,"Artist",-1)})),Ye={class:"content"},ze=Ve((function(){return Object(i["i"])("h4",null,"Cover",-1)})),Qe={class:"content"},We=["src"],Xe={class:"confirm"};function Ze(t,e,n,c,o,l){var a=Object(i["I"])("FindSources"),r=Object(i["I"])("vue-final-modal");return Object(i["A"])(),Object(i["h"])("div",null,[Object(i["l"])(r,{onClick:l.hideFindSourcesCtx,modelValue:o.showModal,"onUpdate:modelValue":e[8]||(e[8]=function(t){return o.showModal=t}),classes:"modal-container","content-class":"modal-content"},{default:Object(i["U"])((function(){return[Object(i["i"])("div",Ue,[Object(i["i"])("div",$e,[De,Object(i["i"])("button",{class:"modal-close",onClick:e[0]||(e[0]=function(t){return o.showModal=!1})},Re)]),Ee,Object(i["l"])(a,{ref:"findSources",title:o.title,artist:o.artist},{default:Object(i["U"])((function(){return[Object(i["i"])("div",Be,[Object(i["i"])("input",{onChange:e[1]||(e[1]=function(){return l.loadMetadata&&l.loadMetadata.apply(l,arguments)}),type:"text",ref:"source"},null,544),Object(i["i"])("span",{class:"material-icons-round more",ref:"sourceMore",onClick:e[2]||(e[2]=function(){return l.opencontextmenu&&l.opencontextmenu.apply(l,arguments)})},"more_vert",512)])]})),_:1},8,["title","artist"]),Je,Object(i["i"])("div",Fe,[Object(i["V"])(Object(i["i"])("input",{"onUpdate:modelValue":e[3]||(e[3]=function(t){return o.title=t}),type:"text"},null,512),[[i["R"],o.title]])]),Le,Object(i["i"])("div",Ge,[Object(i["i"])("input",Ke,null,512)]),qe,Object(i["i"])("div",Ye,[Object(i["V"])(Object(i["i"])("input",{"onUpdate:modelValue":e[4]||(e[4]=function(t){return o.artist=t}),type:"text"},null,512),[[i["R"],o.artist]])]),ze,Object(i["i"])("div",Qe,[Object(i["V"])(Object(i["i"])("input",{type:"text",class:"addSong cover","onUpdate:modelValue":e[5]||(e[5]=function(t){return o.cover=t}),ref:"cover"},null,512),[[i["R"],o.cover]]),Object(i["i"])("img",{onClick:e[6]||(e[6]=function(){return l.openInNewTab&&l.openInNewTab.apply(l,arguments)}),class:"addSong cover",src:o.cover?o.cover:"/assets/img/music_placeholder.png"},null,8,We)]),Object(i["i"])("div",Xe,[Object(i["i"])("button",{onClick:e[7]||(e[7]=function(){return l.add&&l.add.apply(l,arguments)}),class:"negative"},"Add")])])]})),_:1},8,["onClick","modelValue"])])}var tn={name:"AddSong",components:{FindSources:Pe},data:function(){return{showModal:!1,cover:"",artist:"",title:""}},methods:{opencontextmenu:function(t){this.$refs.findSources.show(t)},hideFindSourcesCtx:function(){this.$refs.findSources.hide()},add:function(){var t=this;this.showModal=!1,console.log("fetch"),fetch("http://localhost:1234/api/add",{method:"POST",body:JSON.stringify({id:Number(this.$route.params.id),source:this.$refs.source.value,title:this.title,artist:this.artist,album:this.$refs.album.value,cover:this.cover})}).then((function(e){console.log(e),t.$emit("close")}))},loadMetadata:function(){var t=this;fetch("http://localhost:1234/api/metadata",{method:"POST",body:JSON.stringify({url:this.$refs.source.value})}).then((function(t){return t.json()})).then((function(e){console.log(e),t.title=e.title,t.$refs.album.value=e.album,t.artist=e.artists.join(", "),t.cover=e.cover,t.$refs.source.value=e.src}))},openInNewTab:function(){window.open(this.cover?this.cover:"/assets/img/music_placeholder.png")}}};n("3347"),n("924a");const en=d()(tn,[["render",Ze],["__scopeId","data-v-23f10b9b"]]);var nn=en,cn=function(t){return Object(i["D"])("data-v-08cbea5e"),t=t(),Object(i["B"])(),t},on={class:"wrapper"},ln={class:"header"},an=cn((function(){return Object(i["i"])("h3",null,"Edit details",-1)})),rn=cn((function(){return Object(i["i"])("span",{class:"material-icons-round"}," close ",-1)})),sn=[rn],un=cn((function(){return Object(i["i"])("h4",null,"Name",-1)})),dn={class:"content"},bn=cn((function(){return Object(i["i"])("h4",null,"Description",-1)})),fn={class:"content"},pn={class:"confirm"};function hn(t,e,n,c,o,l){var a=Object(i["I"])("vue-final-modal");return Object(i["A"])(),Object(i["h"])("div",null,[Object(i["l"])(a,{modelValue:o.showModal,"onUpdate:modelValue":e[4]||(e[4]=function(t){return o.showModal=t}),classes:"modal-container","content-class":"modal-content"},{default:Object(i["U"])((function(){return[Object(i["i"])("div",on,[Object(i["i"])("div",ln,[an,Object(i["i"])("button",{class:"modal-close",onClick:e[0]||(e[0]=function(t){return o.showModal=!1})},sn)]),un,Object(i["i"])("div",dn,[Object(i["V"])(Object(i["i"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return o.name=t}),type:"text",ref:"name"},null,512),[[i["R"],o.name]])]),bn,Object(i["i"])("div",fn,[Object(i["V"])(Object(i["i"])("input",{"onUpdate:modelValue":e[2]||(e[2]=function(t){return o.description=t}),type:"text",ref:"description"},null,512),[[i["R"],o.description]])]),Object(i["i"])("div",pn,[Object(i["i"])("button",{onClick:e[3]||(e[3]=function(){return l.apply&&l.apply.apply(l,arguments)}),class:"negative"},"Save")])])]})),_:1},8,["modelValue"])])}var On={name:"EditPlaylist",props:{playlistName:String,playlistDescription:String},data:function(){return{showModal:!1,cover:"",name:this.playlistName,description:this.playlistDescription}},methods:{apply:function(){var t=this;this.showModal=!1,console.log("fetch"),fetch("http://localhost:1234/api/updatePlaylist",{method:"POST",body:JSON.stringify({id:Number(this.$route.params.id),name:this.name,description:this.description})}).then((function(e){console.log(e),t.$emit("close")}))}},watch:{playlistName:function(){this.name=this.playlistName},playlistDescription:function(){this.description=this.playlistDescription}}};n("06be"),n("2293");const jn=d()(On,[["render",hn],["__scopeId","data-v-08cbea5e"]]);var vn=jn,yn={components:{PlaylistEntry:Me,FixedPlaylistHeader:Rt,GridHeader:$t,AddSong:nn,EditPlaylist:vn},name:"Playlist",data:function(){return this.updatePlaylist(),{fixedHeaderHidden:!0,playlist:[],playlistName:"N/A",playlistDescription:""}},methods:{connect:function(){var t=this;console.log("attempting reconnect");var e=new WebSocket("ws://localhost:1234/ws");e.onclose=function(){console.log("ws closed"),setTimeout(this.connect,1e3)},e.onopen=function(){console.log("ws connected")},e.onmessage=function(e){var n=JSON.parse(e.data);t.updateData(n)}},headerVisibilityChanged:function(t){this.fixedHeaderHidden=t},addToPlaylist:function(){this.$refs.addSongPopup.showModal=!0},editPlaylist:function(){this.$refs.editPlaylistPopup.showModal=!0},updateData:function(t){if("player.song"==t.path){var e,n,i=(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.title)||"N/A",c=Object(kt["a"])(this.playlist);try{for(c.s();!(n=c.n()).done;){var o=n.value;o.playing=o.title==i}}catch(l){c.e(l)}finally{c.f()}}},updatePlaylist:function(){var t=this;this.$route.params.id&&("create"!=this.$route.params.id?fetch("http://localhost:1234/api/playlist",{method:"POST",body:JSON.stringify({id:Number(this.$route.params.id)})}).then(function(){var e=Object(gt["a"])(regeneratorRuntime.mark((function e(n){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(404!=n.status){e.next=3;break}return t.$router.push("/"),e.abrupt("return");case 3:return e.next=5,n.json();case 5:i=e.sent,t.playlist=i.songs,t.playlistName=i.name,t.playlistDescription=i.description,console.log(t.playlist),t.connect();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):fetch("http://localhost:1234/api/playlist/create").then((function(t){return t.text()})).then((function(e){console.log(e),t.$router.push(e)})))},loadPlaylist:function(){fetch("http://localhost:1234/api/loadPlaylist",{method:"POST",body:JSON.stringify({id:Number(this.$route.params.id)})})}},watch:{$route:function(){this.updatePlaylist()}}};n("26f0");const mn=d()(yn,[["render",mt],["__scopeId","data-v-2ef237ea"]]);var gn=mn,kn={class:"search"};function Sn(t,e,n,c,o,l){var a=Object(i["I"])("Item"),r=Object(i["I"])("Shelf"),s=Object(i["I"])("search-item");return Object(i["A"])(),Object(i["h"])("div",kn,[Object(i["V"])(Object(i["i"])("input",{onKeyup:e[0]||(e[0]=function(){return l.enterText&&l.enterText.apply(l,arguments)}),"onUpdate:modelValue":e[1]||(e[1]=function(t){return o.query=t}),type:"text"},null,544),[[i["R"],o.query]]),o.tracks.length?(Object(i["A"])(),Object(i["f"])(r,{key:0,heading:"Songs"},{default:Object(i["U"])((function(){return[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.tracks,(function(t){return Object(i["A"])(),Object(i["f"])(a,{key:t.url,cover:t.cover,href:t.url,artist:t.artists.join(", "),title:t.title},null,8,["cover","href","artist","title"])})),128))]})),_:1})):Object(i["g"])("",!0),o.spotifyTracks.length?(Object(i["A"])(),Object(i["f"])(r,{key:1,heading:"Songs (Spotify)"},{default:Object(i["U"])((function(){return[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.spotifyTracks,(function(t){return Object(i["A"])(),Object(i["f"])(s,{key:t.url,cover:t.cover,href:t.url,artist:t.artists.join(", "),title:t.title},null,8,["cover","href","artist","title"])})),128))]})),_:1})):Object(i["g"])("",!0),o.youtubeTracks.length?(Object(i["A"])(),Object(i["f"])(r,{key:2,heading:"Songs (Youtube)"},{default:Object(i["U"])((function(){return[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.youtubeTracks,(function(t){return Object(i["A"])(),Object(i["f"])(s,{key:t.url,cover:t.cover,href:t.url,artist:t.artists.join(", "),title:t.title},null,8,["cover","href","artist","title"])})),128))]})),_:1})):Object(i["g"])("",!0),o.artists.length?(Object(i["A"])(),Object(i["f"])(r,{key:3,heading:"Artists"},{default:Object(i["U"])((function(){return[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.artists,(function(t){return Object(i["A"])(),Object(i["f"])(a,{key:t.url,cover:t.cover,href:t.url,artist:t.artists.join(", "),title:t.title},null,8,["cover","href","artist","title"])})),128))]})),_:1})):Object(i["g"])("",!0),o.spotifyArtists.length?(Object(i["A"])(),Object(i["f"])(r,{key:4,heading:"Artists (Spotify)"},{default:Object(i["U"])((function(){return[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.spotifyArtists,(function(t){return Object(i["A"])(),Object(i["f"])(a,{key:t.url,cover:t.cover,href:t.url,artist:t.artists.join(", "),title:t.title},null,8,["cover","href","artist","title"])})),128))]})),_:1})):Object(i["g"])("",!0)])}var An=n("e599"),wn=(n("c720"),n("0e37"),{class:"wrapper"}),Cn=["src"],Pn={key:0,class:"note"};function xn(t,e,n,c,o,l){var a=Object(i["I"])("add-album-to-playlist");return Object(i["A"])(),Object(i["h"])("div",wn,[Object(i["l"])(a,{id:this.href.replace("https://open.spotify.com/album/",""),cover:n.cover,title:n.title,artist:n.artist,ref:"addAlbum"},null,8,["id","cover","title","artist"]),Object(i["i"])("div",{class:"item",onClick:e[0]||(e[0]=function(){return l.redirect&&l.redirect.apply(l,arguments)})},[Object(i["i"])("img",{src:n.cover},null,8,Cn),Object(i["i"])("h4",null,Object(i["N"])(n.title),1),Object(i["i"])("p",null,Object(i["N"])(n.artist),1),n.releaseDate?(Object(i["A"])(),Object(i["h"])("p",Pn,"Released on "+Object(i["N"])(n.releaseDate),1)):Object(i["g"])("",!0)])])}var In=function(t){return Object(i["D"])("data-v-e21c9656"),t=t(),Object(i["B"])(),t},_n={class:"wrapper"},Nn={class:"header"},Tn=In((function(){return Object(i["i"])("h3",null,"Add album",-1)})),Mn=In((function(){return Object(i["i"])("span",{class:"material-icons-round"}," close ",-1)})),Vn=[Mn],Un=In((function(){return Object(i["i"])("h4",null,"To Playlist",-1)})),$n=In((function(){return Object(i["i"])("br",null,null,-1)})),Dn={key:0},Hn=In((function(){return Object(i["i"])("h4",null,"Source",-1)})),Rn={class:"content"},En=In((function(){return Object(i["i"])("h4",null,"Title",-1)})),Bn={class:"content"},Jn=In((function(){return Object(i["i"])("h4",null,"Album",-1)})),Fn={class:"content"},Ln=In((function(){return Object(i["i"])("h4",null,"Artist",-1)})),Gn={class:"content"},Kn=In((function(){return Object(i["i"])("h4",null,"Cover",-1)})),qn={class:"content"},Yn=["src"],zn={class:"confirm"},Qn={key:1},Wn=["src"],Xn={class:"details"},Zn=Object(i["k"])("Album"),ti=In((function(){return Object(i["i"])("hr",null,null,-1)})),ei=In((function(){return Object(i["i"])("hr",null,null,-1)})),ni={class:"confirm"};function ii(t,e,n,c,o,l){var a=Object(i["I"])("FindSources"),r=Object(i["I"])("h7"),s=Object(i["I"])("album-header"),u=Object(i["I"])("album-entry"),d=Object(i["I"])("vue-final-modal"),b=Object(i["J"])("observe-visibility");return Object(i["A"])(),Object(i["h"])("div",null,[Object(i["l"])(d,{onClick:t.hideFindSourcesCtx,modelValue:o.showModal,"onUpdate:modelValue":e[12]||(e[12]=function(t){return o.showModal=t}),classes:"modal-containerr","content-class":"addAlbumToPlaylistPopup"},{default:Object(i["U"])((function(){return[Object(i["i"])("div",_n,[Object(i["i"])("div",Nn,[Tn,Object(i["i"])("button",{class:"modal-close",onClick:e[0]||(e[0]=function(){return l.close&&l.close.apply(l,arguments)})},Vn)]),Un,Object(i["V"])(Object(i["i"])("select",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return o.selectedPlaylist=t})},[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.playlists,(function(t){return Object(i["A"])(),Object(i["h"])("option",{key:t},Object(i["N"])(t),1)})),128))],512),[[i["Q"],o.selectedPlaylist]]),$n,o.editSong?(Object(i["A"])(),Object(i["h"])("div",Dn,[Hn,Object(i["l"])(a,{ref:"findSources",title:n.title,artist:n.artist},{default:Object(i["U"])((function(){return[Object(i["i"])("div",Rn,[Object(i["V"])(Object(i["i"])("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.dSource=e}),ref:"source"},null,512),[[i["R"],t.dSource]]),Object(i["i"])("span",{class:"material-icons-round more",ref:"sourceMore",onClick:e[3]||(e[3]=function(){return t.opencontextmenu&&t.opencontextmenu.apply(t,arguments)})},"more_vert",512)])]})),_:1},8,["title","artist"]),En,Object(i["i"])("div",Bn,[Object(i["V"])(Object(i["i"])("input",{"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.dTitle=e}),type:"text"},null,512),[[i["R"],t.dTitle]])]),Jn,Object(i["i"])("div",Fn,[Object(i["V"])(Object(i["i"])("input",{"onUpdate:modelValue":e[5]||(e[5]=function(e){return t.dAlbum=e}),type:"text",ref:"album"},null,512),[[i["R"],t.dAlbum]])]),Ln,Object(i["i"])("div",Gn,[Object(i["V"])(Object(i["i"])("input",{"onUpdate:modelValue":e[6]||(e[6]=function(e){return t.dArtist=e}),type:"text"},null,512),[[i["R"],t.dArtist]])]),Kn,Object(i["i"])("div",qn,[Object(i["V"])(Object(i["i"])("input",{type:"text",class:"addSong cover","onUpdate:modelValue":e[7]||(e[7]=function(e){return t.dCover=e}),ref:"cover"},null,512),[[i["R"],t.dCover]]),Object(i["i"])("img",{onClick:e[8]||(e[8]=function(){return l.openInNewTab&&l.openInNewTab.apply(l,arguments)}),class:"addSong cover",src:t.dCover?t.dCover:"/assets/img/music_placeholder.png"},null,8,Yn)]),Object(i["i"])("div",zn,[Object(i["i"])("button",{onClick:e[9]||(e[9]=function(){return l.add&&l.add.apply(l,arguments)}),class:"negative"},"Add")])])):(Object(i["A"])(),Object(i["h"])("div",Qn,[Object(i["V"])((Object(i["A"])(),Object(i["h"])("div",{class:"padding-20 playlisteditor",onClick:e[10]||(e[10]=function(){return t.editPlaylist&&t.editPlaylist.apply(t,arguments)})},[Object(i["i"])("img",{class:"cover",src:n.cover},null,8,Wn),Object(i["i"])("div",Xn,[Object(i["l"])(r,null,{default:Object(i["U"])((function(){return[Zn]})),_:1}),Object(i["i"])("h1",null,Object(i["N"])(n.title),1),Object(i["i"])("h5",null,Object(i["N"])(n.artist),1)])])),[[b,t.headerVisibilityChanged]]),ti,Object(i["l"])(s),ei,(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.playlist,(function(t,e){return Object(i["A"])(),Object(i["f"])(u,{onAdd:l.add,key:e,added:t.added,index:e,cover:t.cover,artist:t.artists.join(", "),title:t.title,source:t.source},null,8,["onAdd","added","index","cover","artist","title","source"])})),128))])),Object(i["i"])("div",ni,[Object(i["i"])("button",{onClick:e[11]||(e[11]=function(){return l.addAll&&l.addAll.apply(l,arguments)}),class:"negative"},"Add All")])])]})),_:1},8,["onClick","modelValue"])])}n("867d");var ci={class:"track"},oi={class:"trackwrapper"};function li(t,e,n,c,o,l){return Object(i["A"])(),Object(i["h"])("div",{onDblclick:e[2]||(e[2]=function(){l.playAt(),l.onselect()}),onClick:e[3]||(e[3]=function(){return l.onselect&&l.onselect.apply(l,arguments)}),onMouseover:e[4]||(e[4]=function(){return l.displayPlay&&l.displayPlay.apply(l,arguments)}),onMouseleave:e[5]||(e[5]=function(){return l.displayId&&l.displayId.apply(l,arguments)}),class:Object(i["u"])(["playlistEntry",{selected:o.highlighted}])},[Object(i["i"])("span",{onClick:e[0]||(e[0]=function(){return t.edit&&t.edit.apply(t,arguments)}),ref:"idOrPlay",class:Object(i["u"])([{playing:t.playing},"id"])},Object(i["N"])(n.index+1),3),Object(i["i"])("div",ci,[Object(i["i"])("div",oi,[Object(i["i"])("span",{class:Object(i["u"])(["title",{playing:t.playing}])},Object(i["N"])(n.title),3),Object(i["i"])("span",{class:Object(i["u"])(["artist",{playing:t.playing}])},Object(i["N"])(n.artist),3)])]),Object(i["i"])("span",{onClick:e[1]||(e[1]=function(){return l.add&&l.add.apply(l,arguments)}),class:"material-icons-round edit",ref:"add"},"add",512)],34)}var ai={name:"AlbumEntry",props:{index:Number,id:Number,source:String,artist:{type:String,default:"N/A"},title:{type:String,default:"N/A"},added:Boolean},data:function(){return{highlighted:!1,favourited:this.favourite,isAutoPlaylist:"/collection/tracks"==this.$route.path}},methods:{remove:function(){fetch("http://localhost:1234/api/remove",{method:"POST",body:JSON.stringify({playlistId:Number(this.$route.params.id),songId:this.id})})},onselect:function(){this.highlighted=!this.highlighted},displayPlay:function(){var t=this.$refs.idOrPlay;t.innerHTML="edit",t.classList.add("material-icons-round")},displayId:function(){var t=this.$refs.idOrPlay;t.innerHTML=this.index+1,t.classList.remove("material-icons-round")},playAt:function(){this.$emit("edit",this.index)},add:function(){console.log("add"),this.$emit("add",this.index)}},watch:{added:function(){console.log("change"),this.$refs.add.innerHTML=this.added?"done":"add"}}};n("db3b");const ri=d()(ai,[["render",li],["__scopeId","data-v-1c61a37f"]]);var si=ri,ui=function(t){return Object(i["D"])("data-v-a99c9dc4"),t=t(),Object(i["B"])(),t},di={class:"gridHeader"},bi=ui((function(){return Object(i["i"])("span",{class:"id"},"#",-1)})),fi=ui((function(){return Object(i["i"])("span",{class:"title"},"Title",-1)})),pi=[bi,fi];function hi(t,e,n,c,o,l){return Object(i["A"])(),Object(i["h"])("div",di,pi)}var Oi={name:"AlbumHeader"};n("886e");const ji=d()(Oi,[["render",hi],["__scopeId","data-v-a99c9dc4"]]);var vi=ji,yi={name:"AddAlbumToPlaylist",components:{FindSources:Pe,AlbumEntry:si,AlbumHeader:vi},props:{cover:String,artist:String,title:String,href:String,id:String},data:function(){return{showModal:!1,playlists:[],selectedPlaylist:-1,playlist:[],editSong:!1}},methods:{close:function(){this.showModal=!1,this.$emit("close")},loadMetadata:function(){var t=this;fetch("http://localhost:1234/api/metadata",{method:"POST",body:JSON.stringify({url:this.$refs.source.value})}).then((function(t){return t.json()})).then((function(e){console.log(e),t.dTitle=e.title,t.$refs.album.value=e.album,t.dArtist=e.artists.join(", "),t.dCover=e.cover,t.$refs.source.value=e.src}))},openInNewTab:function(){window.open(this.cover?this.cover:"/assets/img/music_placeholder.png")},addAll:function(){for(var t=0;t<this.playlist.length;t++)this.add(t)},add:function(t){var e=this,n=this.playlist[t],i=this.playlists.findIndex((function(t){return t==e.selectedPlaylist}));console.log(n,i),i<0?alert("no playlist selected"):fetch("http://localhost:1234/api/add",{method:"POST",body:JSON.stringify({id:i,source:n.src,title:n.title,artist:n.artists.join(", "),album:this.title,cover:this.cover})}).then((function(t){200==t.status&&(n.added=!0)}))}},watch:{dSource:function(){this.loadMetadata()},showModal:function(){var t=this;this.showModal&&(fetch("http://localhost:1234/api/playlists").then((function(t){return t.json()})).then((function(e){var n;t.playlists.length=0,(n=t.playlists).push.apply(n,Object(An["a"])(e))})),fetch("http://localhost:1234/api/spotify/album",{method:"POST",body:JSON.stringify({albumId:this.id})}).then((function(t){return t.json()})).then((function(e){var n;t.playlist.length=0,(n=t.playlist).push.apply(n,Object(An["a"])(e))})))}}};n("7600"),n("c4d5");const mi=d()(yi,[["render",ii],["__scopeId","data-v-e21c9656"]]);var gi=mi,ki={name:"ReleaseItem",components:{AddAlbumToPlaylist:gi},methods:{redirect:function(){this.$refs.addAlbum.showModal=!0}},props:{cover:String,title:String,artist:String,href:String,releaseDate:String}};n("d057");const Si=d()(ki,[["render",xn],["__scopeId","data-v-d1b49be0"]]);var Ai=Si,wi={class:"wrapper"},Ci=["src"],Pi={key:0,class:"note"};function xi(t,e,n,c,o,l){var a=Object(i["I"])("add-song-to-playlist");return Object(i["A"])(),Object(i["h"])("div",wi,[Object(i["l"])(a,{href:n.href,cover:n.cover,title:n.title,artist:n.artist,ref:"addAlbum"},null,8,["href","cover","title","artist"]),Object(i["i"])("div",{class:"item",onClick:e[0]||(e[0]=function(){return l.redirect&&l.redirect.apply(l,arguments)})},[Object(i["i"])("img",{src:n.cover},null,8,Ci),Object(i["i"])("h4",null,Object(i["N"])(n.title),1),Object(i["i"])("p",null,Object(i["N"])(n.artist),1),n.releaseDate?(Object(i["A"])(),Object(i["h"])("p",Pi,"Released on "+Object(i["N"])(n.releaseDate),1)):Object(i["g"])("",!0)])])}var Ii=function(t){return Object(i["D"])("data-v-15368cfc"),t=t(),Object(i["B"])(),t},_i={class:"wrapper"},Ni={class:"header"},Ti=Ii((function(){return Object(i["i"])("h3",null,"Add song",-1)})),Mi=Ii((function(){return Object(i["i"])("span",{class:"material-icons-round"}," close ",-1)})),Vi=[Mi],Ui=Ii((function(){return Object(i["i"])("h4",null,"To Playlist",-1)})),$i=Ii((function(){return Object(i["i"])("br",null,null,-1)})),Di=["src"],Hi={class:"details"},Ri=Object(i["k"])("Song"),Ei={class:"confirm"};function Bi(t,e,n,c,o,l){var a=Object(i["I"])("h7"),r=Object(i["I"])("vue-final-modal"),s=Object(i["J"])("observe-visibility");return Object(i["A"])(),Object(i["h"])("div",null,[Object(i["l"])(r,{onClick:t.hideFindSourcesCtx,modelValue:o.showModal,"onUpdate:modelValue":e[4]||(e[4]=function(t){return o.showModal=t}),classes:"modal-containerr","content-class":"addAlbumToPlaylistPopup"},{default:Object(i["U"])((function(){return[Object(i["i"])("div",_i,[Object(i["i"])("div",Ni,[Ti,Object(i["i"])("button",{class:"modal-close",onClick:e[0]||(e[0]=function(){return l.close&&l.close.apply(l,arguments)})},Vi)]),Ui,Object(i["V"])(Object(i["i"])("select",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return o.selectedPlaylist=t})},[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.playlists,(function(t){return Object(i["A"])(),Object(i["h"])("option",{key:t},Object(i["N"])(t),1)})),128))],512),[[i["Q"],o.selectedPlaylist]]),$i,Object(i["i"])("div",null,[Object(i["V"])((Object(i["A"])(),Object(i["h"])("div",{class:"padding-20 playlisteditor",onClick:e[2]||(e[2]=function(){return t.editPlaylist&&t.editPlaylist.apply(t,arguments)})},[Object(i["i"])("img",{class:"cover",src:n.cover},null,8,Di),Object(i["i"])("div",Hi,[Object(i["l"])(a,null,{default:Object(i["U"])((function(){return[Ri]})),_:1}),Object(i["i"])("h1",null,Object(i["N"])(n.title),1),Object(i["i"])("h5",null,Object(i["N"])(n.artist),1)])])),[[s,t.headerVisibilityChanged]])]),Object(i["i"])("div",Ei,[Object(i["i"])("button",{onClick:e[3]||(e[3]=function(){return l.add&&l.add.apply(l,arguments)}),class:"negative"},"Add")])])]})),_:1},8,["onClick","modelValue"])])}var Ji={name:"AddSongToPlaylist",props:{cover:String,artist:String,title:String,href:String},data:function(){return{showModal:!1,selectedPlaylist:-1,track:{},playlists:[]}},methods:{close:function(){this.showModal=!1,this.$emit("close")},loadMetadata:function(){var t=this;fetch("http://localhost:1234/api/metadata",{method:"POST",body:JSON.stringify({url:this.href})}).then((function(t){return t.json()})).then((function(e){t.track=e}))},openInNewTab:function(){window.open(this.cover?this.cover:"/assets/img/music_placeholder.png")},add:function(){var t=this,e=this.track,n=this.playlists.findIndex((function(e){return e==t.selectedPlaylist}));console.log(e,n),n<0?alert("no playlist selected"):fetch("http://localhost:1234/api/add",{method:"POST",body:JSON.stringify({id:n,source:e.src,title:e.title,artist:e.artists.join(", "),album:this.title,cover:this.cover})}).then((function(n){200==n.status&&(e.added=!0,t.close())}))}},watch:{showModal:function(){var t=this;this.showModal&&(fetch("http://localhost:1234/api/playlists").then((function(t){return t.json()})).then((function(e){var n;t.playlists.length=0,(n=t.playlists).push.apply(n,Object(An["a"])(e))})),this.loadMetadata())}}};n("6497"),n("5568");const Fi=d()(Ji,[["render",Bi],["__scopeId","data-v-15368cfc"]]);var Li=Fi,Gi={components:{AddSongToPlaylist:Li},name:"SongItem",methods:{redirect:function(){this.$refs.addAlbum.showModal=!0}},props:{cover:String,title:String,artist:String,releaseDate:String,href:String}};n("09a1");const Ki=d()(Gi,[["render",xi],["__scopeId","data-v-55ded93e"]]);var qi=Ki,Yi=function(t){return Object(i["D"])("data-v-a845af6e"),t=t(),Object(i["B"])(),t},zi={class:"shelf"},Qi={class:"header"},Wi=Yi((function(){return Object(i["i"])("h5",null,"See All",-1)})),Xi={class:"items"};function Zi(t,e,n,c,o,l){return Object(i["A"])(),Object(i["h"])("div",zi,[Object(i["i"])("div",Qi,[Object(i["i"])("h2",null,Object(i["N"])(n.heading),1),Wi]),Object(i["i"])("div",Xi,[Object(i["H"])(t.$slots,"default",{},void 0,!0)])])}var tc={name:"Shelf",props:{heading:String}};n("9f1b");const ec=d()(tc,[["render",Zi],["__scopeId","data-v-a845af6e"]]);var nc=ec,ic={name:"Search",components:{Shelf:nc,Item:Ai,SearchItem:qi},data:function(){return{query:"",spotifyTracks:[],spotifyArtists:[],tracks:[],artists:[],youtubeTracks:[]}},methods:{search:function(){var t=this,e=this.$route.params.query;e&&fetch("http://localhost:1234/api/search",{method:"POST",body:JSON.stringify({query:e})}).then((function(t){return t.json()})).then((function(e){var n,i,c,o,l;t.spotifyTracks.length=0,t.spotifyArtists.length=0,t.tracks.length=0,t.artists.length=0,t.youtubeTracks.length=0,(n=t.spotifyTracks).push.apply(n,Object(An["a"])(e.spotifyTracks||[])),(i=t.spotifyArtists).push.apply(i,Object(An["a"])(e.spotifyArtists||[])),(c=t.tracks).push.apply(c,Object(An["a"])(e.tracks||[])),(o=t.artists).push.apply(o,Object(An["a"])(e.artists||[])),(l=t.youtubeTracks).push.apply(l,Object(An["a"])(e.youtubeTracks||[]))}))},enterText:function(t){"Enter"===t.key&&this.$router.push("/search/"+this.query)}},watch:{$route:function(){this.search()}},mounted:function(){this.search()}};n("2f8b");const cc=d()(ic,[["render",Sn],["__scopeId","data-v-f4ff2f5a"]]);var oc=cc,lc=function(t){return Object(i["D"])("data-v-000223ea"),t=t(),Object(i["B"])(),t},ac={class:"padding-20"},rc=lc((function(){return Object(i["i"])("div",{class:"albums"}," Albums ",-1)}));function sc(t,e,n,c,o,l){var a=Object(i["I"])("CollectionHeader");return Object(i["A"])(),Object(i["h"])("div",ac,[Object(i["l"])(a),rc])}var uc=function(t){return Object(i["D"])("data-v-005a915a"),t=t(),Object(i["B"])(),t},dc={class:"wrapper"},bc=uc((function(){return Object(i["i"])("div",{class:"collection"}," Playlists ",-1)})),fc=uc((function(){return Object(i["i"])("div",{class:"collection"}," Releases ",-1)})),pc=uc((function(){return Object(i["i"])("div",{class:"collection"}," Artists ",-1)}));function hc(t,e,n,c,o,l){var a=Object(i["I"])("router-link");return Object(i["A"])(),Object(i["h"])("div",dc,[Object(i["l"])(a,{class:"link",to:"/collection/playlists"},{default:Object(i["U"])((function(){return[bc]})),_:1}),Object(i["l"])(a,{class:"link",to:"/collection/releases"},{default:Object(i["U"])((function(){return[fc]})),_:1}),Object(i["l"])(a,{class:"link",to:"/collection/artists"},{default:Object(i["U"])((function(){return[pc]})),_:1}),Object(i["g"])("",!0)])}var Oc={name:"CollectionHeader",props:{href:String}};n("dad6");const jc=d()(Oc,[["render",hc],["__scopeId","data-v-005a915a"]]);var vc=jc,yc={components:{CollectionHeader:vc},name:"Albums"};n("8b2f");const mc=d()(yc,[["render",sc],["__scopeId","data-v-000223ea"]]);var gc=mc,kc={class:"padding-20"},Sc={class:"artists"};function Ac(t,e,n,c,o,l){var a=Object(i["I"])("CollectionHeader"),r=Object(i["I"])("artist-item"),s=Object(i["I"])("full-shelf");return Object(i["A"])(),Object(i["h"])("div",kc,[Object(i["l"])(a),Object(i["i"])("div",Sc,[Object(i["l"])(s,{heading:"Following on Spotify"},{default:Object(i["U"])((function(){return[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.spotifyArtists,(function(t,e){return Object(i["A"])(),Object(i["f"])(r,{key:e,cover:t.cover,description:t.description,name:t.name,id:t.id},null,8,["cover","description","name","id"])})),128))]})),_:1})])])}var wc={class:"shelf"},Cc={class:"header"},Pc={class:"items"};function xc(t,e,n,c,o,l){return Object(i["A"])(),Object(i["h"])("div",wc,[Object(i["i"])("div",Cc,[Object(i["i"])("h2",null,Object(i["N"])(n.heading),1)]),Object(i["i"])("div",Pc,[Object(i["H"])(t.$slots,"default",{},void 0,!0)])])}var Ic={name:"FullShelf",props:{heading:String}};n("b3fc");const _c=d()(Ic,[["render",xc],["__scopeId","data-v-be2be860"]]);var Nc=_c,Tc={class:"wrapper"},Mc=["src"],Vc=["innerHTML"];function Uc(t,e,n,c,o,l){var a=Object(i["I"])("add-artist-to-playlist");return Object(i["A"])(),Object(i["h"])("div",Tc,[Object(i["l"])(a,{cover:n.cover,name:n.name,description:n.description,id:n.id,ref:"import"},null,8,["cover","name","description","id"]),Object(i["i"])("div",{class:"item",onClick:e[0]||(e[0]=function(){return l.redirect&&l.redirect.apply(l,arguments)})},[Object(i["i"])("img",{src:n.cover},null,8,Mc),Object(i["i"])("h4",null,Object(i["N"])(n.name),1),Object(i["i"])("p",{innerHTML:n.description},null,8,Vc)])])}var $c=function(t){return Object(i["D"])("data-v-c42aa2ec"),t=t(),Object(i["B"])(),t},Dc={class:"wrapper"},Hc={class:"header"},Rc=$c((function(){return Object(i["i"])("h3",null,"Import playlist",-1)})),Ec=$c((function(){return Object(i["i"])("span",{class:"material-icons-round"}," close ",-1)})),Bc=[Ec],Jc=$c((function(){return Object(i["i"])("h4",null,"To Playlist",-1)})),Fc=$c((function(){return Object(i["i"])("br",null,null,-1)})),Lc={key:0},Gc=$c((function(){return Object(i["i"])("h4",null,"Source",-1)})),Kc={class:"content"},qc=$c((function(){return Object(i["i"])("h4",null,"Title",-1)})),Yc={class:"content"},zc=$c((function(){return Object(i["i"])("h4",null,"Album",-1)})),Qc={class:"content"},Wc=$c((function(){return Object(i["i"])("h4",null,"Artist",-1)})),Xc={class:"content"},Zc=$c((function(){return Object(i["i"])("h4",null,"Cover",-1)})),to={class:"content"},eo=["src"],no={class:"confirm"},io={key:1},co=["src"],oo={class:"details"},lo=Object(i["k"])("Artist"),ao=["innerHTML"],ro=$c((function(){return Object(i["i"])("hr",null,null,-1)})),so=$c((function(){return Object(i["i"])("hr",null,null,-1)})),uo={class:"confirm"};function bo(t,e,n,c,o,l){var a=Object(i["I"])("FindSources"),r=Object(i["I"])("h7"),s=Object(i["I"])("spotify-playlist-header"),u=Object(i["I"])("spotify-playlist-entry"),d=Object(i["I"])("vue-final-modal"),b=Object(i["J"])("observe-visibility");return Object(i["A"])(),Object(i["h"])("div",null,[Object(i["l"])(d,{onClick:t.hideFindSourcesCtx,modelValue:o.showModal,"onUpdate:modelValue":e[12]||(e[12]=function(t){return o.showModal=t}),classes:"modal-containerr","content-class":"addAlbumToPlaylistPopup"},{default:Object(i["U"])((function(){return[Object(i["i"])("div",Dc,[Object(i["i"])("div",Hc,[Rc,Object(i["i"])("button",{class:"modal-close",onClick:e[0]||(e[0]=function(){return l.close&&l.close.apply(l,arguments)})},Bc)]),Jc,Object(i["V"])(Object(i["i"])("select",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return o.selectedPlaylist=t})},[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.playlists,(function(t){return Object(i["A"])(),Object(i["h"])("option",{key:t},Object(i["N"])(t),1)})),128))],512),[[i["Q"],o.selectedPlaylist]]),Fc,o.editSong?(Object(i["A"])(),Object(i["h"])("div",Lc,[Gc,Object(i["l"])(a,{ref:"findSources",title:t.title,artist:t.artist},{default:Object(i["U"])((function(){return[Object(i["i"])("div",Kc,[Object(i["V"])(Object(i["i"])("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.dSource=e}),ref:"source"},null,512),[[i["R"],t.dSource]]),Object(i["i"])("span",{class:"material-icons-round more",ref:"sourceMore",onClick:e[3]||(e[3]=function(){return t.opencontextmenu&&t.opencontextmenu.apply(t,arguments)})},"more_vert",512)])]})),_:1},8,["title","artist"]),qc,Object(i["i"])("div",Yc,[Object(i["V"])(Object(i["i"])("input",{"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.dTitle=e}),type:"text"},null,512),[[i["R"],t.dTitle]])]),zc,Object(i["i"])("div",Qc,[Object(i["V"])(Object(i["i"])("input",{"onUpdate:modelValue":e[5]||(e[5]=function(e){return t.dAlbum=e}),type:"text",ref:"album"},null,512),[[i["R"],t.dAlbum]])]),Wc,Object(i["i"])("div",Xc,[Object(i["V"])(Object(i["i"])("input",{"onUpdate:modelValue":e[6]||(e[6]=function(e){return t.dArtist=e}),type:"text"},null,512),[[i["R"],t.dArtist]])]),Zc,Object(i["i"])("div",to,[Object(i["V"])(Object(i["i"])("input",{type:"text",class:"addSong cover","onUpdate:modelValue":e[7]||(e[7]=function(e){return t.dCover=e}),ref:"cover"},null,512),[[i["R"],t.dCover]]),Object(i["i"])("img",{onClick:e[8]||(e[8]=function(){return l.openInNewTab&&l.openInNewTab.apply(l,arguments)}),class:"addSong cover",src:t.dCover?t.dCover:"/assets/img/music_placeholder.png"},null,8,eo)]),Object(i["i"])("div",no,[Object(i["i"])("button",{onClick:e[9]||(e[9]=function(){return l.add&&l.add.apply(l,arguments)}),class:"negative"},"Add")])])):(Object(i["A"])(),Object(i["h"])("div",io,[Object(i["V"])((Object(i["A"])(),Object(i["h"])("div",{class:"padding-20 playlisteditor",onClick:e[10]||(e[10]=function(){return t.editPlaylist&&t.editPlaylist.apply(t,arguments)})},[Object(i["i"])("img",{class:"cover",src:n.cover},null,8,co),Object(i["i"])("div",oo,[Object(i["l"])(r,null,{default:Object(i["U"])((function(){return[lo]})),_:1}),Object(i["i"])("h1",null,Object(i["N"])(n.name),1),Object(i["i"])("h5",{innerHTML:n.description},null,8,ao)])])),[[b,t.headerVisibilityChanged]]),ro,Object(i["l"])(s),so,(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.playlist,(function(t,e){return Object(i["A"])(),Object(i["f"])(u,{onAdd:l.add,key:e,added:t.added,index:e,cover:t.cover,artist:t.artists.join(", "),title:t.title,source:t.source,album:t.album},null,8,["onAdd","added","index","cover","artist","title","source","album"])})),128))])),Object(i["i"])("div",uo,[Object(i["i"])("button",{onClick:e[11]||(e[11]=function(){return l.addAll&&l.addAll.apply(l,arguments)}),class:"negative"},"Add All")])])]})),_:1},8,["onClick","modelValue"])])}var fo={class:"track"},po=["src"],ho={class:"trackwrapper"},Oo={class:"title"},jo={class:"artist"};function vo(t,e,n,c,o,l){return Object(i["A"])(),Object(i["h"])("div",{onDblclick:e[2]||(e[2]=function(){l.playAt(),l.onselect()}),onClick:e[3]||(e[3]=function(){return l.onselect&&l.onselect.apply(l,arguments)}),onMouseover:e[4]||(e[4]=function(){return l.displayPlay&&l.displayPlay.apply(l,arguments)}),onMouseleave:e[5]||(e[5]=function(){return l.displayId&&l.displayId.apply(l,arguments)}),class:Object(i["u"])(["playlistEntry",{selected:o.highlighted}])},[Object(i["i"])("span",{onClick:e[0]||(e[0]=function(){return t.edit&&t.edit.apply(t,arguments)}),ref:"idOrPlay",class:"id"},Object(i["N"])(n.index+1),513),Object(i["i"])("div",fo,[Object(i["i"])("img",{src:n.cover||"/assets/img/music_placeholder.png"},null,8,po),Object(i["i"])("div",ho,[Object(i["i"])("span",Oo,Object(i["N"])(n.title),1),Object(i["i"])("span",jo,Object(i["N"])(n.artist),1)]),Object(i["g"])("",!0)]),Object(i["i"])("span",{onClick:e[1]||(e[1]=function(){return l.add&&l.add.apply(l,arguments)}),class:"material-icons-round edit",ref:"add"},"add",512)],34)}var yo={name:"SpotifyPlaylistEntry",props:{index:Number,id:Number,source:String,artist:{type:String,default:"N/A"},title:{type:String,default:"N/A"},added:Boolean,cover:String,album:String},data:function(){return{highlighted:!1,favourited:this.favourite,isAutoPlaylist:"/collection/tracks"==this.$route.path}},methods:{remove:function(){fetch("http://localhost:1234/api/remove",{method:"POST",body:JSON.stringify({playlistId:Number(this.$route.params.id),songId:this.id})})},onselect:function(){this.highlighted=!this.highlighted},displayPlay:function(){var t=this.$refs.idOrPlay;t.innerHTML="edit",t.classList.add("material-icons-round")},displayId:function(){var t=this.$refs.idOrPlay;t.innerHTML=this.index+1,t.classList.remove("material-icons-round")},playAt:function(){this.$emit("edit",this.index)},add:function(){console.log("add"),this.$emit("add",this.index)}},watch:{added:function(){console.log("change"),this.$refs.add.innerHTML=this.added?"done":"add"}}};n("cdce");const mo=d()(yo,[["render",vo],["__scopeId","data-v-311b9f8a"]]);var go=mo,ko=function(t){return Object(i["D"])("data-v-491e69c7"),t=t(),Object(i["B"])(),t},So={class:"gridHeader"},Ao=ko((function(){return Object(i["i"])("span",{class:"id"},"#",-1)})),wo=ko((function(){return Object(i["i"])("span",{class:"title"},"Title",-1)})),Co=[Ao,wo];function Po(t,e,n,c,o,l){return Object(i["A"])(),Object(i["h"])("div",So,Co)}var xo={name:"SpotifyPlaylistHeader"};n("4fce");const Io=d()(xo,[["render",Po],["__scopeId","data-v-491e69c7"]]);var _o=Io,No={name:"AddArtistToPlaylist",components:{FindSources:Pe,SpotifyPlaylistHeader:_o,SpotifyPlaylistEntry:go},props:{cover:String,description:String,name:String,href:String,id:String},data:function(){return{showModal:!1,playlists:[],selectedPlaylist:-1,playlist:[],editSong:!1}},methods:{close:function(){this.showModal=!1,this.$emit("close")},loadMetadata:function(){var t=this;fetch("http://localhost:1234/api/metadata",{method:"POST",body:JSON.stringify({url:this.$refs.source.value})}).then((function(t){return t.json()})).then((function(e){console.log(e),t.dTitle=e.title,t.$refs.album.value=e.album,t.dArtist=e.artists.join(", "),t.dCover=e.cover,t.$refs.source.value=e.src}))},openInNewTab:function(){window.open(this.cover?this.cover:"/assets/img/music_placeholder.png")},addAll:function(){for(var t=0;t<this.playlist.length;t++)this.add(t)},add:function(t){var e=this,n=this.playlist[t],i=this.playlists.findIndex((function(t){return t==e.selectedPlaylist}));console.log(n,i),i<0?alert("no playlist selected"):fetch("http://localhost:1234/api/add",{method:"POST",body:JSON.stringify({id:i,source:n.src,title:n.title,artist:n.artists.join(", "),album:n.album,cover:n.cover})}).then((function(t){200==t.status&&(n.added=!0)}))}},watch:{dSource:function(){this.loadMetadata()},showModal:function(){var t=this;this.showModal&&(fetch("http://localhost:1234/api/playlists").then((function(t){return t.json()})).then((function(e){var n;t.playlists.length=0,(n=t.playlists).push.apply(n,Object(An["a"])(e))})),fetch("http://localhost:1234/api/spotify/artist",{method:"POST",body:JSON.stringify({artistId:this.id})}).then((function(t){return t.json()})).then((function(e){var n;t.playlist.length=0,(n=t.playlist).push.apply(n,Object(An["a"])(e))})))}}};n("3f53"),n("1a5f");const To=d()(No,[["render",bo],["__scopeId","data-v-c42aa2ec"]]);var Mo=To,Vo={components:{AddArtistToPlaylist:Mo},name:"ArtistItem",methods:{redirect:function(){this.$refs.import.showModal=!0}},props:{cover:String,name:String,description:String,id:String}};n("b754");const Uo=d()(Vo,[["render",Uc],["__scopeId","data-v-e4b8d22c"]]);var $o=Uo,Do={components:{CollectionHeader:vc,ArtistItem:$o,FullShelf:Nc},name:"Artists",data:function(){var t=this;return fetch("http://localhost:1234/api/spotify/artists").then((function(t){return t.json()})).then((function(e){var n;return(n=t.spotifyArtists).push.apply(n,Object(An["a"])(e))})),{spotifyArtists:[]}}};n("6edd");const Ho=d()(Do,[["render",Ac],["__scopeId","data-v-5d050db1"]]);var Ro=Ho,Eo={class:"padding-20"},Bo={class:"playlists"};function Jo(t,e,n,c,o,l){var a=Object(i["I"])("CollectionHeader"),r=Object(i["I"])("playlist-item-big"),s=Object(i["I"])("playlist-item"),u=Object(i["I"])("full-shelf");return Object(i["A"])(),Object(i["h"])("div",Eo,[Object(i["l"])(a),Object(i["i"])("div",Bo,[Object(i["l"])(u,{heading:"Playlists"},{default:Object(i["U"])((function(){var t,e,n,c;return[null!==(t=o.likedTracks)&&void 0!==t&&null!==(e=t.songs)&&void 0!==e&&e.length?(Object(i["A"])(),Object(i["f"])(r,{key:0,title:"Liked Songs",description:"".concat(null===(n=o.likedTracks)||void 0===n||null===(c=n.songs)||void 0===c?void 0:c.length," liked Songs"),href:"/collection/tracks"},null,8,["description"])):Object(i["g"])("",!0),(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.playlists,(function(t,e){return Object(i["A"])(),Object(i["f"])(s,{key:e,href:"/playlist/".concat(e),cover:t.cover,description:t.description,title:t.name,spotify:!1},null,8,["href","cover","description","title"])})),128))]})),_:1}),Object(i["l"])(u,{heading:"Import From Spotify"},{default:Object(i["U"])((function(){return[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.spotifyPlaylists,(function(t,e){return Object(i["A"])(),Object(i["f"])(s,{key:e,cover:t.cover,description:t.description,title:t.name,id:t.id,spotify:!0},null,8,["cover","description","title","id"])})),128))]})),_:1})])])}var Fo={class:"wrapper"},Lo=["src"],Go=["innerHTML"];function Ko(t,e,n,c,o,l){var a=Object(i["I"])("add-playlist-to-playlist");return Object(i["A"])(),Object(i["h"])("div",Fo,[n.spotify?(Object(i["A"])(),Object(i["f"])(a,{key:0,cover:n.cover,title:n.title,description:n.description,id:n.id,ref:"import"},null,8,["cover","title","description","id"])):Object(i["g"])("",!0),Object(i["i"])("div",{class:"item",onClick:e[0]||(e[0]=function(){return l.redirect&&l.redirect.apply(l,arguments)})},[Object(i["i"])("img",{src:n.cover},null,8,Lo),Object(i["i"])("h4",null,Object(i["N"])(n.title),1),Object(i["i"])("p",{innerHTML:n.description},null,8,Go)])])}var qo=function(t){return Object(i["D"])("data-v-2735d279"),t=t(),Object(i["B"])(),t},Yo={class:"wrapper"},zo={class:"header"},Qo=qo((function(){return Object(i["i"])("h3",null,"Import playlist",-1)})),Wo=qo((function(){return Object(i["i"])("span",{class:"material-icons-round"}," close ",-1)})),Xo=[Wo],Zo=qo((function(){return Object(i["i"])("h4",null,"To Playlist",-1)})),tl=qo((function(){return Object(i["i"])("br",null,null,-1)})),el={key:0},nl=qo((function(){return Object(i["i"])("h4",null,"Source",-1)})),il={class:"content"},cl=qo((function(){return Object(i["i"])("h4",null,"Title",-1)})),ol={class:"content"},ll=qo((function(){return Object(i["i"])("h4",null,"Album",-1)})),al={class:"content"},rl=qo((function(){return Object(i["i"])("h4",null,"Artist",-1)})),sl={class:"content"},ul=qo((function(){return Object(i["i"])("h4",null,"Cover",-1)})),dl={class:"content"},bl=["src"],fl={class:"confirm"},pl={key:1},hl=["src"],Ol={class:"details"},jl=Object(i["k"])("Playlist"),vl=["innerHTML"],yl=qo((function(){return Object(i["i"])("hr",null,null,-1)})),ml=qo((function(){return Object(i["i"])("hr",null,null,-1)})),gl={class:"confirm"};function kl(t,e,n,c,o,l){var a=Object(i["I"])("FindSources"),r=Object(i["I"])("h7"),s=Object(i["I"])("spotify-playlist-header"),u=Object(i["I"])("spotify-playlist-entry"),d=Object(i["I"])("vue-final-modal"),b=Object(i["J"])("observe-visibility");return Object(i["A"])(),Object(i["h"])("div",null,[Object(i["l"])(d,{onClick:t.hideFindSourcesCtx,modelValue:o.showModal,"onUpdate:modelValue":e[12]||(e[12]=function(t){return o.showModal=t}),classes:"modal-containerr","content-class":"addAlbumToPlaylistPopup"},{default:Object(i["U"])((function(){return[Object(i["i"])("div",Yo,[Object(i["i"])("div",zo,[Qo,Object(i["i"])("button",{class:"modal-close",onClick:e[0]||(e[0]=function(){return l.close&&l.close.apply(l,arguments)})},Xo)]),Zo,Object(i["V"])(Object(i["i"])("select",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return o.selectedPlaylist=t})},[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.playlists,(function(t){return Object(i["A"])(),Object(i["h"])("option",{key:t},Object(i["N"])(t),1)})),128))],512),[[i["Q"],o.selectedPlaylist]]),tl,o.editSong?(Object(i["A"])(),Object(i["h"])("div",el,[nl,Object(i["l"])(a,{ref:"findSources",title:n.title,artist:t.artist},{default:Object(i["U"])((function(){return[Object(i["i"])("div",il,[Object(i["V"])(Object(i["i"])("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.dSource=e}),ref:"source"},null,512),[[i["R"],t.dSource]]),Object(i["i"])("span",{class:"material-icons-round more",ref:"sourceMore",onClick:e[3]||(e[3]=function(){return t.opencontextmenu&&t.opencontextmenu.apply(t,arguments)})},"more_vert",512)])]})),_:1},8,["title","artist"]),cl,Object(i["i"])("div",ol,[Object(i["V"])(Object(i["i"])("input",{"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.dTitle=e}),type:"text"},null,512),[[i["R"],t.dTitle]])]),ll,Object(i["i"])("div",al,[Object(i["V"])(Object(i["i"])("input",{"onUpdate:modelValue":e[5]||(e[5]=function(e){return t.dAlbum=e}),type:"text",ref:"album"},null,512),[[i["R"],t.dAlbum]])]),rl,Object(i["i"])("div",sl,[Object(i["V"])(Object(i["i"])("input",{"onUpdate:modelValue":e[6]||(e[6]=function(e){return t.dArtist=e}),type:"text"},null,512),[[i["R"],t.dArtist]])]),ul,Object(i["i"])("div",dl,[Object(i["V"])(Object(i["i"])("input",{type:"text",class:"addSong cover","onUpdate:modelValue":e[7]||(e[7]=function(e){return t.dCover=e}),ref:"cover"},null,512),[[i["R"],t.dCover]]),Object(i["i"])("img",{onClick:e[8]||(e[8]=function(){return l.openInNewTab&&l.openInNewTab.apply(l,arguments)}),class:"addSong cover",src:t.dCover?t.dCover:"/assets/img/music_placeholder.png"},null,8,bl)]),Object(i["i"])("div",fl,[Object(i["i"])("button",{onClick:e[9]||(e[9]=function(){return l.add&&l.add.apply(l,arguments)}),class:"negative"},"Add")])])):(Object(i["A"])(),Object(i["h"])("div",pl,[Object(i["V"])((Object(i["A"])(),Object(i["h"])("div",{class:"padding-20 playlisteditor",onClick:e[10]||(e[10]=function(){return t.editPlaylist&&t.editPlaylist.apply(t,arguments)})},[Object(i["i"])("img",{class:"cover",src:n.cover},null,8,hl),Object(i["i"])("div",Ol,[Object(i["l"])(r,null,{default:Object(i["U"])((function(){return[jl]})),_:1}),Object(i["i"])("h1",null,Object(i["N"])(n.title),1),Object(i["i"])("h5",{innerHTML:n.description},null,8,vl)])])),[[b,t.headerVisibilityChanged]]),yl,Object(i["l"])(s),ml,(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.playlist,(function(t,e){return Object(i["A"])(),Object(i["f"])(u,{onAdd:l.add,key:e,added:t.added,index:e,cover:t.cover,artist:t.artists.join(", "),title:t.title,source:t.source,album:t.album},null,8,["onAdd","added","index","cover","artist","title","source","album"])})),128))])),Object(i["i"])("div",gl,[Object(i["i"])("button",{onClick:e[11]||(e[11]=function(){return l.addAll&&l.addAll.apply(l,arguments)}),class:"negative"},"Add All")])])]})),_:1},8,["onClick","modelValue"])])}var Sl={name:"AddPlaylistToPlaylist",components:{FindSources:Pe,SpotifyPlaylistHeader:_o,SpotifyPlaylistEntry:go},props:{cover:String,description:String,title:String,href:String,id:String},data:function(){return{showModal:!1,playlists:[],selectedPlaylist:-1,playlist:[],editSong:!1}},methods:{close:function(){this.showModal=!1,this.$emit("close")},loadMetadata:function(){var t=this;fetch("http://localhost:1234/api/metadata",{method:"POST",body:JSON.stringify({url:this.$refs.source.value})}).then((function(t){return t.json()})).then((function(e){console.log(e),t.dTitle=e.title,t.$refs.album.value=e.album,t.dArtist=e.artists.join(", "),t.dCover=e.cover,t.$refs.source.value=e.src}))},openInNewTab:function(){window.open(this.cover?this.cover:"/assets/img/music_placeholder.png")},addAll:function(){for(var t=0;t<this.playlist.length;t++)this.add(t)},add:function(t){var e=this,n=this.playlist[t],i=this.playlists.findIndex((function(t){return t==e.selectedPlaylist}));console.log(n,i),i<0?alert("no playlist selected"):fetch("http://localhost:1234/api/add",{method:"POST",body:JSON.stringify({id:i,source:n.src,title:n.title,artist:n.artists.join(", "),album:n.album,cover:n.cover})}).then((function(t){200==t.status&&(n.added=!0)}))}},watch:{dSource:function(){this.loadMetadata()},showModal:function(){var t=this;this.showModal&&(fetch("http://localhost:1234/api/playlists").then((function(t){return t.json()})).then((function(e){var n;t.playlists.length=0,(n=t.playlists).push.apply(n,Object(An["a"])(e))})),fetch("http://localhost:1234/api/spotify/playlist",{method:"POST",body:JSON.stringify({playlistId:this.id})}).then((function(t){return t.json()})).then((function(e){var n;t.playlist.length=0,(n=t.playlist).push.apply(n,Object(An["a"])(e))})))}}};n("2e38"),n("2a4e");const Al=d()(Sl,[["render",kl],["__scopeId","data-v-2735d279"]]);var wl=Al,Cl={components:{AddPlaylistToPlaylist:wl},name:"PlaylistItem",methods:{redirect:function(){this.spotify?this.$refs.import.showModal=!0:this.$router.push(this.href)}},props:{cover:String,title:String,description:String,href:String,spotify:Boolean,id:String}};n("7f21");const Pl=d()(Cl,[["render",Ko],["__scopeId","data-v-f66e4aac"]]);var xl=Pl,Il={class:"itemBig"},_l={class:"wrapper"};function Nl(t,e,n,c,o,l){var a=Object(i["I"])("add-album-to-playlist");return Object(i["A"])(),Object(i["h"])("div",Il,[Object(i["l"])(a,{id:this.href.replace("https://open.spotify.com/album/",""),cover:t.cover,title:n.title,artist:t.artist,ref:"addAlbum"},null,8,["id","cover","title","artist"]),Object(i["i"])("div",{class:"item",onClick:e[0]||(e[0]=function(){return l.redirect&&l.redirect.apply(l,arguments)})},[Object(i["i"])("div",_l,[Object(i["i"])("h4",null,Object(i["N"])(n.title),1),Object(i["i"])("p",null,Object(i["N"])(n.description),1)])])])}var Tl={components:{AddAlbumToPlaylist:gi},name:"ReleaseItemBig",methods:{redirect:function(){this.$router.push(this.href)}},props:{title:String,description:String,href:String}};n("81fb");const Ml=d()(Tl,[["render",Nl],["__scopeId","data-v-01b9ec10"]]);var Vl=Ml,Ul={components:{CollectionHeader:vc,PlaylistItem:xl,FullShelf:Nc,PlaylistItemBig:Vl},name:"Playlists",data:function(){var t=this;return fetch("http://localhost:1234/api/playlists").then((function(t){return t.json()})).then(function(){var e=Object(gt["a"])(regeneratorRuntime.mark((function e(n){var i,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<n.length)){e.next=12;break}return e.next=4,fetch("http://localhost:1234/api/playlist",{method:"POST",body:JSON.stringify({id:i})});case 4:return c=e.sent,e.next=7,c.json();case 7:o=e.sent,t.playlists.push({name:o.name,description:o.description,cover:o.songs[0].cover});case 9:i++,e.next=1;break;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),fetch("http://localhost:1234/api/collection/tracks").then((function(t){return t.json()})).then((function(e){t.likedTracks=e})),fetch("http://localhost:1234/api/spotify/playlists").then((function(t){return t.json()})).then((function(e){t.spotifyPlaylists=e})),{playlists:[],likedTracks:null,spotifyPlaylists:[]}}};n("2776");const $l=d()(Ul,[["render",Jo],["__scopeId","data-v-cdb60a4e"]]);var Dl=$l,Hl={class:"padding-20"},Rl={class:"releases"};function El(t,e,n,c,o,l){var a=Object(i["I"])("CollectionHeader"),r=Object(i["I"])("item-big"),s=Object(i["I"])("full-shelf"),u=Object(i["I"])("ItemBig"),d=Object(i["I"])("Item");return Object(i["A"])(),Object(i["h"])("div",Hl,[Object(i["l"])(a),Object(i["i"])("div",Rl,[o.outSoon.length?(Object(i["A"])(),Object(i["f"])(s,{key:0,heading:"Out Soon"},{default:Object(i["U"])((function(){return[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.outSoon,(function(t){return Object(i["A"])(),Object(i["f"])(r,{key:t.url,releaseDate:t.releaseDate,cover:t.cover,href:t.url,artist:t.artists.join(", "),title:t.title},null,8,["releaseDate","cover","href","artist","title"])})),128))]})),_:1})):Object(i["g"])("",!0),o.outNow.length?(Object(i["A"])(),Object(i["f"])(s,{key:1,heading:"Out Now"},{default:Object(i["U"])((function(){return[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.outNow,(function(t){return Object(i["A"])(),Object(i["f"])(u,{key:t.url,releaseDate:t.releaseDate,cover:t.cover,href:t.url,artist:t.artists.join(", "),title:t.title},null,8,["releaseDate","cover","href","artist","title"])})),128))]})),_:1})):Object(i["g"])("",!0),o.outAlready.length?(Object(i["A"])(),Object(i["f"])(s,{key:2,heading:"Releases"},{default:Object(i["U"])((function(){return[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.outAlready,(function(t){return Object(i["A"])(),Object(i["f"])(d,{key:t.url,releaseDate:t.releaseDate,cover:t.cover,href:t.url,artist:t.artists.join(", "),title:t.title},null,8,["releaseDate","cover","href","artist","title"])})),128))]})),_:1})):Object(i["g"])("",!0)])])}var Bl={class:"itemBig"},Jl=["src"],Fl={class:"wrapper"},Ll={key:0,class:"note"};function Gl(t,e,n,c,o,l){var a=Object(i["I"])("add-album-to-playlist");return Object(i["A"])(),Object(i["h"])("div",Bl,[Object(i["l"])(a,{id:this.href.replace("https://open.spotify.com/album/",""),cover:n.cover,title:n.title,artist:n.artist,ref:"addAlbum"},null,8,["id","cover","title","artist"]),Object(i["i"])("div",{class:"item",onClick:e[0]||(e[0]=function(){return l.redirect&&l.redirect.apply(l,arguments)})},[Object(i["i"])("img",{src:n.cover},null,8,Jl),Object(i["i"])("div",Fl,[Object(i["i"])("h4",null,Object(i["N"])(n.title),1),Object(i["i"])("p",null,Object(i["N"])(n.artist),1),n.releaseDate?(Object(i["A"])(),Object(i["h"])("p",Ll,"Released on "+Object(i["N"])(n.releaseDate),1)):Object(i["g"])("",!0)])])])}var Kl={components:{AddAlbumToPlaylist:gi},name:"ReleaseItemBig",methods:{redirect:function(){this.$refs.addAlbum.showModal=!0}},props:{cover:String,title:String,artist:String,href:String,releaseDate:String}};n("efc2");const ql=d()(Kl,[["render",Gl],["__scopeId","data-v-60f2f502"]]);var Yl=ql,zl={components:{CollectionHeader:vc,FullShelf:Nc,Item:Ai,ItemBig:Yl},name:"Releases",data:function(){return{outSoon:[],outNow:[],outAlready:[]}},mounted:function(){var t=this;fetch("http://localhost:1234/api/releases").then((function(t){return t.json()})).then((function(e){var n,i=new Date,c=Object(kt["a"])(e);try{for(c.s();!(n=c.n()).done;){var o=n.value,l=new Date(o.releaseDate);i<l?t.outSoon.push(o):i.getMonth()==l.getMonth()&&i.getDate()==l.getDate()&&i.getFullYear()==l.getFullYear()?t.outNow.push(o):t.outAlready.push(o)}}catch(a){c.e(a)}finally{c.f()}}))}};n("95fa");const Ql=d()(zl,[["render",El],["__scopeId","data-v-787302ca"]]);var Wl=Ql,Xl=function(t){return Object(i["D"])("data-v-2ea53e98"),t=t(),Object(i["B"])(),t},Zl={class:"playlist"},ta={class:"padding-20"},ea=Object(i["k"])("Playlist"),na=Xl((function(){return Object(i["i"])("h5",null,"My Description",-1)})),ia=Xl((function(){return Object(i["i"])("hr",null,null,-1)})),ca={class:"padding-20"},oa={class:"grid"},la=Xl((function(){return Object(i["i"])("hr",null,null,-1)})),aa={class:"playlistEntries"};function ra(t,e,n,c,o,l){var a=Object(i["I"])("fixed-playlist-header"),r=Object(i["I"])("h7"),s=Object(i["I"])("grid-header"),u=Object(i["I"])("playlist-entry"),d=Object(i["J"])("observe-visibility");return Object(i["A"])(),Object(i["h"])("div",Zl,[Object(i["l"])(a,{onClick:t.loadPlaylist,ref:"fixedHeading",class:Object(i["u"])({hidden:o.fixedHeaderHidden}),title:o.playlistName},null,8,["onClick","class","title"]),Object(i["V"])((Object(i["A"])(),Object(i["h"])("div",ta,[Object(i["l"])(r,null,{default:Object(i["U"])((function(){return[ea]})),_:1}),Object(i["i"])("h1",null,Object(i["N"])(o.playlistName),1),na])),[[d,l.headerVisibilityChanged]]),ia,Object(i["i"])("div",ca,[Object(i["i"])("span",{id:"loadPlaylist",onClick:e[0]||(e[0]=function(){return t.loadPlaylist&&t.loadPlaylist.apply(t,arguments)}),class:"material-icons-outlined"},"play_circle_filled"),Object(i["i"])("div",oa,[Object(i["l"])(s),la,Object(i["i"])("div",aa,[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.playlist,(function(t,e){return Object(i["A"])(),Object(i["f"])(u,{key:e,index:e,id:t.id,title:t.title,album:t.album,artist:t.artist,cover:t.cover,favourite:t.favourite,duration:t.duration},null,8,["index","id","title","album","artist","cover","favourite","duration"])})),128))])])])])}var sa={components:{PlaylistEntry:Me,FixedPlaylistHeader:Rt,GridHeader:$t},name:"Tracks",data:function(){return this.updateTracks(),{fixedHeaderHidden:!0,playlist:[],playlistName:"N/A"}},methods:{headerVisibilityChanged:function(t){this.fixedHeaderHidden=t},updateTracks:function(){var t=this;fetch("http://localhost:1234/api/collection/tracks").then((function(t){return t.json()})).then((function(e){t.playlist=e.songs,t.playlistName=e.name,console.log(t.playlist)}))}}};n("ae47");const ua=d()(sa,[["render",ra],["__scopeId","data-v-2ea53e98"]]);var da=ua,ba={class:"preferences"};function fa(t,e,n,c,o,l){var a=Object(i["I"])("theme"),r=Object(i["I"])("full-shelf");return Object(i["A"])(),Object(i["h"])("div",ba,[Object(i["l"])(r,{heading:"Themes"},{default:Object(i["U"])((function(){return[Object(i["l"])(a,{name:"default"}),Object(i["l"])(a,{name:"royal"}),Object(i["l"])(a,{name:"ruby"}),Object(i["l"])(a,{name:"night-jade"}),Object(i["l"])(a,{name:"night-cobalt"}),Object(i["l"])(a,{name:"night-ruby"}),Object(i["l"])(a,{name:"night-fire"}),Object(i["l"])(a,{name:"reap"}),Object(i["l"])(a,{name:"neon"}),Object(i["l"])(a,{name:"tink"})]})),_:1})])}var pa=["src"];function ha(t,e,n,c,o,l){return Object(i["A"])(),Object(i["h"])("div",{onClick:e[0]||(e[0]=function(){return l.select&&l.select.apply(l,arguments)}),class:"wrapper"},[Object(i["i"])("img",{src:o.src,class:Object(i["u"])({selected:l.selected()})},null,10,pa)])}var Oa={name:"Theme",props:{name:String},data:function(){return{src:n("37df")("./".concat(this.name,".svg"))}},methods:{selected:function(){return window.getCurrentTheme()==this.name},select:function(){window.setTheme(this.name)}}};n("b318");const ja=d()(Oa,[["render",ha],["__scopeId","data-v-363a554b"]]);var va=ja,ya={components:{Theme:va,FullShelf:Nc},name:"Preferences"};n("98d8");const ma=d()(ya,[["render",fa],["__scopeId","data-v-30ffeb34"]]);var ga=ma,ka=n("6831"),Sa=Object(i["e"])(ct);Sa.directive("observe-visibility",{beforeMount:function(t,e,n){n.context=e.instance,ot["a"].bind(t,e,n)},updated:ot["a"].update,unmounted:ot["a"].unbind}),Sa.use(Object(lt["a"])()),Sa.use(ka["a"]);var Aa=[{path:"/",component:dt},{path:"/search",component:oc},{path:"/search/:query",component:oc},{path:"/collection/albums",component:gc},{path:"/collection/artists",component:Ro},{path:"/collection/playlists",component:Dl},{path:"/collection/releases",component:Wl},{path:"/collection/tracks",component:da},{path:"/playlist/:id",component:gn},{path:"/preferences",component:ga}],wa=Object(T["a"])({history:Object(T["b"])(),routes:Aa});Sa.use(wa),Sa.mount("#app")},c4d5:function(t,e,n){"use strict";n("8642")},c8b5:function(t,e,n){t.exports=n.p+"img/ruby.89e348dc.svg"},c8ec:function(t,e,n){t.exports=n.p+"img/reap.6ea14a73.svg"},cb43:function(t,e,n){t.exports=n.p+"img/tink.61fe5355.svg"},cdce:function(t,e,n){"use strict";n("4c29")},d057:function(t,e,n){"use strict";n("0b54")},d8dc:function(t,e,n){},dad6:function(t,e,n){"use strict";n("b226")},daed:function(t,e,n){},db3b:function(t,e,n){"use strict";n("7d51")},db6a:function(t,e,n){},ed6a:function(t,e,n){},efc2:function(t,e,n){"use strict";n("32e0")},f3b6:function(t,e,n){},f63f:function(t,e,n){t.exports=n.p+"img/default.73bff5d0.svg"},f993:function(t,e,n){}});
//# sourceMappingURL=app.3af5ab88.js.map