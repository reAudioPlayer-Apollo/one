(function(e){function t(t){for(var o,l,i=t[0],a=t[1],s=t[2],u=0,p=[];u<i.length;u++)l=i[u],Object.prototype.hasOwnProperty.call(c,l)&&c[l]&&p.push(c[l][0]),c[l]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,i=1;i<n.length;i++){var a=n[i];0!==c[a]&&(o=!1)}o&&(r.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},c={app:0},r=[];function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],a=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var d=a;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("c275")},"06be":function(e,t,n){"use strict";n("1475")},"09a1":function(e,t,n){"use strict";n("db6a")},"0b54":function(e,t,n){},1270:function(e,t,n){e.exports=n.p+"img/night-ruby.9f7b4a08.svg"},"132a":function(e,t,n){},"13ab":function(e,t,n){},1475:function(e,t,n){},1919:function(e,t,n){},"1a5f":function(e,t,n){"use strict";n("abf1")},"1c3e":function(e,t,n){"use strict";n("2944")},"1c56":function(e,t,n){"use strict";n("5ae8")},"20ef":function(e,t,n){},2226:function(e,t,n){},2293:function(e,t,n){"use strict";n("6938")},2339:function(e,t,n){e.exports=n.p+"img/neon.6a026199.svg"},2554:function(e,t,n){"use strict";n("b899")},2776:function(e,t,n){"use strict";n("27ea")},"27dd":function(e,t,n){},"27ea":function(e,t,n){},2875:function(e,t,n){"use strict";n("7d60")},2944:function(e,t,n){},"2a4e":function(e,t,n){"use strict";n("daed")},"2b2a":function(e,t,n){},"2e38":function(e,t,n){"use strict";n("501c")},"2f8b":function(e,t,n){"use strict";n("4d45")},"32e0":function(e,t,n){},3347:function(e,t,n){"use strict";n("6a9b")},3686:function(e,t,n){},"37df":function(e,t,n){var o={"./default.svg":"f63f","./neon.svg":"2339","./night-cobalt.svg":"57c9","./night-fire.svg":"63f0","./night-jade.svg":"5fcf","./night-ruby.svg":"1270","./reap.svg":"c8ec","./royal.svg":"3c3b","./ruby.svg":"c8b5","./tink.svg":"cb43"};function c(e){var t=r(e);return n(t)}function r(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}c.keys=function(){return Object.keys(o)},c.resolve=r,e.exports=c,c.id="37df"},"3c3b":function(e,t,n){e.exports=n.p+"img/royal.b92cd988.svg"},"3f53":function(e,t,n){"use strict";n("9636")},4098:function(e,t,n){},"420a":function(e,t,n){},4246:function(e,t,n){"use strict";n("62ce")},"466a":function(e,t,n){"use strict";n("420a")},"497b":function(e,t,n){"use strict";n("9abd")},"4c29":function(e,t,n){},"4d45":function(e,t,n){},"4fce":function(e,t,n){"use strict";n("1919")},"501c":function(e,t,n){},5568:function(e,t,n){"use strict";n("3686")},"57b7":function(e,t,n){"use strict";n("ba27")},"57c9":function(e,t,n){e.exports=n.p+"img/night-cobalt.296fe936.svg"},"5ae8":function(e,t,n){},"5c98":function(e,t,n){},"5cac":function(e,t,n){},"5fcf":function(e,t,n){e.exports=n.p+"img/night-jade.3dd32cc0.svg"},"62ce":function(e,t,n){},"63f0":function(e,t,n){e.exports=n.p+"img/night-fire.c1f643d2.svg"},6497:function(e,t,n){"use strict";n("13ab")},6832:function(e,t,n){},6938:function(e,t,n){},"69e1":function(e,t,n){"use strict";n("27dd")},"6a9b":function(e,t,n){},"6edd":function(e,t,n){"use strict";n("132a")},"6fac":function(e,t,n){},7013:function(e,t,n){},7600:function(e,t,n){"use strict";n("d8dc")},"7d51":function(e,t,n){},"7d60":function(e,t,n){},"7f21":function(e,t,n){"use strict";n("a7f7")},"81fb":function(e,t,n){"use strict";n("7013")},8642:function(e,t,n){},8759:function(e){e.exports=JSON.parse('{"accent-dark":{"default":"#217e41","ruby":"#601717","royal":"#30305a","reap":"#522783","tink":"#A5004D","neon":"#892b68","night-jade":"#00c48b","night-ruby":"#e85454","night-cobalt":"#189de4","night-fire":"#c7aa19"},"accent":{"default":"#1ed760","ruby":"#bd4c62","royal":"#7169ff","reap":"#c18bff","tink":"#e7619f","neon":"#ffd100","night-jade":"#00c48b","night-ruby":"#e85454","night-cobalt":"#189de4","night-fire":"#c7aa19"},"font-colour":{"default":"white","reap":"whitesmoke","tink":"whitesmoke","neon":"whitesmoke","night-jade":"whitesmoke","night-ruby":"whitesmoke","night-cobalt":"whitesmoke","night-fire":"whitesmoke"},"font-darker":{"default":"#a7a7a7","reap":"#c2bebe","tink":"#c2bebe","neon":"#d7d7d7","night-jade":"#c2bebe","night-ruby":"#c2bebe","night-cobalt":"#c2bebe","night-fire":"#c2bebe"},"hover-4":{"default":"#242424"},"hover-3":{"default":"hsla(0,0%,100%,0.04)","reap":"hsla(0,0%,100%,0.3)"},"hover-2":{"default":"hsla(0,0%,100%,0.3)","reap":"hsla(0,0%,100%,0.1)","night-jade":"#374148","night-ruby":"#374148","night-cobalt":"#374148","night-fire":"#374148"},"hover-1":{"default":"hsla(0,0%,100%,0.1)","reap":"hsla(0,0%,100%,0.04)","night-jade":"#37414877","night-ruby":"#37414877","night-cobalt":"#37414877","night-fire":"#37414877"},"background":{"default":"#121212","reap":"linear-gradient(to right top, #522783, hsl(214, 80%, 24%))","tink":"linear-gradient(to left bottom, #A5004D, #6105B0)","neon":"linear-gradient(to right bottom, #F956B3, #e68114)","night-jade":"#1e1e1e","night-ruby":"#1e1e1e","night-cobalt":"#1e1e1e","night-fire":"#1e1e1e"},"background-light":{"default":"#181818","reap":"linear-gradient(to right bottom, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.3))","tink":"linear-gradient(to right bottom, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.3))","neon":"#3d3d3db0","night-jade":"#374148","night-ruby":"#374148","night-cobalt":"#374148","night-fire":"#374148"},"sidebar-background":{"default":"black","reap":"linear-gradient(to right bottom, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.3))","tink":"linear-gradient(to right bottom, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.3))","neon":"#3d3d3db0","night-jade":"#374148","night-ruby":"#374148","night-cobalt":"#374148","night-fire":"#374148"},"player-background":{"default":"#181818","reap":"linear-gradient(to right bottom, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.3))","tink":"linear-gradient(to right bottom, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.3))","neon":"#3d3d3db0","night-jade":"#374148","night-ruby":"#374148","night-cobalt":"#374148","night-fire":"#374148"},"fixedplaylistheader-background":{"default":"var(--player-background)","reap":"#522783","tink":"#A5004D","neon":"#892b68"},"fixedplaylistheader-border":{"default":"#303030","reap":"#522783","tink":"#A5004D","neon":"#892b68"},"font-family":{"default":"Poppins, sans-serif"},"playlistEntry-height":{"default":"50px"},"player-height":{"default":"88px"},"sidebar-width":{"default":"200px"}}')},"87a6":function(e,t,n){"use strict";n("5cac")},"886e":function(e,t,n){"use strict";n("5c98")},"8b2f":function(e,t,n){"use strict";n("6832")},"924a":function(e,t,n){"use strict";n("a3c2")},"95fa":function(e,t,n){"use strict";n("2226")},9636:function(e,t,n){},"98d8":function(e,t,n){"use strict";n("6fac")},"9abd":function(e,t,n){},"9f1b":function(e,t,n){"use strict";n("f3b6")},a3c2:function(e,t,n){},a59f:function(e,t,n){"use strict";n("f993")},a7f7:function(e,t,n){},aad2:function(e,t,n){"use strict";n("ed6a")},abf1:function(e,t,n){},ae21:function(e,t,n){},ae47:function(e,t,n){"use strict";n("20ef")},b226:function(e,t,n){},b318:function(e,t,n){"use strict";n("2b2a")},b3fc:function(e,t,n){"use strict";n("ae21")},b754:function(e,t,n){"use strict";n("4098")},b899:function(e,t,n){},ba27:function(e,t,n){},c275:function(e,t,n){"use strict";n.r(t);var o=n("69be"),c={class:"appRoot"},r={class:"interface"};function l(e,t,n,l,i,a){var s=Object(o["resolveComponent"])("Sidebar"),d=Object(o["resolveComponent"])("Body"),u=Object(o["resolveComponent"])("Player");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[Object(o["createElementVNode"])("div",r,[Object(o["createVNode"])(s,{onExpandCover:a.expandCover,expandCover:i.shallExpandCover},null,8,["onExpandCover","expandCover"]),Object(o["createVNode"])(d)]),Object(o["createVNode"])(u,{onExpandCover:a.expandCover,expandCover:!i.shallExpandCover},null,8,["onExpandCover","expandCover"])])}n("4fd6"),n("89b1"),n("1c6f");var i={class:"body"};function a(e,t,n,c,r,l){var a=Object(o["resolveComponent"])("router-view");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",i,[Object(o["createVNode"])(a)])}var s={name:"Body"},d=(n("2875"),n("1c27")),u=n.n(d);const p=u()(s,[["render",a],["__scopeId","data-v-26006ec5"]]);var b=p,f=function(e){return Object(o["pushScopeId"])("data-v-172babe8"),e=e(),Object(o["popScopeId"])(),e},m={class:"player"},h={class:"left"},O=["src"],j={class:"titleartist"},v={class:"title"},y={class:"artist"},g={class:"centre"},N={class:"upper"},k=f((function(){return Object(o["createElementVNode"])("span",{class:"material-icons-round defaultbtn"},"shuffle",-1)})),V=f((function(){return Object(o["createElementVNode"])("span",{class:"material-icons-round defaultbtn"},"repeat",-1)})),E={class:"lower"},S={class:"positionLabel"},C={class:"positionLabel"},w={class:"right"},x=f((function(){return Object(o["createElementVNode"])("span",{class:"material-icons-round defaultbtn"},"volume_up",-1)}));function B(e,t,n,c,r,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",m,[Object(o["createElementVNode"])("div",h,[n.expandCover?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,onClick:t[0]||(t[0]=function(){return l.onExpandCover&&l.onExpandCover.apply(l,arguments)}),src:r.cover},null,8,O)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",j,[Object(o["createElementVNode"])("span",v,Object(o["toDisplayString"])(r.title),1),Object(o["createElementVNode"])("span",y,Object(o["toDisplayString"])(r.artist),1)]),Object(o["createElementVNode"])("span",{onClick:t[1]||(t[1]=function(e){return r.favourited=!r.favourited}),class:"favourite material-icons-round"},Object(o["toDisplayString"])(r.favourited?"favorite":"favorite_border"),1)]),Object(o["createElementVNode"])("div",g,[Object(o["createElementVNode"])("div",N,[k,Object(o["createElementVNode"])("span",{onClick:t[2]||(t[2]=function(e){return l.get("last")}),class:"material-icons-round defaultbtn"},"skip_previous"),Object(o["createElementVNode"])("span",{onClick:t[3]||(t[3]=function(e){return l.get("playPause")}),class:"material-icons-round circle"},Object(o["toDisplayString"])(r.playing?"pause_circle":"play_circle"),1),Object(o["createElementVNode"])("span",{onClick:t[4]||(t[4]=function(e){return l.get("next")}),class:"material-icons-round defaultbtn"},"skip_next"),V]),Object(o["createElementVNode"])("div",E,[Object(o["createElementVNode"])("span",S,Object(o["toDisplayString"])(r.progresslbl),1),Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{onChange:t[5]||(t[5]=function(){return l.progresschange&&l.progresschange.apply(l,arguments)}),"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.progress=e}),max:"1000",type:"range",class:"progress"},null,544),[[o["vModelText"],r.progress]]),Object(o["createElementVNode"])("span",C,Object(o["toDisplayString"])(r.durationStr),1)])]),Object(o["createElementVNode"])("div",w,[x,Object(o["createElementVNode"])("input",{onChange:t[7]||(t[7]=function(){return l.volumechange&&l.volumechange.apply(l,arguments)}),ref:"volume",type:"range",class:"volume"},null,544)])])}n("3efd"),n("dfac"),n("07e6"),n("e932"),n("500c"),n("f258"),n("c7c6");var P=n("a258"),T=n("5211"),_={name:"Player",props:{favourite:{type:Boolean,default:!1},expandCover:Boolean},setup:function(){var e=Object(T["c"])();Object(P["a"])({keyEvent:"keydown",keyBinds:[{keyCode:"space",success:function(){return fetch("http://localhost:1234/api/playPause")},modifiers:["ctrlKey"]},{keyCode:"right",success:function(){return fetch("http://localhost:1234/api/next")},modifiers:["ctrlKey"]},{keyCode:"left",success:function(){return fetch("http://localhost:1234/api/last")},modifiers:["ctrlKey"]},{keyCode:49,success:function(){return e.push("/playlist/0")},modifiers:["altKey"]},{keyCode:50,success:function(){return e.push("/playlist/1")},modifiers:["altKey"]},{keyCode:51,success:function(){return e.push("/playlist/2")},modifiers:["altKey"]},{keyCode:52,success:function(){return e.push("/playlist/3")},modifiers:["altKey"]},{keyCode:53,success:function(){return e.push("/playlist/4")},modifiers:["altKey"]},{keyCode:54,success:function(){return e.push("/playlist/5")},modifiers:["altKey"]},{keyCode:55,success:function(){return e.push("/playlist/6")},modifiers:["altKey"]},{keyCode:56,success:function(){return e.push("/playlist/7")},modifiers:["altKey"]},{keyCode:57,success:function(){return e.push("/playlist/8")},modifiers:["altKey"]},{keyCode:58,success:function(){return e.push("/playlist/9")},modifiers:["altKey"]}]})},data:function(){var e=this,t=this;function n(){console.log("attempting reconnect");var e=new WebSocket("ws://localhost:1234/ws");e.onclose=function(){console.log("ws closed"),setTimeout(n,1e3)},e.onopen=function(){console.log("ws connected")},e.onmessage=function(e){var n=JSON.parse(e.data);t.updateData(n)}}return n(),setInterval((function(){if(t.playing){var e=60*Number(t.durationStr.split(":")[0])+Number(t.durationStr.split(":")[1]),n=60*Number(t.progresslbl.split(":")[0])+Number(t.progresslbl.split(":")[1]);n+=1,t.progress=n/e*1e3,t.progresslbl="".concat(Math.floor(n/60),":").concat(t.zeroPad(n%60,2))}}),1e3),fetch("http://localhost:1234/api/getVolume").then((function(e){return e.text()})).then((function(t){e.$refs.volume.value=t})),{favourited:this.favourite,title:"N/A",artist:"N/A",durationStr:"0:00",cover:"/assets/img/music_placeholder.png",playing:!1,progress:0,progresslbl:"0:00"}},methods:{onExpandCover:function(){this.$emit("expandCover",!0)},playPause:function(){console.log("playpause"),this.get("playPause")},get:function(e){fetch("http://localhost:1234/api/".concat(e))},volumechange:function(){fetch("http://localhost:1234/api/setVolume",{method:"POST",body:JSON.stringify({value:this.$refs.volume.value})})},zeroPad:function(e,t){return String(e).padStart(t,"0")},progresschange:function(){var e=60*Number(this.durationStr.split(":")[0])+Number(this.durationStr.split(":")[1]),t=this.progress*e/1e3;this.progresslbl="".concat(Math.floor(t/60),":").concat(this.zeroPad(Math.round(t%60),2)),fetch("http://localhost:1234/api/setPos",{method:"POST",body:JSON.stringify({value:t})})},updateData:function(e){var t,n,o,c;if("player.song"==e.path)return this.title=(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.title)||"N/A",this.artist=(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.artist)||"N/A",this.durationStr=(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.duration)||"N/A",this.cover=(null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.cover)||"/assets/img/music_placeholder.png",void(this.progresslbl="0:00");if("player.playState"!=e.path){if("player.posSync"==e.path){var r=(null===e||void 0===e?void 0:e.data)||0;this.progresslbl="".concat(Math.floor(r/60),":").concat(this.zeroPad(Math.round(r%60),2))}}else this.playing=(null===e||void 0===e?void 0:e.data)||!1}}};n("a59f");const A=u()(_,[["render",B],["__scopeId","data-v-172babe8"]]);var D=A,M=(n("a15b"),function(e){return Object(o["pushScopeId"])("data-v-0bbe7397"),e=e(),Object(o["popScopeId"])(),e}),I={class:"sidebar"},$=M((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),H=M((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),L=M((function(){return Object(o["createElementVNode"])("hr",null,null,-1)})),F={class:"playlistList"},U=["src"];function J(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("nav-entry"),a=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",I,[Object(o["createElementVNode"])("h2",{onClick:t[0]||(t[0]=function(){return l.onLogoClick&&l.onLogoClick.apply(l,arguments)})},"reAudioPlayer Online"),$,Object(o["createVNode"])(i,{href:"/",icon:"home",name:"Home"}),Object(o["createVNode"])(i,{href:"/search",icon:"search",name:"Search"}),Object(o["createVNode"])(i,{href:"/collection/playlists",icon:"library_music",name:"Your Library"}),H,Object(o["createVNode"])(i,{href:"/playlist/create",icon:"add_circle",name:"Create Playlist"}),Object(o["createVNode"])(i,{href:"/collection/tracks",icon:"favorite",name:"Liked Songs"}),L,Object(o["createElementVNode"])("div",F,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.playlists,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:t,to:e.href},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.name),1)]})),_:2},1032,["to"])})),128))]),n.expandCover?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,onClick:t[1]||(t[1]=function(){return l.hideCover&&l.hideCover.apply(l,arguments)}),src:r.cover,class:"cover"},null,8,U)):Object(o["createCommentVNode"])("",!0)])}var R={class:"navEntry"},z={class:"material-icons-round icon"},K={class:"name"};function q(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{class:"link",to:n.href},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",R,[Object(o["createElementVNode"])("span",z,Object(o["toDisplayString"])(n.icon),1),Object(o["createElementVNode"])("span",K,Object(o["toDisplayString"])(n.name),1)])]})),_:1},8,["to"])}var Y={name:"NavEntry",props:{icon:String,name:String,href:String}};n("1c3e");const G=u()(Y,[["render",q],["__scopeId","data-v-3945adfd"]]);var W=G,X={name:"Sidebar",components:{NavEntry:W},props:{expandCover:Boolean},data:function(){var e=this;fetch("http://localhost:1234/api/playlists").then((function(e){return e.json()})).then((function(t){for(var n=0;n<t.length;n++)e.playlists.push({name:t[n],href:"/playlist/".concat(n)})}));var t=this;function n(){console.log("attempting reconnect");var e=new WebSocket("ws://localhost:1234/ws");e.onclose=function(){console.log("ws closed"),setTimeout(n,1e3)},e.onopen=function(){console.log("ws connected")},e.onmessage=function(e){var n=JSON.parse(e.data);t.updateData(n)}}return n(),{playlists:[],cover:"/assets/img/music_placeholder.png"}},methods:{hideCover:function(){this.$emit("expandCover",!1)},onLogoClick:function(){this.$router.push("/preferences")},updateData:function(e){var t;"player.song"!=e.path||(this.cover=(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.cover)||"/assets/img/music_placeholder.png")}}};n("4246");const Q=u()(X,[["render",J],["__scopeId","data-v-0bbe7397"]]);var Z=Q,ee=(n("1a57"),n("8759")),te="theme";window.getThemes=function(){window.themes=[];for(var e=0,t=Object.keys(ee);e<t.length;e++)for(var n=t[e],o=0,c=Object.keys(ee[n]);o<c.length;o++){var r=c[o];window.themes.includes(r)||window.themes.push(r)}return window.themes},window.getCurrentTheme=function(){return window.localStorage.getItem(te)||"default"},window.setTheme=function(e){if(window.getThemes().includes(e)){window.localStorage.setItem(te,e);for(var t=0,n=Object.keys(ee);t<n.length;t++){var o=n[t],c=ee[o];document.documentElement.style.setProperty("--".concat(o),c[e]||c.default)}}},window.setTheme(window.localStorage.getItem(te)||"default");var ne={name:"App",components:{Sidebar:Z,Body:b,Player:D},data:function(){return{shallExpandCover:!1}},methods:{expandCover:function(e){this.shallExpandCover=e}}};n("1c56"),n("aad2");const oe=u()(ne,[["render",l]]);var ce=oe,re=n("50c9"),le=n("5e83"),ie={class:"home"};function ae(e,t,n,c,r,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ie," Home ")}var se={name:"Home"};const de=u()(se,[["render",ae]]);var ue=de,pe=(n("867d"),function(e){return Object(o["pushScopeId"])("data-v-32e59546"),e=e(),Object(o["popScopeId"])(),e}),be={class:"playlist"},fe=Object(o["createTextVNode"])("Playlist"),me=pe((function(){return Object(o["createElementVNode"])("hr",null,null,-1)})),he={class:"padding-20"},Oe={class:"grid"},je=pe((function(){return Object(o["createElementVNode"])("hr",null,null,-1)})),ve={class:"playlistEntries"};function ye(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("AddSong"),a=Object(o["resolveComponent"])("EditPlaylist"),s=Object(o["resolveComponent"])("fixed-playlist-header"),d=Object(o["resolveComponent"])("h7"),u=Object(o["resolveComponent"])("grid-header"),p=Object(o["resolveComponent"])("playlist-entry"),b=Object(o["resolveComponent"])("draggable"),f=Object(o["resolveDirective"])("observe-visibility");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",be,[Object(o["createVNode"])(i,{onClose:l.updatePlaylist,ref:"addSongPopup"},null,8,["onClose"]),Object(o["createVNode"])(a,{onClose:l.updatePlaylist,playlistName:r.playlistName,playlistDescription:r.playlistDescription,ref:"editPlaylistPopup"},null,8,["onClose","playlistName","playlistDescription"]),Object(o["createVNode"])(s,{onLoadPlaylist:l.loadPlaylist,ref:"fixedHeading",class:Object(o["normalizeClass"])({hidden:r.fixedHeaderHidden}),title:r.playlistName},null,8,["onLoadPlaylist","class","title"]),Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"padding-20 playlisteditor",onClick:t[0]||(t[0]=function(){return l.editPlaylist&&l.editPlaylist.apply(l,arguments)})},[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[fe]})),_:1}),Object(o["createElementVNode"])("h1",null,Object(o["toDisplayString"])(r.playlistName),1),Object(o["createElementVNode"])("h5",null,Object(o["toDisplayString"])(r.playlistDescription),1)])),[[f,l.headerVisibilityChanged]]),me,Object(o["createElementVNode"])("div",he,[Object(o["createElementVNode"])("span",{id:"loadPlaylist",onClick:t[1]||(t[1]=function(){return l.loadPlaylist&&l.loadPlaylist.apply(l,arguments)}),class:"material-icons-outlined"},"play_circle_filled"),Object(o["createElementVNode"])("span",{id:"addToPlaylist",onClick:t[2]||(t[2]=function(){return l.addToPlaylist&&l.addToPlaylist.apply(l,arguments)}),class:"material-icons-outlined"},"add_circle"),Object(o["createElementVNode"])("div",Oe,[Object(o["createVNode"])(u),je,Object(o["createElementVNode"])("div",ve,[Object(o["createVNode"])(b,{modelValue:r.playlist,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.playlist=e}),onChange:l.onPlaylistRearrange},{item:Object(o["withCtx"])((function(e){var t=e.element;return[Object(o["createVNode"])(p,{onRequestUpdate:l.updatePlaylist,index:r.playlist.findIndex((function(e){return e.source==t.source})),source:t.source,playing:t.playing,id:t.id,title:t.title,album:t.album,artist:t.artist,cover:t.cover,favourite:t.favourite,duration:t.duration},null,8,["onRequestUpdate","index","source","playing","id","title","album","artist","cover","favourite","duration"])]})),_:1},8,["modelValue","onChange"])])])])])}var ge=n("afa6"),Ne=n("1494"),ke=(n("a623"),n("4228"),n("526b"),{class:"fixedPlaylistHeader"}),Ve={class:"upperWrapper"};function Ee(e,t,n,c,r,l){var i=this,a=Object(o["resolveComponent"])("grid-header");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ke,[Object(o["createElementVNode"])("div",Ve,[Object(o["createElementVNode"])("span",{id:"loadPlaylist",onClick:t[0]||(t[0]=function(e){return i.$emit("loadPlaylist")}),class:"material-icons-outlined"},"play_circle_filled"),Object(o["createElementVNode"])("h3",null,Object(o["toDisplayString"])(n.title),1)]),Object(o["createVNode"])(a,{class:"padding-20 darkback"})])}var Se=function(e){return Object(o["pushScopeId"])("data-v-e629699e"),e=e(),Object(o["popScopeId"])(),e},Ce={class:"gridHeader"},we=Se((function(){return Object(o["createElementVNode"])("span",{class:"id"},"#",-1)})),xe=Se((function(){return Object(o["createElementVNode"])("span",{class:"title"},"Title",-1)})),Be=Se((function(){return Object(o["createElementVNode"])("span",{class:"album"},"Album",-1)})),Pe=Se((function(){return Object(o["createElementVNode"])("span",{class:"clock material-icons-round"},"schedule",-1)})),Te=[we,xe,Be,Pe];function _e(e,t,n,c,r,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ce,Te)}var Ae={name:"GridHeader"};n("466a");const De=u()(Ae,[["render",_e],["__scopeId","data-v-e629699e"]]);var Me=De,Ie={name:"FixedPlaylistHeader",components:{GridHeader:Me},props:{title:String}};n("2554");const $e=u()(Ie,[["render",Ee],["__scopeId","data-v-5cba14e9"]]);var He=$e,Le={class:"track"},Fe=["src"],Ue={class:"trackwrapper"},Je={class:"duration"};function Re(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("EditSong"),a=Object(o["resolveComponent"])("SongCtx");return Object(o["openBlock"])(),Object(o["createBlock"])(a,{onAddto:l.addToPlaylist,onRemove:l.remove,onUpdate:l.update,onLike:t[7]||(t[7]=function(e){return r.favourited=!r.favourited}),isAutoPlaylist:r.isAutoPlaylist,liked:r.favourited,ref:"ctxMenu"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{onClose:e.updatePlaylist,ref:"editSongPopup",cover:n.cover,id:n.id,title:n.title,album:n.album,artist:n.artist,source:n.source},null,8,["onClose","cover","id","title","album","artist","source"]),Object(o["createElementVNode"])("div",{onDblclick:t[3]||(t[3]=function(){l.playAt(),l.onselect()}),onClick:t[4]||(t[4]=function(){return l.onselect&&l.onselect.apply(l,arguments)}),onMouseover:t[5]||(t[5]=function(){return l.displayPlay&&l.displayPlay.apply(l,arguments)}),onMouseleave:t[6]||(t[6]=function(){return l.displayId&&l.displayId.apply(l,arguments)}),class:Object(o["normalizeClass"])(["playlistEntry",{selected:r.highlighted}])},[Object(o["createElementVNode"])("span",{onClick:t[0]||(t[0]=function(){return l.playAt&&l.playAt.apply(l,arguments)}),ref:"idOrPlay",class:Object(o["normalizeClass"])([{playing:n.playing},"id"])},Object(o["toDisplayString"])(n.index+1),3),Object(o["createElementVNode"])("div",Le,[Object(o["createElementVNode"])("img",{src:n.cover||"/assets/img/music_placeholder.png"},null,8,Fe),Object(o["createElementVNode"])("div",Ue,[Object(o["createElementVNode"])("span",{class:Object(o["normalizeClass"])(["title",{playing:n.playing}])},Object(o["toDisplayString"])(n.title),3),Object(o["createElementVNode"])("span",{class:Object(o["normalizeClass"])(["artist",{playing:n.playing}])},Object(o["toDisplayString"])(n.artist),3)])]),Object(o["createElementVNode"])("span",{class:Object(o["normalizeClass"])(["album",{playing:n.playing}])},Object(o["toDisplayString"])(n.album),3),Object(o["createElementVNode"])("span",{onClick:t[1]||(t[1]=function(e){return r.favourited=!r.favourited}),class:Object(o["normalizeClass"])(["favourite material-icons-round",{showfavourite:r.favourited||r.highlighted}])},Object(o["toDisplayString"])(r.favourited?"favorite":"favorite_border"),3),Object(o["createElementVNode"])("span",Je,Object(o["toDisplayString"])(n.duration),1),Object(o["createElementVNode"])("span",{onClick:t[2]||(t[2]=function(){return l.showCtxMenu&&l.showCtxMenu.apply(l,arguments)}),class:Object(o["normalizeClass"])(["more material-icons-round",{hidden:!r.highlighted}])},"more_horiz",2)],34)]})),_:1},8,["onAddto","onRemove","onUpdate","isAutoPlaylist","liked"])}var ze={ref:"box"},Ke=Object(o["createTextVNode"])("Remove from this playlist"),qe=Object(o["createTextVNode"])("Update Metadata"),Ye=Object(o["createTextVNode"])("Share");function Ge(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("v-contextmenu-item"),a=Object(o["resolveComponent"])("v-contextmenu-submenu"),s=Object(o["resolveComponent"])("v-contextmenu-divider"),d=Object(o["resolveComponent"])("v-contextmenu"),u=Object(o["resolveDirective"])("contextmenu");return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ze,[Object(o["renderSlot"])(e.$slots,"default"),Object(o["createVNode"])(d,{ref:"contextmenu"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{onClick:l.like},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])((n.liked?"Remove from":"Save to")+" your Liked Songs"),1)]})),_:1},8,["onClick"]),n.isAutoPlaylist?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,onClick:l.remove},{default:Object(o["withCtx"])((function(){return[Ke]})),_:1},8,["onClick"])),Object(o["createVNode"])(a,{title:"Add to playlist"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.playlists,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:t,onClick:function(){return l.addto(t)}},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e),1)]})),_:2},1032,["onClick"])})),128))]})),_:1}),Object(o["createVNode"])(s),Object(o["createVNode"])(i,{onClick:l.update},{default:Object(o["withCtx"])((function(){return[qe]})),_:1},8,["onClick"]),Object(o["createVNode"])(s),Object(o["createVNode"])(i,{onClick:l.share},{default:Object(o["withCtx"])((function(){return[Ye]})),_:1},8,["onClick"])]})),_:1},512)])),[[u,void 0,"contextmenu"]])}var We=n("e599"),Xe={name:"SongCtx",props:{liked:Boolean,isAutoPlaylist:Boolean},data:function(){var e=this;return fetch("http://localhost:1234/api/playlists").then((function(e){return e.json()})).then((function(t){var n;e.playlists.length=0,(n=e.playlists).push.apply(n,Object(We["a"])(t))})),{playlists:[]}},methods:{hide:function(){this.$refs.contextmenu.hide()},show:function(e){var t=this.$refs.box.getBoundingClientRect(),n={top:t.height+t.top+window.scrollY,left:t.width+t.left+window.scrollX};this.$refs.contextmenu.show(n),null===e||void 0===e||e.stopPropagation()},like:function(){this.$emit("like")},remove:function(){this.$emit("remove")},addto:function(e){this.$emit("addto",e)},share:function(){this.$emit("share")},update:function(){this.$emit("update")}}};const Qe=u()(Xe,[["render",Ge]]);var Ze=Qe,et=function(e){return Object(o["pushScopeId"])("data-v-8142fd52"),e=e(),Object(o["popScopeId"])(),e},tt={class:"wrapper"},nt={class:"header"},ot=et((function(){return Object(o["createElementVNode"])("h3",null,"Edit song",-1)})),ct=et((function(){return Object(o["createElementVNode"])("span",{class:"material-icons-round"}," close ",-1)})),rt=[ct],lt=et((function(){return Object(o["createElementVNode"])("h4",null,"Source",-1)})),it={class:"content"},at=et((function(){return Object(o["createElementVNode"])("h4",null,"Title",-1)})),st={class:"content"},dt=et((function(){return Object(o["createElementVNode"])("h4",null,"Album",-1)})),ut={class:"content"},pt=et((function(){return Object(o["createElementVNode"])("h4",null,"Artist",-1)})),bt={class:"content"},ft=et((function(){return Object(o["createElementVNode"])("h4",null,"Cover",-1)})),mt={class:"content"},ht=["src"],Ot={class:"confirm"};function jt(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("FindSources"),a=Object(o["resolveComponent"])("vue-final-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createVNode"])(a,{onClick:l.hideFindSourcesCtx,modelValue:r.showModal,"onUpdate:modelValue":t[10]||(t[10]=function(e){return r.showModal=e}),classes:"modal-container","content-class":"modal-content"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",tt,[Object(o["createElementVNode"])("div",nt,[ot,Object(o["createElementVNode"])("button",{class:"modal-close",onClick:t[0]||(t[0]=function(e){return r.showModal=!1})},rt)]),lt,Object(o["createVNode"])(i,{ref:"findSourcesEdit",title:n.title,artist:n.artist},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",it,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.dSource=e}),onChange:t[2]||(t[2]=function(){return l.loadMetadata&&l.loadMetadata.apply(l,arguments)}),type:"text",ref:"source"},null,544),[[o["vModelText"],r.dSource]]),Object(o["createElementVNode"])("span",{class:"material-icons-round more",ref:"sourceMore",onClick:t[3]||(t[3]=function(){return l.opencontextmenu&&l.opencontextmenu.apply(l,arguments)})},"more_vert",512)])]})),_:1},8,["title","artist"]),at,Object(o["createElementVNode"])("div",st,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.dTitle=e}),type:"text"},null,512),[[o["vModelText"],r.dTitle]])]),dt,Object(o["createElementVNode"])("div",ut,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.dAlbum=e}),type:"text",ref:"album"},null,512),[[o["vModelText"],r.dAlbum]])]),pt,Object(o["createElementVNode"])("div",bt,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.dArtist=e}),type:"text"},null,512),[[o["vModelText"],r.dArtist]])]),ft,Object(o["createElementVNode"])("div",mt,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",class:"addSong cover","onUpdate:modelValue":t[7]||(t[7]=function(e){return r.dCover=e}),ref:"cover"},null,512),[[o["vModelText"],r.dCover]]),Object(o["createElementVNode"])("img",{onClick:t[8]||(t[8]=function(){return l.openInNewTab&&l.openInNewTab.apply(l,arguments)}),class:"addSong cover",src:n.cover?n.cover:"/assets/img/music_placeholder.png"},null,8,ht)]),Object(o["createElementVNode"])("div",Ot,[Object(o["createElementVNode"])("button",{onClick:t[9]||(t[9]=function(){return l.add&&l.add.apply(l,arguments)}),class:"negative"},"Save")])])]})),_:1},8,["onClick","modelValue"])])}n("ed98");var vt={ref:"box"},yt=Object(o["createTextVNode"])("Soundcloud"),gt=Object(o["createTextVNode"])("Audius"),Nt=Object(o["createTextVNode"])("Youtube Music"),kt=Object(o["createTextVNode"])("Spotify");function Vt(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("v-contextmenu-item"),a=Object(o["resolveComponent"])("v-contextmenu-submenu"),s=Object(o["resolveComponent"])("v-contextmenu"),d=Object(o["resolveDirective"])("contextmenu");return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",vt,[Object(o["renderSlot"])(e.$slots,"default"),Object(o["createVNode"])(s,{ref:"contextmenu"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(a,{title:"Search on"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{onClick:l.openSoundcloud},{default:Object(o["withCtx"])((function(){return[yt]})),_:1},8,["onClick"]),Object(o["createVNode"])(i,{onClick:l.openAudius},{default:Object(o["withCtx"])((function(){return[gt]})),_:1},8,["onClick"]),Object(o["createVNode"])(i,{onClick:l.openYoutubeMusic},{default:Object(o["withCtx"])((function(){return[Nt]})),_:1},8,["onClick"]),Object(o["createVNode"])(i,{onClick:l.openSpotify},{default:Object(o["withCtx"])((function(){return[kt]})),_:1},8,["onClick"])]})),_:1})]})),_:1},512)])),[[d,void 0,"contextmenu"]])}var Et={name:"FindSources",props:{artist:String,title:String},methods:{hide:function(){this.$refs.contextmenu.hide()},show:function(e){var t=this.$refs.box.getBoundingClientRect(),n={top:t.height+t.top+window.scrollY,left:t.width+t.left+window.scrollX};this.$refs.contextmenu.show(n),null===e||void 0===e||e.stopPropagation()},openSoundcloud:function(){window.open("https://soundcloud.com/search?q=".concat(this.artist," ").concat(this.title))},openAudius:function(){window.open("https://audius.co/search/".concat(this.artist," ").concat(this.title))},openYoutubeMusic:function(){window.open("https://music.youtube.com/search?q=".concat(this.artist," ").concat(this.title))},openSpotify:function(){window.open("https://open.spotify.com/search/".concat(this.artist," ").concat(this.title))}}};const St=u()(Et,[["render",Vt]]);var Ct=St,wt={name:"EditSong",components:{FindSources:Ct},props:{cover:String,album:String,artist:String,source:String,title:String,id:Number},data:function(){return{showModal:!1,dCover:this.cover,dAlbum:this.album,dArtist:this.artist,dTitle:this.title,dSource:this.source}},methods:{opencontextmenu:function(e){this.$refs.findSourcesEdit.show(e)},hideFindSourcesCtx:function(){this.$refs.findSourcesEdit.hide()},add:function(){var e=this;this.showModal=!1,console.log("fetch"),fetch("http://localhost:1234/api/updateSong",{method:"POST",body:JSON.stringify({id:this.id,source:this.dSource,title:this.dTitle,artist:this.dArtist,album:this.dAlbum,cover:this.dCover})}).then((function(t){console.log(t),e.$emit("close")}))},loadMetadata:function(){var e=this;fetch("http://localhost:1234/api/metadata",{method:"POST",body:JSON.stringify({url:this.$refs.source.value})}).then((function(e){return e.json()})).then((function(t){console.log(t),e.dTitle=t.title,e.dAlbum=t.album,e.dArtist=t.artists.join(", "),e.dCover=t.cover,e.dSource=t.src}))},openInNewTab:function(){window.open(this.cover?this.cover:"/assets/img/music_placeholder.png")}},watch:{id:function(){this.dCover=this.cover,this.dAlbum=this.album,this.dArtist=this.artist,this.dTitle=this.title,this.dSource=this.source}}};n("69e1"),n("87a6");const xt=u()(wt,[["render",jt],["__scopeId","data-v-8142fd52"]]);var Bt=xt,Pt={name:"PlaylistEntry",components:{SongCtx:Ze,EditSong:Bt},props:{index:Number,id:Number,source:String,artist:{type:String,default:"N/A"},cover:{type:String,default:"/assets/img/music_placeholder.png"},title:{type:String,default:"N/A"},album:{type:String,default:"N/A"},duration:{type:String,default:"N/A"},favourite:{type:Boolean,default:!1},playing:{type:Boolean,default:!1}},data:function(){return{highlighted:!1,favourited:this.favourite,isAutoPlaylist:"/collection/tracks"==this.$route.path}},methods:{addToPlaylist:function(e){var t=this;fetch("http://localhost:1234/api/add",{method:"POST",body:JSON.stringify({id:e,source:this.source})}).then((function(e){200==e.status&&t.$emit("requestUpdate")}))},remove:function(){var e=this;fetch("http://localhost:1234/api/remove",{method:"POST",body:JSON.stringify({playlistId:Number(this.$route.params.id),songId:this.id})}).then((function(t){200==t.status&&e.$emit("requestUpdate")}))},update:function(){this.$refs.editSongPopup.showModal=!0},hideCtxMenu:function(){this.$refs.ctxMenu.hide()},showCtxMenu:function(e){console.log("show"),this.$refs.ctxMenu.show(e)},onselect:function(){this.highlighted=!this.highlighted,this.hideCtxMenu()},displayPlay:function(){var e=this.$refs.idOrPlay;e.innerHTML="play_arrow",e.classList.add("material-icons-round")},displayId:function(){var e=this.$refs.idOrPlay;e.innerHTML=this.index+1,e.classList.remove("material-icons-round")},playAt:function(){fetch("http://localhost:1234/api/at",{method:"POST",body:JSON.stringify({index:this.index})})},setFavourite:function(){fetch("http://localhost:1234/api/updateSong",{method:"POST",body:JSON.stringify({id:this.id,favourite:this.favourited,album:this.album,artist:this.artist,title:this.title,duration:this.duration,cover:this.cover,source:this.source})})}},watch:{favourited:function(){this.setFavourite()},favourite:function(){console.log("mounted",this.title,this.favourite,this.favourited),this.favourited=this.favourite,this.highlighted=!1}}};n("497b");const Tt=u()(Pt,[["render",Re],["__scopeId","data-v-6a58d0e7"]]);var _t=Tt,At=function(e){return Object(o["pushScopeId"])("data-v-23f10b9b"),e=e(),Object(o["popScopeId"])(),e},Dt={class:"wrapper"},Mt={class:"header"},It=At((function(){return Object(o["createElementVNode"])("h3",null,"Add song",-1)})),$t=At((function(){return Object(o["createElementVNode"])("span",{class:"material-icons-round"}," close ",-1)})),Ht=[$t],Lt=At((function(){return Object(o["createElementVNode"])("h4",null,"Source",-1)})),Ft={class:"content"},Ut=At((function(){return Object(o["createElementVNode"])("h4",null,"Title",-1)})),Jt={class:"content"},Rt=At((function(){return Object(o["createElementVNode"])("h4",null,"Album",-1)})),zt={class:"content"},Kt={type:"text",ref:"album"},qt=At((function(){return Object(o["createElementVNode"])("h4",null,"Artist",-1)})),Yt={class:"content"},Gt=At((function(){return Object(o["createElementVNode"])("h4",null,"Cover",-1)})),Wt={class:"content"},Xt=["src"],Qt={class:"confirm"};function Zt(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("FindSources"),a=Object(o["resolveComponent"])("vue-final-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createVNode"])(a,{onClick:l.hideFindSourcesCtx,modelValue:r.showModal,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.showModal=e}),classes:"modal-container","content-class":"modal-content"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Dt,[Object(o["createElementVNode"])("div",Mt,[It,Object(o["createElementVNode"])("button",{class:"modal-close",onClick:t[0]||(t[0]=function(e){return r.showModal=!1})},Ht)]),Lt,Object(o["createVNode"])(i,{ref:"findSources",title:r.title,artist:r.artist},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Ft,[Object(o["createElementVNode"])("input",{onChange:t[1]||(t[1]=function(){return l.loadMetadata&&l.loadMetadata.apply(l,arguments)}),type:"text",ref:"source"},null,544),Object(o["createElementVNode"])("span",{class:"material-icons-round more",ref:"sourceMore",onClick:t[2]||(t[2]=function(){return l.opencontextmenu&&l.opencontextmenu.apply(l,arguments)})},"more_vert",512)])]})),_:1},8,["title","artist"]),Ut,Object(o["createElementVNode"])("div",Jt,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.title=e}),type:"text"},null,512),[[o["vModelText"],r.title]])]),Rt,Object(o["createElementVNode"])("div",zt,[Object(o["createElementVNode"])("input",Kt,null,512)]),qt,Object(o["createElementVNode"])("div",Yt,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.artist=e}),type:"text"},null,512),[[o["vModelText"],r.artist]])]),Gt,Object(o["createElementVNode"])("div",Wt,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",class:"addSong cover","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.cover=e}),ref:"cover"},null,512),[[o["vModelText"],r.cover]]),Object(o["createElementVNode"])("img",{onClick:t[6]||(t[6]=function(){return l.openInNewTab&&l.openInNewTab.apply(l,arguments)}),class:"addSong cover",src:r.cover?r.cover:"/assets/img/music_placeholder.png"},null,8,Xt)]),Object(o["createElementVNode"])("div",Qt,[Object(o["createElementVNode"])("button",{onClick:t[7]||(t[7]=function(){return l.add&&l.add.apply(l,arguments)}),class:"negative"},"Add")])])]})),_:1},8,["onClick","modelValue"])])}var en={name:"AddSong",components:{FindSources:Ct},data:function(){return{showModal:!1,cover:"",artist:"",title:""}},methods:{opencontextmenu:function(e){this.$refs.findSources.show(e)},hideFindSourcesCtx:function(){this.$refs.findSources.hide()},add:function(){var e=this;this.showModal=!1,console.log("fetch"),fetch("http://localhost:1234/api/add",{method:"POST",body:JSON.stringify({id:Number(this.$route.params.id),source:this.$refs.source.value,title:this.title,artist:this.artist,album:this.$refs.album.value,cover:this.cover})}).then((function(t){console.log(t),e.$emit("close")}))},loadMetadata:function(){var e=this;fetch("http://localhost:1234/api/metadata",{method:"POST",body:JSON.stringify({url:this.$refs.source.value})}).then((function(e){return e.json()})).then((function(t){console.log(t),e.title=t.title,e.$refs.album.value=t.album,e.artist=t.artists.join(", "),e.cover=t.cover,e.$refs.source.value=t.src}))},openInNewTab:function(){window.open(this.cover?this.cover:"/assets/img/music_placeholder.png")}}};n("3347"),n("924a");const tn=u()(en,[["render",Zt],["__scopeId","data-v-23f10b9b"]]);var nn=tn,on=function(e){return Object(o["pushScopeId"])("data-v-08cbea5e"),e=e(),Object(o["popScopeId"])(),e},cn={class:"wrapper"},rn={class:"header"},ln=on((function(){return Object(o["createElementVNode"])("h3",null,"Edit details",-1)})),an=on((function(){return Object(o["createElementVNode"])("span",{class:"material-icons-round"}," close ",-1)})),sn=[an],dn=on((function(){return Object(o["createElementVNode"])("h4",null,"Name",-1)})),un={class:"content"},pn=on((function(){return Object(o["createElementVNode"])("h4",null,"Description",-1)})),bn={class:"content"},fn={class:"confirm"};function mn(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("vue-final-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createVNode"])(i,{modelValue:r.showModal,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.showModal=e}),classes:"modal-container","content-class":"modal-content"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",cn,[Object(o["createElementVNode"])("div",rn,[ln,Object(o["createElementVNode"])("button",{class:"modal-close",onClick:t[0]||(t[0]=function(e){return r.showModal=!1})},sn)]),dn,Object(o["createElementVNode"])("div",un,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.name=e}),type:"text",ref:"name"},null,512),[[o["vModelText"],r.name]])]),pn,Object(o["createElementVNode"])("div",bn,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.description=e}),type:"text",ref:"description"},null,512),[[o["vModelText"],r.description]])]),Object(o["createElementVNode"])("div",fn,[Object(o["createElementVNode"])("button",{onClick:t[3]||(t[3]=function(){return l.apply&&l.apply.apply(l,arguments)}),class:"negative"},"Save")])])]})),_:1},8,["modelValue"])])}var hn={name:"EditPlaylist",props:{playlistName:String,playlistDescription:String},data:function(){return{showModal:!1,cover:"",name:this.playlistName,description:this.playlistDescription}},methods:{apply:function(){var e=this;this.showModal=!1,console.log("fetch"),fetch("http://localhost:1234/api/updatePlaylist",{method:"POST",body:JSON.stringify({id:Number(this.$route.params.id),name:this.name,description:this.description})}).then((function(t){console.log(t),e.$emit("close")}))}},watch:{playlistName:function(){this.name=this.playlistName},playlistDescription:function(){this.description=this.playlistDescription}}};n("06be"),n("2293");const On=u()(hn,[["render",mn],["__scopeId","data-v-08cbea5e"]]);var jn=On,vn=n("2e60"),yn=n.n(vn),gn={components:{PlaylistEntry:_t,FixedPlaylistHeader:He,GridHeader:Me,AddSong:nn,EditPlaylist:jn,draggable:yn.a},name:"Playlist",data:function(){return this.updatePlaylist(),{fixedHeaderHidden:!0,playlist:[],playlistName:"N/A",playlistDescription:""}},methods:{onPlaylistRearrange:function(e){var t=e.moved;t&&fetch("http://localhost:1234/api/rearrange",{method:"POST",body:JSON.stringify({playlistIndex:Number(this.$route.params.id),songOldIndex:t.oldIndex,songNewIndex:t.newIndex})})},connect:function(){var e=this;console.log("attempting reconnect");var t=new WebSocket("ws://localhost:1234/ws");t.onclose=function(){console.log("ws closed"),setTimeout(this.connect,1e3)},t.onopen=function(){console.log("ws connected")},t.onmessage=function(t){var n=JSON.parse(t.data);e.updateData(n)}},headerVisibilityChanged:function(e){this.fixedHeaderHidden=e},addToPlaylist:function(){this.$refs.addSongPopup.showModal=!0},editPlaylist:function(){this.$refs.editPlaylistPopup.showModal=!0},updateData:function(e){if("player.song"==e.path){var t,n,o=(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.title)||"N/A",c=Object(Ne["a"])(this.playlist);try{for(c.s();!(n=c.n()).done;){var r=n.value;r.playing=r.title==o}}catch(l){c.e(l)}finally{c.f()}}},updatePlaylist:function(){var e=this;this.$route.params.id&&("create"!=this.$route.params.id?fetch("http://localhost:1234/api/playlist",{method:"POST",body:JSON.stringify({id:Number(this.$route.params.id)})}).then(function(){var t=Object(ge["a"])(regeneratorRuntime.mark((function t(n){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(404!=n.status){t.next=3;break}return e.$router.push("/"),t.abrupt("return");case 3:return t.next=5,n.json();case 5:o=t.sent,e.playlist=o.songs,e.playlistName=o.name,e.playlistDescription=o.description,console.log(e.playlist),e.connect();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):fetch("http://localhost:1234/api/playlist/create").then((function(e){return e.text()})).then((function(t){console.log(t),e.$router.push(t)})))},loadPlaylist:function(){fetch("http://localhost:1234/api/loadPlaylist",{method:"POST",body:JSON.stringify({id:Number(this.$route.params.id)})})}},watch:{$route:function(){this.updatePlaylist()}}};n("57b7");const Nn=u()(gn,[["render",ye],["__scopeId","data-v-32e59546"]]);var kn=Nn,Vn={class:"search"};function En(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("Item"),a=Object(o["resolveComponent"])("Shelf"),s=Object(o["resolveComponent"])("search-item");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Vn,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{onKeyup:t[0]||(t[0]=function(){return l.enterText&&l.enterText.apply(l,arguments)}),"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.query=e}),type:"text"},null,544),[[o["vModelText"],r.query]]),r.tracks.length?(Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:0,heading:"Songs"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.tracks,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:e.url,cover:e.cover,href:e.url,artist:e.artists.join(", "),title:e.title},null,8,["cover","href","artist","title"])})),128))]})),_:1})):Object(o["createCommentVNode"])("",!0),r.spotifyTracks.length?(Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:1,heading:"Songs (Spotify)"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.spotifyTracks,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:e.url,cover:e.cover,href:e.url,artist:e.artists.join(", "),title:e.title},null,8,["cover","href","artist","title"])})),128))]})),_:1})):Object(o["createCommentVNode"])("",!0),r.youtubeTracks.length?(Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:2,heading:"Songs (Youtube)"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.youtubeTracks,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:e.url,cover:e.cover,href:e.url,artist:e.artists.join(", "),title:e.title},null,8,["cover","href","artist","title"])})),128))]})),_:1})):Object(o["createCommentVNode"])("",!0),r.artists.length?(Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:3,heading:"Artists"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.artists,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:e.url,cover:e.cover,href:e.url,artist:e.artists.join(", "),title:e.title},null,8,["cover","href","artist","title"])})),128))]})),_:1})):Object(o["createCommentVNode"])("",!0),r.spotifyArtists.length?(Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:4,heading:"Artists (Spotify)"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.spotifyArtists,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:e.url,cover:e.cover,href:e.url,artist:e.artists.join(", "),title:e.title},null,8,["cover","href","artist","title"])})),128))]})),_:1})):Object(o["createCommentVNode"])("",!0)])}n("c720"),n("0e37");var Sn={class:"wrapper"},Cn=["src"],wn={key:0,class:"note"};function xn(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("add-album-to-playlist");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Sn,[Object(o["createVNode"])(i,{id:this.href.replace("https://open.spotify.com/album/",""),cover:n.cover,title:n.title,artist:n.artist,ref:"addAlbum"},null,8,["id","cover","title","artist"]),Object(o["createElementVNode"])("div",{class:"item",onClick:t[0]||(t[0]=function(){return l.redirect&&l.redirect.apply(l,arguments)})},[Object(o["createElementVNode"])("img",{src:n.cover},null,8,Cn),Object(o["createElementVNode"])("h4",null,Object(o["toDisplayString"])(n.title),1),Object(o["createElementVNode"])("p",null,Object(o["toDisplayString"])(n.artist),1),n.releaseDate?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",wn,"Released on "+Object(o["toDisplayString"])(n.releaseDate),1)):Object(o["createCommentVNode"])("",!0)])])}var Bn=function(e){return Object(o["pushScopeId"])("data-v-e21c9656"),e=e(),Object(o["popScopeId"])(),e},Pn={class:"wrapper"},Tn={class:"header"},_n=Bn((function(){return Object(o["createElementVNode"])("h3",null,"Add album",-1)})),An=Bn((function(){return Object(o["createElementVNode"])("span",{class:"material-icons-round"}," close ",-1)})),Dn=[An],Mn=Bn((function(){return Object(o["createElementVNode"])("h4",null,"To Playlist",-1)})),In=Bn((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),$n={key:0},Hn=Bn((function(){return Object(o["createElementVNode"])("h4",null,"Source",-1)})),Ln={class:"content"},Fn=Bn((function(){return Object(o["createElementVNode"])("h4",null,"Title",-1)})),Un={class:"content"},Jn=Bn((function(){return Object(o["createElementVNode"])("h4",null,"Album",-1)})),Rn={class:"content"},zn=Bn((function(){return Object(o["createElementVNode"])("h4",null,"Artist",-1)})),Kn={class:"content"},qn=Bn((function(){return Object(o["createElementVNode"])("h4",null,"Cover",-1)})),Yn={class:"content"},Gn=["src"],Wn={class:"confirm"},Xn={key:1},Qn=["src"],Zn={class:"details"},eo=Object(o["createTextVNode"])("Album"),to=Bn((function(){return Object(o["createElementVNode"])("hr",null,null,-1)})),no=Bn((function(){return Object(o["createElementVNode"])("hr",null,null,-1)})),oo={class:"confirm"};function co(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("FindSources"),a=Object(o["resolveComponent"])("h7"),s=Object(o["resolveComponent"])("album-header"),d=Object(o["resolveComponent"])("album-entry"),u=Object(o["resolveComponent"])("vue-final-modal"),p=Object(o["resolveDirective"])("observe-visibility");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createVNode"])(u,{onClick:e.hideFindSourcesCtx,modelValue:r.showModal,"onUpdate:modelValue":t[12]||(t[12]=function(e){return r.showModal=e}),classes:"modal-containerr","content-class":"addAlbumToPlaylistPopup"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Pn,[Object(o["createElementVNode"])("div",Tn,[_n,Object(o["createElementVNode"])("button",{class:"modal-close",onClick:t[0]||(t[0]=function(){return l.close&&l.close.apply(l,arguments)})},Dn)]),Mn,Object(o["withDirectives"])(Object(o["createElementVNode"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.selectedPlaylist=e})},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.playlists,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("option",{key:e},Object(o["toDisplayString"])(e),1)})),128))],512),[[o["vModelSelect"],r.selectedPlaylist]]),In,r.editSong?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",$n,[Hn,Object(o["createVNode"])(i,{ref:"findSources",title:n.title,artist:n.artist},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Ln,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.dSource=t}),ref:"source"},null,512),[[o["vModelText"],e.dSource]]),Object(o["createElementVNode"])("span",{class:"material-icons-round more",ref:"sourceMore",onClick:t[3]||(t[3]=function(){return e.opencontextmenu&&e.opencontextmenu.apply(e,arguments)})},"more_vert",512)])]})),_:1},8,["title","artist"]),Fn,Object(o["createElementVNode"])("div",Un,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.dTitle=t}),type:"text"},null,512),[[o["vModelText"],e.dTitle]])]),Jn,Object(o["createElementVNode"])("div",Rn,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.dAlbum=t}),type:"text",ref:"album"},null,512),[[o["vModelText"],e.dAlbum]])]),zn,Object(o["createElementVNode"])("div",Kn,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.dArtist=t}),type:"text"},null,512),[[o["vModelText"],e.dArtist]])]),qn,Object(o["createElementVNode"])("div",Yn,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",class:"addSong cover","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.dCover=t}),ref:"cover"},null,512),[[o["vModelText"],e.dCover]]),Object(o["createElementVNode"])("img",{onClick:t[8]||(t[8]=function(){return l.openInNewTab&&l.openInNewTab.apply(l,arguments)}),class:"addSong cover",src:e.dCover?e.dCover:"/assets/img/music_placeholder.png"},null,8,Gn)]),Object(o["createElementVNode"])("div",Wn,[Object(o["createElementVNode"])("button",{onClick:t[9]||(t[9]=function(){return l.add&&l.add.apply(l,arguments)}),class:"negative"},"Add")])])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Xn,[Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"padding-20 playlisteditor",onClick:t[10]||(t[10]=function(){return e.editPlaylist&&e.editPlaylist.apply(e,arguments)})},[Object(o["createElementVNode"])("img",{class:"cover",src:n.cover},null,8,Qn),Object(o["createElementVNode"])("div",Zn,[Object(o["createVNode"])(a,null,{default:Object(o["withCtx"])((function(){return[eo]})),_:1}),Object(o["createElementVNode"])("h1",null,Object(o["toDisplayString"])(n.title),1),Object(o["createElementVNode"])("h5",null,Object(o["toDisplayString"])(n.artist),1)])])),[[p,e.headerVisibilityChanged]]),to,Object(o["createVNode"])(s),no,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.playlist,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(d,{onAdd:l.add,key:t,added:e.added,index:t,cover:e.cover,artist:e.artists.join(", "),title:e.title,source:e.source},null,8,["onAdd","added","index","cover","artist","title","source"])})),128))])),Object(o["createElementVNode"])("div",oo,[Object(o["createElementVNode"])("button",{onClick:t[11]||(t[11]=function(){return l.addAll&&l.addAll.apply(l,arguments)}),class:"negative"},"Add All")])])]})),_:1},8,["onClick","modelValue"])])}var ro={class:"track"},lo={class:"trackwrapper"};function io(e,t,n,c,r,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{onDblclick:t[2]||(t[2]=function(){l.playAt(),l.onselect()}),onClick:t[3]||(t[3]=function(){return l.onselect&&l.onselect.apply(l,arguments)}),onMouseover:t[4]||(t[4]=function(){return l.displayPlay&&l.displayPlay.apply(l,arguments)}),onMouseleave:t[5]||(t[5]=function(){return l.displayId&&l.displayId.apply(l,arguments)}),class:Object(o["normalizeClass"])(["playlistEntry",{selected:r.highlighted}])},[Object(o["createElementVNode"])("span",{onClick:t[0]||(t[0]=function(){return e.edit&&e.edit.apply(e,arguments)}),ref:"idOrPlay",class:Object(o["normalizeClass"])([{playing:e.playing},"id"])},Object(o["toDisplayString"])(n.index+1),3),Object(o["createElementVNode"])("div",ro,[Object(o["createElementVNode"])("div",lo,[Object(o["createElementVNode"])("span",{class:Object(o["normalizeClass"])(["title",{playing:e.playing}])},Object(o["toDisplayString"])(n.title),3),Object(o["createElementVNode"])("span",{class:Object(o["normalizeClass"])(["artist",{playing:e.playing}])},Object(o["toDisplayString"])(n.artist),3)])]),Object(o["createElementVNode"])("span",{onClick:t[1]||(t[1]=function(){return l.add&&l.add.apply(l,arguments)}),class:"material-icons-round edit",ref:"add"},"add",512)],34)}var ao={name:"AlbumEntry",props:{index:Number,id:Number,source:String,artist:{type:String,default:"N/A"},title:{type:String,default:"N/A"},added:Boolean},data:function(){return{highlighted:!1,favourited:this.favourite,isAutoPlaylist:"/collection/tracks"==this.$route.path}},methods:{remove:function(){fetch("http://localhost:1234/api/remove",{method:"POST",body:JSON.stringify({playlistId:Number(this.$route.params.id),songId:this.id})})},onselect:function(){this.highlighted=!this.highlighted},displayPlay:function(){var e=this.$refs.idOrPlay;e.innerHTML="edit",e.classList.add("material-icons-round")},displayId:function(){var e=this.$refs.idOrPlay;e.innerHTML=this.index+1,e.classList.remove("material-icons-round")},playAt:function(){this.$emit("edit",this.index)},add:function(){console.log("add"),this.$emit("add",this.index)}},watch:{added:function(){console.log("change"),this.$refs.add.innerHTML=this.added?"done":"add"}}};n("db3b");const so=u()(ao,[["render",io],["__scopeId","data-v-1c61a37f"]]);var uo=so,po=function(e){return Object(o["pushScopeId"])("data-v-a99c9dc4"),e=e(),Object(o["popScopeId"])(),e},bo={class:"gridHeader"},fo=po((function(){return Object(o["createElementVNode"])("span",{class:"id"},"#",-1)})),mo=po((function(){return Object(o["createElementVNode"])("span",{class:"title"},"Title",-1)})),ho=[fo,mo];function Oo(e,t,n,c,r,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",bo,ho)}var jo={name:"AlbumHeader"};n("886e");const vo=u()(jo,[["render",Oo],["__scopeId","data-v-a99c9dc4"]]);var yo=vo,go={name:"AddAlbumToPlaylist",components:{FindSources:Ct,AlbumEntry:uo,AlbumHeader:yo},props:{cover:String,artist:String,title:String,href:String,id:String},data:function(){return{showModal:!1,playlists:[],selectedPlaylist:-1,playlist:[],editSong:!1}},methods:{close:function(){this.showModal=!1,this.$emit("close")},loadMetadata:function(){var e=this;fetch("http://localhost:1234/api/metadata",{method:"POST",body:JSON.stringify({url:this.$refs.source.value})}).then((function(e){return e.json()})).then((function(t){console.log(t),e.dTitle=t.title,e.$refs.album.value=t.album,e.dArtist=t.artists.join(", "),e.dCover=t.cover,e.$refs.source.value=t.src}))},openInNewTab:function(){window.open(this.cover?this.cover:"/assets/img/music_placeholder.png")},addAll:function(){for(var e=0;e<this.playlist.length;e++)this.add(e)},add:function(e){var t=this,n=this.playlist[e],o=this.playlists.findIndex((function(e){return e==t.selectedPlaylist}));console.log(n,o),o<0?alert("no playlist selected"):fetch("http://localhost:1234/api/add",{method:"POST",body:JSON.stringify({id:o,source:n.src,title:n.title,artist:n.artists.join(", "),album:this.title,cover:this.cover})}).then((function(e){200==e.status&&(n.added=!0)}))}},watch:{dSource:function(){this.loadMetadata()},showModal:function(){var e=this;this.showModal&&(fetch("http://localhost:1234/api/playlists").then((function(e){return e.json()})).then((function(t){var n;e.playlists.length=0,(n=e.playlists).push.apply(n,Object(We["a"])(t))})),fetch("http://localhost:1234/api/spotify/album",{method:"POST",body:JSON.stringify({albumId:this.id})}).then((function(e){return e.json()})).then((function(t){var n;e.playlist.length=0,(n=e.playlist).push.apply(n,Object(We["a"])(t))})))}}};n("7600"),n("c4d5");const No=u()(go,[["render",co],["__scopeId","data-v-e21c9656"]]);var ko=No,Vo={name:"ReleaseItem",components:{AddAlbumToPlaylist:ko},methods:{redirect:function(){this.$refs.addAlbum.showModal=!0}},props:{cover:String,title:String,artist:String,href:String,releaseDate:String}};n("d057");const Eo=u()(Vo,[["render",xn],["__scopeId","data-v-d1b49be0"]]);var So=Eo,Co={class:"wrapper"},wo=["src"],xo={key:0,class:"note"};function Bo(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("add-song-to-playlist");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Co,[Object(o["createVNode"])(i,{href:n.href,cover:n.cover,title:n.title,artist:n.artist,ref:"addAlbum"},null,8,["href","cover","title","artist"]),Object(o["createElementVNode"])("div",{class:"item",onClick:t[0]||(t[0]=function(){return l.redirect&&l.redirect.apply(l,arguments)})},[Object(o["createElementVNode"])("img",{src:n.cover},null,8,wo),Object(o["createElementVNode"])("h4",null,Object(o["toDisplayString"])(n.title),1),Object(o["createElementVNode"])("p",null,Object(o["toDisplayString"])(n.artist),1),n.releaseDate?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",xo,"Released on "+Object(o["toDisplayString"])(n.releaseDate),1)):Object(o["createCommentVNode"])("",!0)])])}var Po=function(e){return Object(o["pushScopeId"])("data-v-15368cfc"),e=e(),Object(o["popScopeId"])(),e},To={class:"wrapper"},_o={class:"header"},Ao=Po((function(){return Object(o["createElementVNode"])("h3",null,"Add song",-1)})),Do=Po((function(){return Object(o["createElementVNode"])("span",{class:"material-icons-round"}," close ",-1)})),Mo=[Do],Io=Po((function(){return Object(o["createElementVNode"])("h4",null,"To Playlist",-1)})),$o=Po((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),Ho=["src"],Lo={class:"details"},Fo=Object(o["createTextVNode"])("Song"),Uo={class:"confirm"};function Jo(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("h7"),a=Object(o["resolveComponent"])("vue-final-modal"),s=Object(o["resolveDirective"])("observe-visibility");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createVNode"])(a,{onClick:e.hideFindSourcesCtx,modelValue:r.showModal,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.showModal=e}),classes:"modal-containerr","content-class":"addAlbumToPlaylistPopup"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",To,[Object(o["createElementVNode"])("div",_o,[Ao,Object(o["createElementVNode"])("button",{class:"modal-close",onClick:t[0]||(t[0]=function(){return l.close&&l.close.apply(l,arguments)})},Mo)]),Io,Object(o["withDirectives"])(Object(o["createElementVNode"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.selectedPlaylist=e})},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.playlists,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("option",{key:e},Object(o["toDisplayString"])(e),1)})),128))],512),[[o["vModelSelect"],r.selectedPlaylist]]),$o,Object(o["createElementVNode"])("div",null,[Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"padding-20 playlisteditor",onClick:t[2]||(t[2]=function(){return e.editPlaylist&&e.editPlaylist.apply(e,arguments)})},[Object(o["createElementVNode"])("img",{class:"cover",src:n.cover},null,8,Ho),Object(o["createElementVNode"])("div",Lo,[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Fo]})),_:1}),Object(o["createElementVNode"])("h1",null,Object(o["toDisplayString"])(n.title),1),Object(o["createElementVNode"])("h5",null,Object(o["toDisplayString"])(n.artist),1)])])),[[s,e.headerVisibilityChanged]])]),Object(o["createElementVNode"])("div",Uo,[Object(o["createElementVNode"])("button",{onClick:t[3]||(t[3]=function(){return l.add&&l.add.apply(l,arguments)}),class:"negative"},"Add")])])]})),_:1},8,["onClick","modelValue"])])}var Ro={name:"AddSongToPlaylist",props:{cover:String,artist:String,title:String,href:String},data:function(){return{showModal:!1,selectedPlaylist:-1,track:{},playlists:[]}},methods:{close:function(){this.showModal=!1,this.$emit("close")},loadMetadata:function(){var e=this;fetch("http://localhost:1234/api/metadata",{method:"POST",body:JSON.stringify({url:this.href})}).then((function(e){return e.json()})).then((function(t){e.track=t}))},openInNewTab:function(){window.open(this.cover?this.cover:"/assets/img/music_placeholder.png")},add:function(){var e=this,t=this.track,n=this.playlists.findIndex((function(t){return t==e.selectedPlaylist}));console.log(t,n),n<0?alert("no playlist selected"):fetch("http://localhost:1234/api/add",{method:"POST",body:JSON.stringify({id:n,source:t.src,title:t.title,artist:t.artists.join(", "),album:this.title,cover:this.cover})}).then((function(n){200==n.status&&(t.added=!0,e.close())}))}},watch:{showModal:function(){var e=this;this.showModal&&(fetch("http://localhost:1234/api/playlists").then((function(e){return e.json()})).then((function(t){var n;e.playlists.length=0,(n=e.playlists).push.apply(n,Object(We["a"])(t))})),this.loadMetadata())}}};n("6497"),n("5568");const zo=u()(Ro,[["render",Jo],["__scopeId","data-v-15368cfc"]]);var Ko=zo,qo={components:{AddSongToPlaylist:Ko},name:"SongItem",methods:{redirect:function(){this.$refs.addAlbum.showModal=!0}},props:{cover:String,title:String,artist:String,releaseDate:String,href:String}};n("09a1");const Yo=u()(qo,[["render",Bo],["__scopeId","data-v-55ded93e"]]);var Go=Yo,Wo=function(e){return Object(o["pushScopeId"])("data-v-a845af6e"),e=e(),Object(o["popScopeId"])(),e},Xo={class:"shelf"},Qo={class:"header"},Zo=Wo((function(){return Object(o["createElementVNode"])("h5",null,"See All",-1)})),ec={class:"items"};function tc(e,t,n,c,r,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Xo,[Object(o["createElementVNode"])("div",Qo,[Object(o["createElementVNode"])("h2",null,Object(o["toDisplayString"])(n.heading),1),Zo]),Object(o["createElementVNode"])("div",ec,[Object(o["renderSlot"])(e.$slots,"default",{},void 0,!0)])])}var nc={name:"Shelf",props:{heading:String}};n("9f1b");const oc=u()(nc,[["render",tc],["__scopeId","data-v-a845af6e"]]);var cc=oc,rc={name:"Search",components:{Shelf:cc,Item:So,SearchItem:Go},data:function(){return{query:"",spotifyTracks:[],spotifyArtists:[],tracks:[],artists:[],youtubeTracks:[]}},methods:{search:function(){var e=this,t=this.$route.params.query;t&&fetch("http://localhost:1234/api/search",{method:"POST",body:JSON.stringify({query:t})}).then((function(e){return e.json()})).then((function(t){var n,o,c,r,l;e.spotifyTracks.length=0,e.spotifyArtists.length=0,e.tracks.length=0,e.artists.length=0,e.youtubeTracks.length=0,(n=e.spotifyTracks).push.apply(n,Object(We["a"])(t.spotifyTracks||[])),(o=e.spotifyArtists).push.apply(o,Object(We["a"])(t.spotifyArtists||[])),(c=e.tracks).push.apply(c,Object(We["a"])(t.tracks||[])),(r=e.artists).push.apply(r,Object(We["a"])(t.artists||[])),(l=e.youtubeTracks).push.apply(l,Object(We["a"])(t.youtubeTracks||[]))}))},enterText:function(e){"Enter"===e.key&&this.$router.push("/search/"+this.query)}},watch:{$route:function(){this.search()}},mounted:function(){this.search()}};n("2f8b");const lc=u()(rc,[["render",En],["__scopeId","data-v-f4ff2f5a"]]);var ic=lc,ac=function(e){return Object(o["pushScopeId"])("data-v-000223ea"),e=e(),Object(o["popScopeId"])(),e},sc={class:"padding-20"},dc=ac((function(){return Object(o["createElementVNode"])("div",{class:"albums"}," Albums ",-1)}));function uc(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("CollectionHeader");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",sc,[Object(o["createVNode"])(i),dc])}var pc=function(e){return Object(o["pushScopeId"])("data-v-005a915a"),e=e(),Object(o["popScopeId"])(),e},bc={class:"wrapper"},fc=pc((function(){return Object(o["createElementVNode"])("div",{class:"collection"}," Playlists ",-1)})),mc=pc((function(){return Object(o["createElementVNode"])("div",{class:"collection"}," Releases ",-1)})),hc=pc((function(){return Object(o["createElementVNode"])("div",{class:"collection"}," Artists ",-1)}));function Oc(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",bc,[Object(o["createVNode"])(i,{class:"link",to:"/collection/playlists"},{default:Object(o["withCtx"])((function(){return[fc]})),_:1}),Object(o["createVNode"])(i,{class:"link",to:"/collection/releases"},{default:Object(o["withCtx"])((function(){return[mc]})),_:1}),Object(o["createVNode"])(i,{class:"link",to:"/collection/artists"},{default:Object(o["withCtx"])((function(){return[hc]})),_:1}),Object(o["createCommentVNode"])("",!0)])}var jc={name:"CollectionHeader",props:{href:String}};n("dad6");const vc=u()(jc,[["render",Oc],["__scopeId","data-v-005a915a"]]);var yc=vc,gc={components:{CollectionHeader:yc},name:"Albums"};n("8b2f");const Nc=u()(gc,[["render",uc],["__scopeId","data-v-000223ea"]]);var kc=Nc,Vc={class:"padding-20"},Ec={class:"artists"};function Sc(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("CollectionHeader"),a=Object(o["resolveComponent"])("artist-item"),s=Object(o["resolveComponent"])("full-shelf");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Vc,[Object(o["createVNode"])(i),Object(o["createElementVNode"])("div",Ec,[Object(o["createVNode"])(s,{heading:"Following on Spotify"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.spotifyArtists,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:t,cover:e.cover,description:e.description,name:e.name,id:e.id},null,8,["cover","description","name","id"])})),128))]})),_:1})])])}var Cc={class:"shelf"},wc={class:"header"},xc={class:"items"};function Bc(e,t,n,c,r,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Cc,[Object(o["createElementVNode"])("div",wc,[Object(o["createElementVNode"])("h2",null,Object(o["toDisplayString"])(n.heading),1)]),Object(o["createElementVNode"])("div",xc,[Object(o["renderSlot"])(e.$slots,"default",{},void 0,!0)])])}var Pc={name:"FullShelf",props:{heading:String}};n("b3fc");const Tc=u()(Pc,[["render",Bc],["__scopeId","data-v-be2be860"]]);var _c=Tc,Ac={class:"wrapper"},Dc=["src"],Mc=["innerHTML"];function Ic(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("add-artist-to-playlist");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ac,[Object(o["createVNode"])(i,{cover:n.cover,name:n.name,description:n.description,id:n.id,ref:"import"},null,8,["cover","name","description","id"]),Object(o["createElementVNode"])("div",{class:"item",onClick:t[0]||(t[0]=function(){return l.redirect&&l.redirect.apply(l,arguments)})},[Object(o["createElementVNode"])("img",{src:n.cover},null,8,Dc),Object(o["createElementVNode"])("h4",null,Object(o["toDisplayString"])(n.name),1),Object(o["createElementVNode"])("p",{innerHTML:n.description},null,8,Mc)])])}var $c=function(e){return Object(o["pushScopeId"])("data-v-c42aa2ec"),e=e(),Object(o["popScopeId"])(),e},Hc={class:"wrapper"},Lc={class:"header"},Fc=$c((function(){return Object(o["createElementVNode"])("h3",null,"Import playlist",-1)})),Uc=$c((function(){return Object(o["createElementVNode"])("span",{class:"material-icons-round"}," close ",-1)})),Jc=[Uc],Rc=$c((function(){return Object(o["createElementVNode"])("h4",null,"To Playlist",-1)})),zc=$c((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),Kc={key:0},qc=$c((function(){return Object(o["createElementVNode"])("h4",null,"Source",-1)})),Yc={class:"content"},Gc=$c((function(){return Object(o["createElementVNode"])("h4",null,"Title",-1)})),Wc={class:"content"},Xc=$c((function(){return Object(o["createElementVNode"])("h4",null,"Album",-1)})),Qc={class:"content"},Zc=$c((function(){return Object(o["createElementVNode"])("h4",null,"Artist",-1)})),er={class:"content"},tr=$c((function(){return Object(o["createElementVNode"])("h4",null,"Cover",-1)})),nr={class:"content"},or=["src"],cr={class:"confirm"},rr={key:1},lr=["src"],ir={class:"details"},ar=Object(o["createTextVNode"])("Artist"),sr=["innerHTML"],dr=$c((function(){return Object(o["createElementVNode"])("hr",null,null,-1)})),ur=$c((function(){return Object(o["createElementVNode"])("hr",null,null,-1)})),pr={class:"confirm"};function br(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("FindSources"),a=Object(o["resolveComponent"])("h7"),s=Object(o["resolveComponent"])("spotify-playlist-header"),d=Object(o["resolveComponent"])("spotify-playlist-entry"),u=Object(o["resolveComponent"])("vue-final-modal"),p=Object(o["resolveDirective"])("observe-visibility");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createVNode"])(u,{onClick:e.hideFindSourcesCtx,modelValue:r.showModal,"onUpdate:modelValue":t[12]||(t[12]=function(e){return r.showModal=e}),classes:"modal-containerr","content-class":"addAlbumToPlaylistPopup"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Hc,[Object(o["createElementVNode"])("div",Lc,[Fc,Object(o["createElementVNode"])("button",{class:"modal-close",onClick:t[0]||(t[0]=function(){return l.close&&l.close.apply(l,arguments)})},Jc)]),Rc,Object(o["withDirectives"])(Object(o["createElementVNode"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.selectedPlaylist=e})},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.playlists,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("option",{key:e},Object(o["toDisplayString"])(e),1)})),128))],512),[[o["vModelSelect"],r.selectedPlaylist]]),zc,r.editSong?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Kc,[qc,Object(o["createVNode"])(i,{ref:"findSources",title:e.title,artist:e.artist},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Yc,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.dSource=t}),ref:"source"},null,512),[[o["vModelText"],e.dSource]]),Object(o["createElementVNode"])("span",{class:"material-icons-round more",ref:"sourceMore",onClick:t[3]||(t[3]=function(){return e.opencontextmenu&&e.opencontextmenu.apply(e,arguments)})},"more_vert",512)])]})),_:1},8,["title","artist"]),Gc,Object(o["createElementVNode"])("div",Wc,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.dTitle=t}),type:"text"},null,512),[[o["vModelText"],e.dTitle]])]),Xc,Object(o["createElementVNode"])("div",Qc,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.dAlbum=t}),type:"text",ref:"album"},null,512),[[o["vModelText"],e.dAlbum]])]),Zc,Object(o["createElementVNode"])("div",er,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.dArtist=t}),type:"text"},null,512),[[o["vModelText"],e.dArtist]])]),tr,Object(o["createElementVNode"])("div",nr,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",class:"addSong cover","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.dCover=t}),ref:"cover"},null,512),[[o["vModelText"],e.dCover]]),Object(o["createElementVNode"])("img",{onClick:t[8]||(t[8]=function(){return l.openInNewTab&&l.openInNewTab.apply(l,arguments)}),class:"addSong cover",src:e.dCover?e.dCover:"/assets/img/music_placeholder.png"},null,8,or)]),Object(o["createElementVNode"])("div",cr,[Object(o["createElementVNode"])("button",{onClick:t[9]||(t[9]=function(){return l.add&&l.add.apply(l,arguments)}),class:"negative"},"Add")])])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",rr,[Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"padding-20 playlisteditor",onClick:t[10]||(t[10]=function(){return e.editPlaylist&&e.editPlaylist.apply(e,arguments)})},[Object(o["createElementVNode"])("img",{class:"cover",src:n.cover},null,8,lr),Object(o["createElementVNode"])("div",ir,[Object(o["createVNode"])(a,null,{default:Object(o["withCtx"])((function(){return[ar]})),_:1}),Object(o["createElementVNode"])("h1",null,Object(o["toDisplayString"])(n.name),1),Object(o["createElementVNode"])("h5",{innerHTML:n.description},null,8,sr)])])),[[p,e.headerVisibilityChanged]]),dr,Object(o["createVNode"])(s),ur,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.playlist,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(d,{onAdd:l.add,key:t,added:e.added,index:t,cover:e.cover,artist:e.artists.join(", "),title:e.title,source:e.source,album:e.album},null,8,["onAdd","added","index","cover","artist","title","source","album"])})),128))])),Object(o["createElementVNode"])("div",pr,[Object(o["createElementVNode"])("button",{onClick:t[11]||(t[11]=function(){return l.addAll&&l.addAll.apply(l,arguments)}),class:"negative"},"Add All")])])]})),_:1},8,["onClick","modelValue"])])}var fr={class:"track"},mr=["src"],hr={class:"trackwrapper"},Or={class:"title"},jr={class:"artist"};function vr(e,t,n,c,r,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{onDblclick:t[2]||(t[2]=function(){l.playAt(),l.onselect()}),onClick:t[3]||(t[3]=function(){return l.onselect&&l.onselect.apply(l,arguments)}),onMouseover:t[4]||(t[4]=function(){return l.displayPlay&&l.displayPlay.apply(l,arguments)}),onMouseleave:t[5]||(t[5]=function(){return l.displayId&&l.displayId.apply(l,arguments)}),class:Object(o["normalizeClass"])(["playlistEntry",{selected:r.highlighted}])},[Object(o["createElementVNode"])("span",{onClick:t[0]||(t[0]=function(){return e.edit&&e.edit.apply(e,arguments)}),ref:"idOrPlay",class:"id"},Object(o["toDisplayString"])(n.index+1),513),Object(o["createElementVNode"])("div",fr,[Object(o["createElementVNode"])("img",{src:n.cover||"/assets/img/music_placeholder.png"},null,8,mr),Object(o["createElementVNode"])("div",hr,[Object(o["createElementVNode"])("span",Or,Object(o["toDisplayString"])(n.title),1),Object(o["createElementVNode"])("span",jr,Object(o["toDisplayString"])(n.artist),1)]),Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("span",{onClick:t[1]||(t[1]=function(){return l.add&&l.add.apply(l,arguments)}),class:"material-icons-round edit",ref:"add"},"add",512)],34)}var yr={name:"SpotifyPlaylistEntry",props:{index:Number,id:Number,source:String,artist:{type:String,default:"N/A"},title:{type:String,default:"N/A"},added:Boolean,cover:String,album:String},data:function(){return{highlighted:!1,favourited:this.favourite,isAutoPlaylist:"/collection/tracks"==this.$route.path}},methods:{remove:function(){fetch("http://localhost:1234/api/remove",{method:"POST",body:JSON.stringify({playlistId:Number(this.$route.params.id),songId:this.id})})},onselect:function(){this.highlighted=!this.highlighted},displayPlay:function(){var e=this.$refs.idOrPlay;e.innerHTML="edit",e.classList.add("material-icons-round")},displayId:function(){var e=this.$refs.idOrPlay;e.innerHTML=this.index+1,e.classList.remove("material-icons-round")},playAt:function(){this.$emit("edit",this.index)},add:function(){console.log("add"),this.$emit("add",this.index)}},watch:{added:function(){console.log("change"),this.$refs.add.innerHTML=this.added?"done":"add"}}};n("cdce");const gr=u()(yr,[["render",vr],["__scopeId","data-v-311b9f8a"]]);var Nr=gr,kr=function(e){return Object(o["pushScopeId"])("data-v-491e69c7"),e=e(),Object(o["popScopeId"])(),e},Vr={class:"gridHeader"},Er=kr((function(){return Object(o["createElementVNode"])("span",{class:"id"},"#",-1)})),Sr=kr((function(){return Object(o["createElementVNode"])("span",{class:"title"},"Title",-1)})),Cr=[Er,Sr];function wr(e,t,n,c,r,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Vr,Cr)}var xr={name:"SpotifyPlaylistHeader"};n("4fce");const Br=u()(xr,[["render",wr],["__scopeId","data-v-491e69c7"]]);var Pr=Br,Tr={name:"AddArtistToPlaylist",components:{FindSources:Ct,SpotifyPlaylistHeader:Pr,SpotifyPlaylistEntry:Nr},props:{cover:String,description:String,name:String,href:String,id:String},data:function(){return{showModal:!1,playlists:[],selectedPlaylist:-1,playlist:[],editSong:!1}},methods:{close:function(){this.showModal=!1,this.$emit("close")},loadMetadata:function(){var e=this;fetch("http://localhost:1234/api/metadata",{method:"POST",body:JSON.stringify({url:this.$refs.source.value})}).then((function(e){return e.json()})).then((function(t){console.log(t),e.dTitle=t.title,e.$refs.album.value=t.album,e.dArtist=t.artists.join(", "),e.dCover=t.cover,e.$refs.source.value=t.src}))},openInNewTab:function(){window.open(this.cover?this.cover:"/assets/img/music_placeholder.png")},addAll:function(){for(var e=0;e<this.playlist.length;e++)this.add(e)},add:function(e){var t=this,n=this.playlist[e],o=this.playlists.findIndex((function(e){return e==t.selectedPlaylist}));console.log(n,o),o<0?alert("no playlist selected"):fetch("http://localhost:1234/api/add",{method:"POST",body:JSON.stringify({id:o,source:n.src,title:n.title,artist:n.artists.join(", "),album:n.album,cover:n.cover})}).then((function(e){200==e.status&&(n.added=!0)}))}},watch:{dSource:function(){this.loadMetadata()},showModal:function(){var e=this;this.showModal&&(fetch("http://localhost:1234/api/playlists").then((function(e){return e.json()})).then((function(t){var n;e.playlists.length=0,(n=e.playlists).push.apply(n,Object(We["a"])(t))})),fetch("http://localhost:1234/api/spotify/artist",{method:"POST",body:JSON.stringify({artistId:this.id})}).then((function(e){return e.json()})).then((function(t){var n;e.playlist.length=0,(n=e.playlist).push.apply(n,Object(We["a"])(t))})))}}};n("3f53"),n("1a5f");const _r=u()(Tr,[["render",br],["__scopeId","data-v-c42aa2ec"]]);var Ar=_r,Dr={components:{AddArtistToPlaylist:Ar},name:"ArtistItem",methods:{redirect:function(){this.$refs.import.showModal=!0}},props:{cover:String,name:String,description:String,id:String}};n("b754");const Mr=u()(Dr,[["render",Ic],["__scopeId","data-v-e4b8d22c"]]);var Ir=Mr,$r={components:{CollectionHeader:yc,ArtistItem:Ir,FullShelf:_c},name:"Artists",data:function(){var e=this;return fetch("http://localhost:1234/api/spotify/artists").then((function(e){return e.json()})).then((function(t){var n;return(n=e.spotifyArtists).push.apply(n,Object(We["a"])(t))})),{spotifyArtists:[]}}};n("6edd");const Hr=u()($r,[["render",Sc],["__scopeId","data-v-5d050db1"]]);var Lr=Hr,Fr={class:"padding-20"},Ur={class:"playlists"};function Jr(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("CollectionHeader"),a=Object(o["resolveComponent"])("playlist-item-big"),s=Object(o["resolveComponent"])("playlist-item"),d=Object(o["resolveComponent"])("full-shelf");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Fr,[Object(o["createVNode"])(i),Object(o["createElementVNode"])("div",Ur,[Object(o["createVNode"])(d,{heading:"Playlists"},{default:Object(o["withCtx"])((function(){var e,t,n,c;return[null!==(e=r.likedTracks)&&void 0!==e&&null!==(t=e.songs)&&void 0!==t&&t.length?(Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:0,title:"Liked Songs",description:"".concat(null===(n=r.likedTracks)||void 0===n||null===(c=n.songs)||void 0===c?void 0:c.length," liked Songs"),href:"/collection/tracks"},null,8,["description"])):Object(o["createCommentVNode"])("",!0),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.playlists,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:t,href:"/playlist/".concat(t),cover:e.cover,description:e.description,title:e.name,spotify:!1},null,8,["href","cover","description","title"])})),128))]})),_:1}),Object(o["createVNode"])(d,{heading:"Import From Spotify"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.spotifyPlaylists,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:t,cover:e.cover,description:e.description,title:e.name,id:e.id,spotify:!0},null,8,["cover","description","title","id"])})),128))]})),_:1})])])}var Rr={class:"wrapper"},zr=["src"],Kr=["innerHTML"];function qr(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("add-playlist-to-playlist");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Rr,[n.spotify?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,cover:n.cover,title:n.title,description:n.description,id:n.id,ref:"import"},null,8,["cover","title","description","id"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",{class:"item",onClick:t[0]||(t[0]=function(){return l.redirect&&l.redirect.apply(l,arguments)})},[Object(o["createElementVNode"])("img",{src:n.cover},null,8,zr),Object(o["createElementVNode"])("h4",null,Object(o["toDisplayString"])(n.title),1),Object(o["createElementVNode"])("p",{innerHTML:n.description},null,8,Kr)])])}var Yr=function(e){return Object(o["pushScopeId"])("data-v-2735d279"),e=e(),Object(o["popScopeId"])(),e},Gr={class:"wrapper"},Wr={class:"header"},Xr=Yr((function(){return Object(o["createElementVNode"])("h3",null,"Import playlist",-1)})),Qr=Yr((function(){return Object(o["createElementVNode"])("span",{class:"material-icons-round"}," close ",-1)})),Zr=[Qr],el=Yr((function(){return Object(o["createElementVNode"])("h4",null,"To Playlist",-1)})),tl=Yr((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),nl={key:0},ol=Yr((function(){return Object(o["createElementVNode"])("h4",null,"Source",-1)})),cl={class:"content"},rl=Yr((function(){return Object(o["createElementVNode"])("h4",null,"Title",-1)})),ll={class:"content"},il=Yr((function(){return Object(o["createElementVNode"])("h4",null,"Album",-1)})),al={class:"content"},sl=Yr((function(){return Object(o["createElementVNode"])("h4",null,"Artist",-1)})),dl={class:"content"},ul=Yr((function(){return Object(o["createElementVNode"])("h4",null,"Cover",-1)})),pl={class:"content"},bl=["src"],fl={class:"confirm"},ml={key:1},hl=["src"],Ol={class:"details"},jl=Object(o["createTextVNode"])("Playlist"),vl=["innerHTML"],yl=Yr((function(){return Object(o["createElementVNode"])("hr",null,null,-1)})),gl=Yr((function(){return Object(o["createElementVNode"])("hr",null,null,-1)})),Nl={class:"confirm"};function kl(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("FindSources"),a=Object(o["resolveComponent"])("h7"),s=Object(o["resolveComponent"])("spotify-playlist-header"),d=Object(o["resolveComponent"])("spotify-playlist-entry"),u=Object(o["resolveComponent"])("vue-final-modal"),p=Object(o["resolveDirective"])("observe-visibility");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createVNode"])(u,{onClick:e.hideFindSourcesCtx,modelValue:r.showModal,"onUpdate:modelValue":t[12]||(t[12]=function(e){return r.showModal=e}),classes:"modal-containerr","content-class":"addAlbumToPlaylistPopup"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Gr,[Object(o["createElementVNode"])("div",Wr,[Xr,Object(o["createElementVNode"])("button",{class:"modal-close",onClick:t[0]||(t[0]=function(){return l.close&&l.close.apply(l,arguments)})},Zr)]),el,Object(o["withDirectives"])(Object(o["createElementVNode"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.selectedPlaylist=e})},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.playlists,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("option",{key:e},Object(o["toDisplayString"])(e),1)})),128))],512),[[o["vModelSelect"],r.selectedPlaylist]]),tl,r.editSong?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",nl,[ol,Object(o["createVNode"])(i,{ref:"findSources",title:n.title,artist:e.artist},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",cl,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.dSource=t}),ref:"source"},null,512),[[o["vModelText"],e.dSource]]),Object(o["createElementVNode"])("span",{class:"material-icons-round more",ref:"sourceMore",onClick:t[3]||(t[3]=function(){return e.opencontextmenu&&e.opencontextmenu.apply(e,arguments)})},"more_vert",512)])]})),_:1},8,["title","artist"]),rl,Object(o["createElementVNode"])("div",ll,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.dTitle=t}),type:"text"},null,512),[[o["vModelText"],e.dTitle]])]),il,Object(o["createElementVNode"])("div",al,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.dAlbum=t}),type:"text",ref:"album"},null,512),[[o["vModelText"],e.dAlbum]])]),sl,Object(o["createElementVNode"])("div",dl,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.dArtist=t}),type:"text"},null,512),[[o["vModelText"],e.dArtist]])]),ul,Object(o["createElementVNode"])("div",pl,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",class:"addSong cover","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.dCover=t}),ref:"cover"},null,512),[[o["vModelText"],e.dCover]]),Object(o["createElementVNode"])("img",{onClick:t[8]||(t[8]=function(){return l.openInNewTab&&l.openInNewTab.apply(l,arguments)}),class:"addSong cover",src:e.dCover?e.dCover:"/assets/img/music_placeholder.png"},null,8,bl)]),Object(o["createElementVNode"])("div",fl,[Object(o["createElementVNode"])("button",{onClick:t[9]||(t[9]=function(){return l.add&&l.add.apply(l,arguments)}),class:"negative"},"Add")])])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ml,[Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"padding-20 playlisteditor",onClick:t[10]||(t[10]=function(){return e.editPlaylist&&e.editPlaylist.apply(e,arguments)})},[Object(o["createElementVNode"])("img",{class:"cover",src:n.cover},null,8,hl),Object(o["createElementVNode"])("div",Ol,[Object(o["createVNode"])(a,null,{default:Object(o["withCtx"])((function(){return[jl]})),_:1}),Object(o["createElementVNode"])("h1",null,Object(o["toDisplayString"])(n.title),1),Object(o["createElementVNode"])("h5",{innerHTML:n.description},null,8,vl)])])),[[p,e.headerVisibilityChanged]]),yl,Object(o["createVNode"])(s),gl,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.playlist,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(d,{onAdd:l.add,key:t,added:e.added,index:t,cover:e.cover,artist:e.artists.join(", "),title:e.title,source:e.source,album:e.album},null,8,["onAdd","added","index","cover","artist","title","source","album"])})),128))])),Object(o["createElementVNode"])("div",Nl,[Object(o["createElementVNode"])("button",{onClick:t[11]||(t[11]=function(){return l.addAll&&l.addAll.apply(l,arguments)}),class:"negative"},"Add All")])])]})),_:1},8,["onClick","modelValue"])])}var Vl={name:"AddPlaylistToPlaylist",components:{FindSources:Ct,SpotifyPlaylistHeader:Pr,SpotifyPlaylistEntry:Nr},props:{cover:String,description:String,title:String,href:String,id:String},data:function(){return{showModal:!1,playlists:[],selectedPlaylist:-1,playlist:[],editSong:!1}},methods:{close:function(){this.showModal=!1,this.$emit("close")},loadMetadata:function(){var e=this;fetch("http://localhost:1234/api/metadata",{method:"POST",body:JSON.stringify({url:this.$refs.source.value})}).then((function(e){return e.json()})).then((function(t){console.log(t),e.dTitle=t.title,e.$refs.album.value=t.album,e.dArtist=t.artists.join(", "),e.dCover=t.cover,e.$refs.source.value=t.src}))},openInNewTab:function(){window.open(this.cover?this.cover:"/assets/img/music_placeholder.png")},addAll:function(){for(var e=0;e<this.playlist.length;e++)this.add(e)},add:function(e){var t=this,n=this.playlist[e],o=this.playlists.findIndex((function(e){return e==t.selectedPlaylist}));console.log(n,o),o<0?alert("no playlist selected"):fetch("http://localhost:1234/api/add",{method:"POST",body:JSON.stringify({id:o,source:n.src,title:n.title,artist:n.artists.join(", "),album:n.album,cover:n.cover})}).then((function(e){200==e.status&&(n.added=!0)}))}},watch:{dSource:function(){this.loadMetadata()},showModal:function(){var e=this;this.showModal&&(fetch("http://localhost:1234/api/playlists").then((function(e){return e.json()})).then((function(t){var n;e.playlists.length=0,(n=e.playlists).push.apply(n,Object(We["a"])(t))})),fetch("http://localhost:1234/api/spotify/playlist",{method:"POST",body:JSON.stringify({playlistId:this.id})}).then((function(e){return e.json()})).then((function(t){var n;e.playlist.length=0,(n=e.playlist).push.apply(n,Object(We["a"])(t))})))}}};n("2e38"),n("2a4e");const El=u()(Vl,[["render",kl],["__scopeId","data-v-2735d279"]]);var Sl=El,Cl={components:{AddPlaylistToPlaylist:Sl},name:"PlaylistItem",methods:{redirect:function(){this.spotify?this.$refs.import.showModal=!0:this.$router.push(this.href)}},props:{cover:String,title:String,description:String,href:String,spotify:Boolean,id:String}};n("7f21");const wl=u()(Cl,[["render",qr],["__scopeId","data-v-f66e4aac"]]);var xl=wl,Bl={class:"itemBig"},Pl={class:"wrapper"};function Tl(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("add-album-to-playlist");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Bl,[Object(o["createVNode"])(i,{id:this.href.replace("https://open.spotify.com/album/",""),cover:e.cover,title:n.title,artist:e.artist,ref:"addAlbum"},null,8,["id","cover","title","artist"]),Object(o["createElementVNode"])("div",{class:"item",onClick:t[0]||(t[0]=function(){return l.redirect&&l.redirect.apply(l,arguments)})},[Object(o["createElementVNode"])("div",Pl,[Object(o["createElementVNode"])("h4",null,Object(o["toDisplayString"])(n.title),1),Object(o["createElementVNode"])("p",null,Object(o["toDisplayString"])(n.description),1)])])])}var _l={components:{AddAlbumToPlaylist:ko},name:"ReleaseItemBig",methods:{redirect:function(){this.$router.push(this.href)}},props:{title:String,description:String,href:String}};n("81fb");const Al=u()(_l,[["render",Tl],["__scopeId","data-v-01b9ec10"]]);var Dl=Al,Ml={components:{CollectionHeader:yc,PlaylistItem:xl,FullShelf:_c,PlaylistItemBig:Dl},name:"Playlists",data:function(){var e=this;return fetch("http://localhost:1234/api/playlists").then((function(e){return e.json()})).then(function(){var t=Object(ge["a"])(regeneratorRuntime.mark((function t(n){var o,c,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=0;case 1:if(!(o<n.length)){t.next=12;break}return t.next=4,fetch("http://localhost:1234/api/playlist",{method:"POST",body:JSON.stringify({id:o})});case 4:return c=t.sent,t.next=7,c.json();case 7:r=t.sent,e.playlists.push({name:r.name,description:r.description,cover:r.songs[0].cover});case 9:o++,t.next=1;break;case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),fetch("http://localhost:1234/api/collection/tracks").then((function(e){return e.json()})).then((function(t){e.likedTracks=t})),fetch("http://localhost:1234/api/spotify/playlists").then((function(e){return e.json()})).then((function(t){e.spotifyPlaylists=t})),{playlists:[],likedTracks:null,spotifyPlaylists:[]}}};n("2776");const Il=u()(Ml,[["render",Jr],["__scopeId","data-v-cdb60a4e"]]);var $l=Il,Hl={class:"padding-20"},Ll={class:"releases"};function Fl(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("CollectionHeader"),a=Object(o["resolveComponent"])("item-big"),s=Object(o["resolveComponent"])("full-shelf"),d=Object(o["resolveComponent"])("ItemBig"),u=Object(o["resolveComponent"])("Item");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Hl,[Object(o["createVNode"])(i),Object(o["createElementVNode"])("div",Ll,[r.outSoon.length?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,heading:"Out Soon"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.outSoon,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:e.url,releaseDate:e.releaseDate,cover:e.cover,href:e.url,artist:e.artists.join(", "),title:e.title},null,8,["releaseDate","cover","href","artist","title"])})),128))]})),_:1})):Object(o["createCommentVNode"])("",!0),r.outNow.length?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:1,heading:"Out Now"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.outNow,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:e.url,releaseDate:e.releaseDate,cover:e.cover,href:e.url,artist:e.artists.join(", "),title:e.title},null,8,["releaseDate","cover","href","artist","title"])})),128))]})),_:1})):Object(o["createCommentVNode"])("",!0),r.outAlready.length?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:2,heading:"Releases"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.outAlready,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:e.url,releaseDate:e.releaseDate,cover:e.cover,href:e.url,artist:e.artists.join(", "),title:e.title},null,8,["releaseDate","cover","href","artist","title"])})),128))]})),_:1})):Object(o["createCommentVNode"])("",!0)])])}var Ul={class:"itemBig"},Jl=["src"],Rl={class:"wrapper"},zl={key:0,class:"note"};function Kl(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("add-album-to-playlist");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ul,[Object(o["createVNode"])(i,{id:this.href.replace("https://open.spotify.com/album/",""),cover:n.cover,title:n.title,artist:n.artist,ref:"addAlbum"},null,8,["id","cover","title","artist"]),Object(o["createElementVNode"])("div",{class:"item",onClick:t[0]||(t[0]=function(){return l.redirect&&l.redirect.apply(l,arguments)})},[Object(o["createElementVNode"])("img",{src:n.cover},null,8,Jl),Object(o["createElementVNode"])("div",Rl,[Object(o["createElementVNode"])("h4",null,Object(o["toDisplayString"])(n.title),1),Object(o["createElementVNode"])("p",null,Object(o["toDisplayString"])(n.artist),1),n.releaseDate?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",zl,"Released on "+Object(o["toDisplayString"])(n.releaseDate),1)):Object(o["createCommentVNode"])("",!0)])])])}var ql={components:{AddAlbumToPlaylist:ko},name:"ReleaseItemBig",methods:{redirect:function(){this.$refs.addAlbum.showModal=!0}},props:{cover:String,title:String,artist:String,href:String,releaseDate:String}};n("efc2");const Yl=u()(ql,[["render",Kl],["__scopeId","data-v-60f2f502"]]);var Gl=Yl,Wl={components:{CollectionHeader:yc,FullShelf:_c,Item:So,ItemBig:Gl},name:"Releases",data:function(){return{outSoon:[],outNow:[],outAlready:[]}},mounted:function(){var e=this;fetch("http://localhost:1234/api/releases").then((function(e){return e.json()})).then((function(t){var n,o=new Date,c=Object(Ne["a"])(t);try{for(c.s();!(n=c.n()).done;){var r=n.value,l=new Date(r.releaseDate);o<l?e.outSoon.push(r):o.getMonth()==l.getMonth()&&o.getDate()==l.getDate()&&o.getFullYear()==l.getFullYear()?e.outNow.push(r):e.outAlready.push(r)}}catch(i){c.e(i)}finally{c.f()}}))}};n("95fa");const Xl=u()(Wl,[["render",Fl],["__scopeId","data-v-787302ca"]]);var Ql=Xl,Zl=function(e){return Object(o["pushScopeId"])("data-v-2ea53e98"),e=e(),Object(o["popScopeId"])(),e},ei={class:"playlist"},ti={class:"padding-20"},ni=Object(o["createTextVNode"])("Playlist"),oi=Zl((function(){return Object(o["createElementVNode"])("h5",null,"My Description",-1)})),ci=Zl((function(){return Object(o["createElementVNode"])("hr",null,null,-1)})),ri={class:"padding-20"},li={class:"grid"},ii=Zl((function(){return Object(o["createElementVNode"])("hr",null,null,-1)})),ai={class:"playlistEntries"};function si(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("fixed-playlist-header"),a=Object(o["resolveComponent"])("h7"),s=Object(o["resolveComponent"])("grid-header"),d=Object(o["resolveComponent"])("playlist-entry"),u=Object(o["resolveDirective"])("observe-visibility");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ei,[Object(o["createVNode"])(i,{onClick:e.loadPlaylist,ref:"fixedHeading",class:Object(o["normalizeClass"])({hidden:r.fixedHeaderHidden}),title:r.playlistName},null,8,["onClick","class","title"]),Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ti,[Object(o["createVNode"])(a,null,{default:Object(o["withCtx"])((function(){return[ni]})),_:1}),Object(o["createElementVNode"])("h1",null,Object(o["toDisplayString"])(r.playlistName),1),oi])),[[u,l.headerVisibilityChanged]]),ci,Object(o["createElementVNode"])("div",ri,[Object(o["createElementVNode"])("span",{id:"loadPlaylist",onClick:t[0]||(t[0]=function(){return e.loadPlaylist&&e.loadPlaylist.apply(e,arguments)}),class:"material-icons-outlined"},"play_circle_filled"),Object(o["createElementVNode"])("div",li,[Object(o["createVNode"])(s),ii,Object(o["createElementVNode"])("div",ai,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.playlist,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:t,index:t,id:e.id,title:e.title,album:e.album,artist:e.artist,cover:e.cover,favourite:e.favourite,duration:e.duration},null,8,["index","id","title","album","artist","cover","favourite","duration"])})),128))])])])])}var di={components:{PlaylistEntry:_t,FixedPlaylistHeader:He,GridHeader:Me},name:"Tracks",data:function(){return this.updateTracks(),{fixedHeaderHidden:!0,playlist:[],playlistName:"N/A"}},methods:{headerVisibilityChanged:function(e){this.fixedHeaderHidden=e},updateTracks:function(){var e=this;fetch("http://localhost:1234/api/collection/tracks").then((function(e){return e.json()})).then((function(t){e.playlist=t.songs,e.playlistName=t.name,console.log(e.playlist)}))}}};n("ae47");const ui=u()(di,[["render",si],["__scopeId","data-v-2ea53e98"]]);var pi=ui,bi={class:"preferences"};function fi(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("theme"),a=Object(o["resolveComponent"])("full-shelf");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",bi,[Object(o["createVNode"])(a,{heading:"Themes"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{name:"default"}),Object(o["createVNode"])(i,{name:"royal"}),Object(o["createVNode"])(i,{name:"ruby"}),Object(o["createVNode"])(i,{name:"night-jade"}),Object(o["createVNode"])(i,{name:"night-cobalt"}),Object(o["createVNode"])(i,{name:"night-ruby"}),Object(o["createVNode"])(i,{name:"night-fire"}),Object(o["createVNode"])(i,{name:"reap"}),Object(o["createVNode"])(i,{name:"neon"}),Object(o["createVNode"])(i,{name:"tink"})]})),_:1})])}var mi=["src"];function hi(e,t,n,c,r,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{onClick:t[0]||(t[0]=function(){return l.select&&l.select.apply(l,arguments)}),class:"wrapper"},[Object(o["createElementVNode"])("img",{src:r.src,class:Object(o["normalizeClass"])({selected:l.selected()})},null,10,mi)])}var Oi={name:"Theme",props:{name:String},data:function(){return{src:n("37df")("./".concat(this.name,".svg"))}},methods:{selected:function(){return window.getCurrentTheme()==this.name},select:function(){window.setTheme(this.name)}}};n("b318");const ji=u()(Oi,[["render",hi],["__scopeId","data-v-363a554b"]]);var vi=ji,yi={components:{Theme:vi,FullShelf:_c},name:"Preferences"};n("98d8");const gi=u()(yi,[["render",fi],["__scopeId","data-v-30ffeb34"]]);var Ni=gi,ki=n("6831"),Vi=Object(o["createApp"])(ce);Vi.directive("observe-visibility",{beforeMount:function(e,t,n){n.context=t.instance,re["a"].bind(e,t,n)},updated:re["a"].update,unmounted:re["a"].unbind}),Vi.use(Object(le["a"])()),Vi.use(ki["a"]);var Ei=[{path:"/",component:ue},{path:"/search",component:ic},{path:"/search/:query",component:ic},{path:"/collection/albums",component:kc},{path:"/collection/artists",component:Lr},{path:"/collection/playlists",component:$l},{path:"/collection/releases",component:Ql},{path:"/collection/tracks",component:pi},{path:"/playlist/:id",component:kn},{path:"/preferences",component:Ni}],Si=Object(T["a"])({history:Object(T["b"])(),routes:Ei});Vi.use(Si),Vi.mount("#app")},c4d5:function(e,t,n){"use strict";n("8642")},c8b5:function(e,t,n){e.exports=n.p+"img/ruby.89e348dc.svg"},c8ec:function(e,t,n){e.exports=n.p+"img/reap.6ea14a73.svg"},cb43:function(e,t,n){e.exports=n.p+"img/tink.61fe5355.svg"},cdce:function(e,t,n){"use strict";n("4c29")},d057:function(e,t,n){"use strict";n("0b54")},d8dc:function(e,t,n){},dad6:function(e,t,n){"use strict";n("b226")},daed:function(e,t,n){},db3b:function(e,t,n){"use strict";n("7d51")},db6a:function(e,t,n){},ed6a:function(e,t,n){},efc2:function(e,t,n){"use strict";n("32e0")},f3b6:function(e,t,n){},f63f:function(e,t,n){e.exports=n.p+"img/default.73bff5d0.svg"},f993:function(e,t,n){}});
//# sourceMappingURL=app.8a5c650c.js.map