(function(t){function e(e){for(var i,a,l=e[0],r=e[1],s=e[2],d=0,f=[];d<l.length;d++)a=l[d],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&f.push(c[a][0]),c[a]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,l=1;l<n.length;l++){var r=n[l];0!==c[r]&&(i=!1)}i&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},c={app:0},o=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var s=0;s<l.length;s++)e(l[s]);var u=r;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("c275")},"02cf":function(t,e,n){"use strict";n("fd9d")},"03a4":function(t,e,n){"use strict";n("6f76")},"045d":function(t,e,n){},"0f93":function(t,e,n){"use strict";n("9420")},"1b93":function(t,e,n){"use strict";n("32c9")},2221:function(t,e,n){"use strict";n("7352")},2875:function(t,e,n){"use strict";n("7d60")},"30d3":function(t,e,n){"use strict";n("88c7")},"32c9":function(t,e,n){},"33b0":function(t,e,n){"use strict";n("7440")},"420a":function(t,e,n){},"466a":function(t,e,n){"use strict";n("420a")},"4a2a":function(t,e,n){},"4a4a":function(t,e,n){"use strict";n("c2b6")},"4b5e":function(t,e,n){},5717:function(t,e,n){"use strict";n("4b5e")},"5ad5":function(t,e,n){"use strict";n("4a2a")},"6caa":function(t,e,n){},"6cef":function(t,e,n){},"6f76":function(t,e,n){},7352:function(t,e,n){},7440:function(t,e,n){},"7d60":function(t,e,n){},"88c7":function(t,e,n){},"8e7f":function(t,e,n){"use strict";n("045d")},9420:function(t,e,n){},aaa9:function(t,e,n){"use strict";n("6caa")},ad6f:function(t,e,n){"use strict";n("6cef")},b357:function(t,e,n){"use strict";n("fa4f")},b896:function(t,e,n){},c15e:function(t,e,n){"use strict";n("b896")},c275:function(t,e,n){"use strict";n.r(e);var i=n("69be"),c={class:"appRoot"},o={class:"interface"};function a(t,e,n,a,l,r){var s=Object(i["I"])("Sidebar"),u=Object(i["I"])("Body"),d=Object(i["I"])("Player");return Object(i["A"])(),Object(i["h"])("div",c,[Object(i["i"])("div",o,[Object(i["l"])(s),Object(i["l"])(u)]),Object(i["l"])(d)])}var l={class:"body"};function r(t,e,n,c,o,a){var r=Object(i["I"])("router-view");return Object(i["A"])(),Object(i["h"])("div",l,[Object(i["l"])(r)])}var s={name:"Body"},u=(n("2875"),n("1c27")),d=n.n(u);const f=d()(s,[["render",r],["__scopeId","data-v-26006ec5"]]);var p=f,b=function(t){return Object(i["D"])("data-v-0f3d1486"),t=t(),Object(i["B"])(),t},h={class:"player"},O={class:"left"},j=["src"],v={class:"titleartist"},m={class:"title"},y={class:"artist"},g={class:"centre"},S={class:"upper"},k=b((function(){return Object(i["i"])("span",{class:"material-icons-round defaultbtn"},"shuffle",-1)})),w=b((function(){return Object(i["i"])("span",{class:"material-icons-round defaultbtn"},"repeat",-1)})),x={class:"lower"},P={class:"positionLabel"},C={class:"positionLabel"},N={class:"right"},_=b((function(){return Object(i["i"])("span",{class:"material-icons-round defaultbtn"},"volume_up",-1)}));function A(t,e,n,c,o,a){return Object(i["A"])(),Object(i["h"])("div",h,[Object(i["i"])("div",O,[Object(i["i"])("img",{src:o.cover},null,8,j),Object(i["i"])("div",v,[Object(i["i"])("span",m,Object(i["N"])(o.title),1),Object(i["i"])("span",y,Object(i["N"])(o.artist),1)]),Object(i["i"])("span",{onClick:e[0]||(e[0]=function(t){return o.favourited=!o.favourited}),class:"favourite material-icons-round"},Object(i["N"])(o.favourited?"favorite":"favorite_border"),1)]),Object(i["i"])("div",g,[Object(i["i"])("div",S,[k,Object(i["i"])("span",{onClick:e[1]||(e[1]=function(t){return a.get("last")}),class:"material-icons-round defaultbtn"},"skip_previous"),Object(i["i"])("span",{onClick:e[2]||(e[2]=function(t){return a.get("playPause")}),class:"material-icons-round circle"},Object(i["N"])(o.playing?"pause_circle":"play_circle"),1),Object(i["i"])("span",{onClick:e[3]||(e[3]=function(t){return a.get("next")}),class:"material-icons-round defaultbtn"},"skip_next"),w]),Object(i["i"])("div",x,[Object(i["i"])("span",P,Object(i["N"])(o.progresslbl),1),Object(i["U"])(Object(i["i"])("input",{onChange:e[4]||(e[4]=function(){return a.progresschange&&a.progresschange.apply(a,arguments)}),"onUpdate:modelValue":e[5]||(e[5]=function(t){return o.progress=t}),max:"1000",type:"range",class:"progress"},null,544),[[i["Q"],o.progress]]),Object(i["i"])("span",C,Object(i["N"])(o.durationStr),1)])]),Object(i["i"])("div",N,[_,Object(i["i"])("input",{onChange:e[6]||(e[6]=function(){return a.volumechange&&a.volumechange.apply(a,arguments)}),ref:"volume",type:"range",class:"volume"},null,544)])])}n("dfac"),n("07e6"),n("e932"),n("500c"),n("3efd"),n("f258"),n("c7c6");var T={name:"Player",props:{favourite:{type:Boolean,default:!1}},data:function(){var t=this,e=this;function n(){console.log("attempting reconnect");var t=new WebSocket("ws://localhost:1234/ws");t.onclose=function(){console.log("ws closed"),setTimeout(n,1e3)},t.onopen=function(){console.log("ws connected")},t.onmessage=function(t){var n=JSON.parse(t.data);e.updateData(n)}}return n(),setInterval((function(){if(e.playing){var t=60*Number(e.durationStr.split(":")[0])+Number(e.durationStr.split(":")[1]),n=60*Number(e.progresslbl.split(":")[0])+Number(e.progresslbl.split(":")[1]);n+=1,e.progress=n/t*1e3,e.progresslbl="".concat(Math.floor(n/60),":").concat(e.zeroPad(n%60,2))}}),1e3),fetch("http://localhost:1234/api/getVolume").then((function(t){return t.text()})).then((function(e){t.$refs.volume.value=e})),{favourited:this.favourite,title:"N/A",artist:"N/A",durationStr:"0:00",cover:"/assets/img/music_placeholder.png",playing:!1,progress:0,progresslbl:"0:00"}},methods:{get:function(t){fetch("http://localhost:1234/api/".concat(t))},volumechange:function(){fetch("http://localhost:1234/api/setVolume",{method:"POST",body:JSON.stringify({value:this.$refs.volume.value})})},zeroPad:function(t,e){return String(t).padStart(e,"0")},progresschange:function(){var t=60*Number(this.durationStr.split(":")[0])+Number(this.durationStr.split(":")[1]),e=this.progress*t/1e3;this.progresslbl="".concat(Math.floor(e/60),":").concat(this.zeroPad(Math.round(e%60),2)),fetch("http://localhost:1234/api/setPos",{method:"POST",body:JSON.stringify({value:e})})},updateData:function(t){var e,n,i,c;if("player.song"==t.path)return this.title=(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.title)||"N/A",this.artist=(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.artist)||"N/A",this.durationStr=(null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.duration)||"N/A",this.cover=(null===t||void 0===t||null===(c=t.data)||void 0===c?void 0:c.cover)||"/assets/img/music_placeholder.png",void(this.progresslbl="0:00");if("player.playState"!=t.path){if("player.posSync"==t.path){var o=(null===t||void 0===t?void 0:t.data)||0;this.progresslbl="".concat(Math.floor(o/60),":").concat(this.zeroPad(Math.round(o%60),2))}}else this.playing=(null===t||void 0===t?void 0:t.data)||!1}}};n("ad6f");const I=d()(T,[["render",A],["__scopeId","data-v-0f3d1486"]]);var M=I,$=(n("a15b"),function(t){return Object(i["D"])("data-v-51f3f4a2"),t=t(),Object(i["B"])(),t}),U={class:"sidebar"},H=$((function(){return Object(i["i"])("h2",null,"reAudioPlayer Online",-1)})),V=$((function(){return Object(i["i"])("br",null,null,-1)})),D=$((function(){return Object(i["i"])("br",null,null,-1)})),E=$((function(){return Object(i["i"])("hr",null,null,-1)})),J={class:"playlistList"};function B(t,e,n,c,o,a){var l=Object(i["I"])("nav-entry"),r=Object(i["I"])("router-link");return Object(i["A"])(),Object(i["h"])("div",U,[H,V,Object(i["l"])(l,{href:"/",icon:"home",name:"Home"}),Object(i["l"])(l,{href:"/search",icon:"search",name:"Search"}),Object(i["l"])(l,{href:"/collection/playlists",icon:"library_music",name:"Your Library"}),D,Object(i["l"])(l,{href:"/playlist/create",icon:"add_circle",name:"Create Playlist"}),Object(i["l"])(l,{href:"/collection/tracks",icon:"favorite",name:"Liked Songs"}),E,Object(i["i"])("div",J,[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.playlists,(function(t,e){return Object(i["A"])(),Object(i["f"])(r,{key:e,to:t.href},{default:Object(i["T"])((function(){return[Object(i["k"])(Object(i["N"])(t.name),1)]})),_:2},1032,["to"])})),128))])])}var F={class:"navEntry"},L={class:"material-icons-round icon"},Q={class:"name"};function R(t,e,n,c,o,a){var l=Object(i["I"])("router-link");return Object(i["A"])(),Object(i["f"])(l,{class:"link",to:n.href},{default:Object(i["T"])((function(){return[Object(i["i"])("div",F,[Object(i["i"])("span",L,Object(i["N"])(n.icon),1),Object(i["i"])("span",Q,Object(i["N"])(n.name),1)])]})),_:1},8,["to"])}var G={name:"NavEntry",props:{icon:String,name:String,href:String}};n("1b93");const Y=d()(G,[["render",R],["__scopeId","data-v-293d8dd9"]]);var z=Y,W={name:"Sidebar",components:{NavEntry:z},data:function(){var t=this;return fetch("http://localhost:1234/api/playlists").then((function(t){return t.json()})).then((function(e){for(var n=0;n<e.length;n++)t.playlists.push({name:e[n],href:"/playlist/".concat(n)})})),{playlists:[]}}};n("c15e");const q=d()(W,[["render",B],["__scopeId","data-v-51f3f4a2"]]);var X=q,K=(n("1a57"),{name:"App",components:{Sidebar:X,Body:p,Player:M}});n("5717"),n("0f93");const Z=d()(K,[["render",a]]);var tt=Z,et=n("50c9"),nt=n("5e83"),it=n("5211"),ct={class:"home"};function ot(t,e,n,c,o,a){return Object(i["A"])(),Object(i["h"])("div",ct," Home ")}var at={name:"Home"};const lt=d()(at,[["render",ot]]);var rt=lt,st=function(t){return Object(i["D"])("data-v-1611bcb5"),t=t(),Object(i["B"])(),t},ut={class:"playlist"},dt=Object(i["k"])("Playlist"),ft=st((function(){return Object(i["i"])("hr",null,null,-1)})),pt={class:"padding-20"},bt={class:"grid"},ht=st((function(){return Object(i["i"])("hr",null,null,-1)})),Ot={class:"playlistEntries"};function jt(t,e,n,c,o,a){var l=Object(i["I"])("AddSong"),r=Object(i["I"])("EditPlaylist"),s=Object(i["I"])("fixed-playlist-header"),u=Object(i["I"])("h7"),d=Object(i["I"])("grid-header"),f=Object(i["I"])("playlist-entry"),p=Object(i["J"])("observe-visibility");return Object(i["A"])(),Object(i["h"])("div",ut,[Object(i["l"])(l,{onClose:a.updatePlaylist,ref:"addSongPopup"},null,8,["onClose"]),Object(i["l"])(r,{onClose:a.updatePlaylist,playlistName:o.playlistName,playlistDescription:o.playlistDescription,ref:"editPlaylistPopup"},null,8,["onClose","playlistName","playlistDescription"]),Object(i["l"])(s,{onClick:a.loadPlaylist,ref:"fixedHeading",class:Object(i["u"])({hidden:o.fixedHeaderHidden}),title:o.playlistName},null,8,["onClick","class","title"]),Object(i["U"])((Object(i["A"])(),Object(i["h"])("div",{class:"padding-20 playlisteditor",onClick:e[0]||(e[0]=function(){return a.editPlaylist&&a.editPlaylist.apply(a,arguments)})},[Object(i["l"])(u,null,{default:Object(i["T"])((function(){return[dt]})),_:1}),Object(i["i"])("h1",null,Object(i["N"])(o.playlistName),1),Object(i["i"])("h5",null,Object(i["N"])(o.playlistDescription),1)])),[[p,a.headerVisibilityChanged]]),ft,Object(i["i"])("div",pt,[Object(i["i"])("span",{id:"loadPlaylist",onClick:e[1]||(e[1]=function(){return a.loadPlaylist&&a.loadPlaylist.apply(a,arguments)}),class:"material-icons-outlined"},"play_circle_filled"),Object(i["i"])("span",{id:"addToPlaylist",onClick:e[2]||(e[2]=function(){return a.addToPlaylist&&a.addToPlaylist.apply(a,arguments)}),class:"material-icons-outlined"},"add_circle"),Object(i["i"])("div",bt,[Object(i["l"])(d),ht,Object(i["i"])("div",Ot,[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.playlist,(function(t,e){return Object(i["A"])(),Object(i["f"])(f,{key:e,index:e,source:t.source,playing:t.playing,id:t.id,title:t.title,album:t.album,artist:t.artist,cover:t.cover,favourite:t.favourite,duration:t.duration},null,8,["index","source","playing","id","title","album","artist","cover","favourite","duration"])})),128))])])])])}var vt=n("1494"),mt=(n("4228"),n("526b"),{class:"fixedPlaylistHeader"}),yt={class:"upperWrapper"};function gt(t,e,n,c,o,a){var l=this,r=Object(i["I"])("grid-header");return Object(i["A"])(),Object(i["h"])("div",mt,[Object(i["i"])("div",yt,[Object(i["i"])("span",{id:"loadPlaylist",onClick:e[0]||(e[0]=function(t){return l.$emit("click")}),class:"material-icons-outlined"},"play_circle_filled"),Object(i["i"])("h3",null,Object(i["N"])(n.title),1)]),Object(i["l"])(r,{class:"padding-20"})])}var St=function(t){return Object(i["D"])("data-v-e629699e"),t=t(),Object(i["B"])(),t},kt={class:"gridHeader"},wt=St((function(){return Object(i["i"])("span",{class:"id"},"#",-1)})),xt=St((function(){return Object(i["i"])("span",{class:"title"},"Title",-1)})),Pt=St((function(){return Object(i["i"])("span",{class:"album"},"Album",-1)})),Ct=St((function(){return Object(i["i"])("span",{class:"clock material-icons-round"},"schedule",-1)})),Nt=[wt,xt,Pt,Ct];function _t(t,e,n,c,o,a){return Object(i["A"])(),Object(i["h"])("div",kt,Nt)}var At={name:"GridHeader"};n("466a");const Tt=d()(At,[["render",_t],["__scopeId","data-v-e629699e"]]);var It=Tt,Mt={name:"FixedPlaylistHeader",components:{GridHeader:It},props:{title:String}};n("8e7f");const $t=d()(Mt,[["render",gt],["__scopeId","data-v-2c045561"]]);var Ut=$t,Ht={class:"track"},Vt=["src"],Dt={class:"trackwrapper"},Et={class:"duration"};function Jt(t,e,n,c,o,a){var l=Object(i["I"])("EditSong"),r=Object(i["I"])("SongCtx");return Object(i["A"])(),Object(i["f"])(r,{onRemove:a.remove,onUpdate:a.update,onLike:e[7]||(e[7]=function(t){return o.favourited=!o.favourited}),liked:o.favourited,ref:"ctxMenu"},{default:Object(i["T"])((function(){return[Object(i["l"])(l,{onClose:t.updatePlaylist,ref:"editSongPopup",cover:n.cover,id:n.id,title:n.title,album:n.album,artist:n.artist,source:n.source},null,8,["onClose","cover","id","title","album","artist","source"]),Object(i["i"])("div",{onDblclick:e[3]||(e[3]=function(){a.playAt(),a.onselect()}),onClick:e[4]||(e[4]=function(){return a.onselect&&a.onselect.apply(a,arguments)}),onMouseover:e[5]||(e[5]=function(){return a.displayPlay&&a.displayPlay.apply(a,arguments)}),onMouseleave:e[6]||(e[6]=function(){return a.displayId&&a.displayId.apply(a,arguments)}),class:Object(i["u"])(["playlistEntry",{selected:o.highlighted}])},[Object(i["i"])("span",{onClick:e[0]||(e[0]=function(){return a.playAt&&a.playAt.apply(a,arguments)}),ref:"idOrPlay",class:Object(i["u"])([{playing:n.playing},"id"])},Object(i["N"])(n.index+1),3),Object(i["i"])("div",Ht,[Object(i["i"])("img",{src:n.cover||"/assets/img/music_placeholder.png"},null,8,Vt),Object(i["i"])("div",Dt,[Object(i["i"])("span",{class:Object(i["u"])(["title",{playing:n.playing}])},Object(i["N"])(n.title),3),Object(i["i"])("span",{class:Object(i["u"])(["artist",{playing:n.playing}])},Object(i["N"])(n.artist),3)])]),Object(i["i"])("span",{class:Object(i["u"])(["album",{playing:n.playing}])},Object(i["N"])(n.album),3),Object(i["i"])("span",{onClick:e[1]||(e[1]=function(t){return o.favourited=!o.favourited}),class:Object(i["u"])(["favourite material-icons-round",{showfavourite:o.favourited||o.highlighted}])},Object(i["N"])(o.favourited?"favorite":"favorite_border"),3),Object(i["i"])("span",Et,Object(i["N"])(n.duration),1),Object(i["i"])("span",{onClick:e[2]||(e[2]=function(){return a.showCtxMenu&&a.showCtxMenu.apply(a,arguments)}),class:Object(i["u"])(["more material-icons-round",{hidden:!o.highlighted}])},"more_horiz",2)],34)]})),_:1},8,["onRemove","onUpdate","liked"])}var Bt={ref:"box"},Ft=Object(i["k"])("Remove from this playlist"),Lt=Object(i["k"])("Add to playlist"),Qt=Object(i["k"])("Update Metadata"),Rt=Object(i["k"])("Share");function Gt(t,e,n,c,o,a){var l=Object(i["I"])("v-contextmenu-item"),r=Object(i["I"])("v-contextmenu-divider"),s=Object(i["I"])("v-contextmenu"),u=Object(i["J"])("contextmenu");return Object(i["U"])((Object(i["A"])(),Object(i["h"])("div",Bt,[Object(i["H"])(t.$slots,"default"),Object(i["l"])(s,{ref:"contextmenu"},{default:Object(i["T"])((function(){return[Object(i["l"])(l,{onClick:a.like},{default:Object(i["T"])((function(){return[Object(i["k"])(Object(i["N"])((n.liked?"Remove from":"Save to")+" your Liked Songs"),1)]})),_:1},8,["onClick"]),Object(i["l"])(l,{onClick:a.remove},{default:Object(i["T"])((function(){return[Ft]})),_:1},8,["onClick"]),Object(i["l"])(l,{onClick:a.addto},{default:Object(i["T"])((function(){return[Lt]})),_:1},8,["onClick"]),Object(i["l"])(r),Object(i["l"])(l,{onClick:a.update},{default:Object(i["T"])((function(){return[Qt]})),_:1},8,["onClick"]),Object(i["l"])(r),Object(i["l"])(l,{onClick:a.share},{default:Object(i["T"])((function(){return[Rt]})),_:1},8,["onClick"])]})),_:1},512)])),[[u,void 0,"contextmenu"]])}var Yt={name:"SongCtx",props:{liked:Boolean},methods:{hide:function(){this.$refs.contextmenu.hide()},show:function(t){var e=this.$refs.box.getBoundingClientRect(),n={top:e.height+e.top+window.scrollY,left:e.width+e.left+window.scrollX};this.$refs.contextmenu.show(n),null===t||void 0===t||t.stopPropagation()},like:function(){this.$emit("like")},remove:function(){this.$emit("remove")},addto:function(){this.$emit("addto")},share:function(){this.$emit("share")},update:function(){this.$emit("update")}}};const zt=d()(Yt,[["render",Gt]]);var Wt=zt,qt=function(t){return Object(i["D"])("data-v-236c881e"),t=t(),Object(i["B"])(),t},Xt={class:"wrapper"},Kt={class:"header"},Zt=qt((function(){return Object(i["i"])("h3",null,"Edit song",-1)})),te=qt((function(){return Object(i["i"])("span",{class:"material-icons-round"}," close ",-1)})),ee=[te],ne=qt((function(){return Object(i["i"])("h4",null,"Source",-1)})),ie={class:"content"},ce=qt((function(){return Object(i["i"])("h4",null,"Title",-1)})),oe={class:"content"},ae=qt((function(){return Object(i["i"])("h4",null,"Album",-1)})),le={class:"content"},re=qt((function(){return Object(i["i"])("h4",null,"Artist",-1)})),se={class:"content"},ue=qt((function(){return Object(i["i"])("h4",null,"Cover",-1)})),de={class:"content"},fe=["src"],pe={class:"confirm"};function be(t,e,n,c,o,a){var l=Object(i["I"])("FindSources"),r=Object(i["I"])("vue-final-modal");return Object(i["A"])(),Object(i["h"])("div",null,[Object(i["l"])(r,{onClick:a.hideFindSourcesCtx,modelValue:o.showModal,"onUpdate:modelValue":e[10]||(e[10]=function(t){return o.showModal=t}),classes:"modal-container","content-class":"modal-content"},{default:Object(i["T"])((function(){return[Object(i["i"])("div",Xt,[Object(i["i"])("div",Kt,[Zt,Object(i["i"])("button",{class:"modal-close",onClick:e[0]||(e[0]=function(t){return o.showModal=!1})},ee)]),ne,Object(i["l"])(l,{ref:"findSourcesEdit",title:n.title,artist:n.artist},{default:Object(i["T"])((function(){return[Object(i["i"])("div",ie,[Object(i["U"])(Object(i["i"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return o.dSource=t}),onChange:e[2]||(e[2]=function(){return a.loadMetadata&&a.loadMetadata.apply(a,arguments)}),type:"text",ref:"source"},null,544),[[i["Q"],o.dSource]]),Object(i["i"])("span",{class:"material-icons-round more",ref:"sourceMore",onClick:e[3]||(e[3]=function(){return a.opencontextmenu&&a.opencontextmenu.apply(a,arguments)})},"more_vert",512)])]})),_:1},8,["title","artist"]),ce,Object(i["i"])("div",oe,[Object(i["U"])(Object(i["i"])("input",{"onUpdate:modelValue":e[4]||(e[4]=function(t){return o.dTitle=t}),type:"text"},null,512),[[i["Q"],o.dTitle]])]),ae,Object(i["i"])("div",le,[Object(i["U"])(Object(i["i"])("input",{"onUpdate:modelValue":e[5]||(e[5]=function(t){return o.dAlbum=t}),type:"text",ref:"album"},null,512),[[i["Q"],o.dAlbum]])]),re,Object(i["i"])("div",se,[Object(i["U"])(Object(i["i"])("input",{"onUpdate:modelValue":e[6]||(e[6]=function(t){return o.dArtist=t}),type:"text"},null,512),[[i["Q"],o.dArtist]])]),ue,Object(i["i"])("div",de,[Object(i["U"])(Object(i["i"])("input",{type:"text",class:"addSong cover","onUpdate:modelValue":e[7]||(e[7]=function(t){return o.dCover=t}),ref:"cover"},null,512),[[i["Q"],o.dCover]]),Object(i["i"])("img",{onClick:e[8]||(e[8]=function(){return a.openInNewTab&&a.openInNewTab.apply(a,arguments)}),class:"addSong cover",src:n.cover?n.cover:"/assets/img/music_placeholder.png"},null,8,fe)]),Object(i["i"])("div",pe,[Object(i["i"])("button",{onClick:e[9]||(e[9]=function(){return a.add&&a.add.apply(a,arguments)}),class:"negative"},"Save")])])]})),_:1},8,["onClick","modelValue"])])}n("ed98");var he={ref:"box"},Oe=Object(i["k"])("Soundcloud"),je=Object(i["k"])("Audius"),ve=Object(i["k"])("Youtube Music"),me=Object(i["k"])("Spotify");function ye(t,e,n,c,o,a){var l=Object(i["I"])("v-contextmenu-item"),r=Object(i["I"])("v-contextmenu-submenu"),s=Object(i["I"])("v-contextmenu"),u=Object(i["J"])("contextmenu");return Object(i["U"])((Object(i["A"])(),Object(i["h"])("div",he,[Object(i["H"])(t.$slots,"default"),Object(i["l"])(s,{ref:"contextmenu"},{default:Object(i["T"])((function(){return[Object(i["l"])(r,{title:"Search on"},{default:Object(i["T"])((function(){return[Object(i["l"])(l,{onClick:a.openSoundcloud},{default:Object(i["T"])((function(){return[Oe]})),_:1},8,["onClick"]),Object(i["l"])(l,{onClick:a.openAudius},{default:Object(i["T"])((function(){return[je]})),_:1},8,["onClick"]),Object(i["l"])(l,{onClick:a.openYoutubeMusic},{default:Object(i["T"])((function(){return[ve]})),_:1},8,["onClick"]),Object(i["l"])(l,{onClick:a.openSpotify},{default:Object(i["T"])((function(){return[me]})),_:1},8,["onClick"])]})),_:1})]})),_:1},512)])),[[u,void 0,"contextmenu"]])}var ge={name:"FindSources",props:{artist:String,title:String},methods:{hide:function(){this.$refs.contextmenu.hide()},show:function(t){var e=this.$refs.box.getBoundingClientRect(),n={top:e.height+e.top+window.scrollY,left:e.width+e.left+window.scrollX};this.$refs.contextmenu.show(n),null===t||void 0===t||t.stopPropagation()},openSoundcloud:function(){window.open("https://soundcloud.com/search?q=".concat(this.artist," ").concat(this.title))},openAudius:function(){window.open("https://audius.co/search/".concat(this.artist," ").concat(this.title))},openYoutubeMusic:function(){window.open("https://music.youtube.com/search?q=".concat(this.artist," ").concat(this.title))},openSpotify:function(){window.open("https://open.spotify.com/search/".concat(this.artist," ").concat(this.title))}}};const Se=d()(ge,[["render",ye]]);var ke=Se,we={name:"EditSong",components:{FindSources:ke},props:{cover:String,album:String,artist:String,source:String,title:String,id:Number},data:function(){return{showModal:!1,dCover:this.cover,dAlbum:this.album,dArtist:this.artist,dTitle:this.title,dSource:this.source}},methods:{opencontextmenu:function(t){this.$refs.findSourcesEdit.show(t)},hideFindSourcesCtx:function(){this.$refs.findSourcesEdit.hide()},add:function(){var t=this;this.showModal=!1,console.log("fetch"),fetch("http://localhost:1234/api/updateSong",{method:"POST",body:JSON.stringify({id:this.id,source:this.dSource,title:this.dTitle,artist:this.dArtist,album:this.dAlbum,cover:this.dCover})}).then((function(e){console.log(e),t.$emit("close")}))},loadMetadata:function(){var t=this;fetch("http://localhost:1234/api/metadata",{method:"POST",body:JSON.stringify({url:this.$refs.source.value})}).then((function(t){return t.json()})).then((function(e){console.log(e),t.dTitle=e.title,t.dAlbum=e.album,t.dArtist=e.artists.join(", "),t.dCover=e.cover,t.dSource=e.src}))},openInNewTab:function(){window.open(this.cover?this.cover:"/assets/img/music_placeholder.png")}},watch:{id:function(){this.dCover=this.cover,this.dAlbum=this.album,this.dArtist=this.artist,this.dTitle=this.title,this.dSource=this.source}}};n("30d3"),n("02cf");const xe=d()(we,[["render",be],["__scopeId","data-v-236c881e"]]);var Pe=xe,Ce={name:"PlaylistEntry",components:{SongCtx:Wt,EditSong:Pe},props:{index:Number,id:Number,source:String,artist:{type:String,default:"N/A"},cover:{type:String,default:"/assets/img/music_placeholder.png"},title:{type:String,default:"N/A"},album:{type:String,default:"N/A"},duration:{type:String,default:"N/A"},favourite:{type:Boolean,default:!1},playing:{type:Boolean,default:!1}},data:function(){return{highlighted:!1,favourited:this.favourite}},methods:{remove:function(){fetch("http://localhost:1234/api/remove",{method:"POST",body:JSON.stringify({playlistId:Number(this.$route.params.id),songId:this.id})})},update:function(){this.$refs.editSongPopup.showModal=!0},hideCtxMenu:function(){this.$refs.ctxMenu.hide()},showCtxMenu:function(t){console.log("show"),this.$refs.ctxMenu.show(t)},onselect:function(){this.highlighted=!this.highlighted,this.hideCtxMenu()},displayPlay:function(){var t=this.$refs.idOrPlay;t.innerHTML="play_arrow",t.classList.add("material-icons-round")},displayId:function(){var t=this.$refs.idOrPlay;t.innerHTML=this.index+1,t.classList.remove("material-icons-round")},playAt:function(){fetch("http://localhost:1234/api/at",{method:"POST",body:JSON.stringify({index:this.index})})},setFavourite:function(){fetch("http://localhost:1234/api/updateSong",{method:"POST",body:JSON.stringify({id:this.id,favourite:this.favourited,album:this.album,artist:this.artist,title:this.title,duration:this.duration,cover:this.cover,source:this.source})})}},watch:{favourited:function(){this.setFavourite()},favourite:function(){console.log("mounted",this.title,this.favourite,this.favourited),this.favourited=this.favourite,this.highlighted=!1}}};n("33b0");const Ne=d()(Ce,[["render",Jt],["__scopeId","data-v-5bfef609"]]);var _e=Ne,Ae=function(t){return Object(i["D"])("data-v-54f3bc5a"),t=t(),Object(i["B"])(),t},Te={class:"wrapper"},Ie={class:"header"},Me=Ae((function(){return Object(i["i"])("h3",null,"Add song",-1)})),$e=Ae((function(){return Object(i["i"])("span",{class:"material-icons-round"}," close ",-1)})),Ue=[$e],He=Ae((function(){return Object(i["i"])("h4",null,"Source",-1)})),Ve={class:"content"},De=Ae((function(){return Object(i["i"])("h4",null,"Title",-1)})),Ee={class:"content"},Je=Ae((function(){return Object(i["i"])("h4",null,"Album",-1)})),Be={class:"content"},Fe={type:"text",ref:"album"},Le=Ae((function(){return Object(i["i"])("h4",null,"Artist",-1)})),Qe={class:"content"},Re=Ae((function(){return Object(i["i"])("h4",null,"Cover",-1)})),Ge={class:"content"},Ye=["src"],ze={class:"confirm"};function We(t,e,n,c,o,a){var l=Object(i["I"])("FindSources"),r=Object(i["I"])("vue-final-modal");return Object(i["A"])(),Object(i["h"])("div",null,[Object(i["l"])(r,{onClick:a.hideFindSourcesCtx,modelValue:o.showModal,"onUpdate:modelValue":e[8]||(e[8]=function(t){return o.showModal=t}),classes:"modal-container","content-class":"modal-content"},{default:Object(i["T"])((function(){return[Object(i["i"])("div",Te,[Object(i["i"])("div",Ie,[Me,Object(i["i"])("button",{class:"modal-close",onClick:e[0]||(e[0]=function(t){return o.showModal=!1})},Ue)]),He,Object(i["l"])(l,{ref:"findSources",title:o.title,artist:o.artist},{default:Object(i["T"])((function(){return[Object(i["i"])("div",Ve,[Object(i["i"])("input",{onChange:e[1]||(e[1]=function(){return a.loadMetadata&&a.loadMetadata.apply(a,arguments)}),type:"text",ref:"source"},null,544),Object(i["i"])("span",{class:"material-icons-round more",ref:"sourceMore",onClick:e[2]||(e[2]=function(){return a.opencontextmenu&&a.opencontextmenu.apply(a,arguments)})},"more_vert",512)])]})),_:1},8,["title","artist"]),De,Object(i["i"])("div",Ee,[Object(i["U"])(Object(i["i"])("input",{"onUpdate:modelValue":e[3]||(e[3]=function(t){return o.title=t}),type:"text"},null,512),[[i["Q"],o.title]])]),Je,Object(i["i"])("div",Be,[Object(i["i"])("input",Fe,null,512)]),Le,Object(i["i"])("div",Qe,[Object(i["U"])(Object(i["i"])("input",{"onUpdate:modelValue":e[4]||(e[4]=function(t){return o.artist=t}),type:"text"},null,512),[[i["Q"],o.artist]])]),Re,Object(i["i"])("div",Ge,[Object(i["U"])(Object(i["i"])("input",{type:"text",class:"addSong cover","onUpdate:modelValue":e[5]||(e[5]=function(t){return o.cover=t}),ref:"cover"},null,512),[[i["Q"],o.cover]]),Object(i["i"])("img",{onClick:e[6]||(e[6]=function(){return a.openInNewTab&&a.openInNewTab.apply(a,arguments)}),class:"addSong cover",src:o.cover?o.cover:"/assets/img/music_placeholder.png"},null,8,Ye)]),Object(i["i"])("div",ze,[Object(i["i"])("button",{onClick:e[7]||(e[7]=function(){return a.add&&a.add.apply(a,arguments)}),class:"negative"},"Add")])])]})),_:1},8,["onClick","modelValue"])])}var qe={name:"AddSong",components:{FindSources:ke},data:function(){return{showModal:!1,cover:"",artist:"",title:""}},methods:{opencontextmenu:function(t){this.$refs.findSources.show(t)},hideFindSourcesCtx:function(){this.$refs.findSources.hide()},add:function(){var t=this;this.showModal=!1,console.log("fetch"),fetch("http://localhost:1234/api/add",{method:"POST",body:JSON.stringify({id:Number(this.$route.params.id),source:this.$refs.source.value,title:this.title,artist:this.artist,album:this.$refs.album.value,cover:this.cover})}).then((function(e){console.log(e),t.$emit("close")}))},loadMetadata:function(){var t=this;fetch("http://localhost:1234/api/metadata",{method:"POST",body:JSON.stringify({url:this.$refs.source.value})}).then((function(t){return t.json()})).then((function(e){console.log(e),t.title=e.title,t.$refs.album.value=e.album,t.artist=e.artists.join(", "),t.cover=e.cover,t.$refs.source.value=e.src}))},openInNewTab:function(){window.open(this.cover?this.cover:"/assets/img/music_placeholder.png")}}};n("2221"),n("5ad5");const Xe=d()(qe,[["render",We],["__scopeId","data-v-54f3bc5a"]]);var Ke=Xe,Ze=function(t){return Object(i["D"])("data-v-7da48c58"),t=t(),Object(i["B"])(),t},tn={class:"wrapper"},en={class:"header"},nn=Ze((function(){return Object(i["i"])("h3",null,"Edit details",-1)})),cn=Ze((function(){return Object(i["i"])("span",{class:"material-icons-round"}," close ",-1)})),on=[cn],an=Ze((function(){return Object(i["i"])("h4",null,"Name",-1)})),ln={class:"content"},rn=Ze((function(){return Object(i["i"])("h4",null,"Description",-1)})),sn={class:"content"},un={class:"confirm"};function dn(t,e,n,c,o,a){var l=Object(i["I"])("vue-final-modal");return Object(i["A"])(),Object(i["h"])("div",null,[Object(i["l"])(l,{modelValue:o.showModal,"onUpdate:modelValue":e[4]||(e[4]=function(t){return o.showModal=t}),classes:"modal-container","content-class":"modal-content"},{default:Object(i["T"])((function(){return[Object(i["i"])("div",tn,[Object(i["i"])("div",en,[nn,Object(i["i"])("button",{class:"modal-close",onClick:e[0]||(e[0]=function(t){return o.showModal=!1})},on)]),an,Object(i["i"])("div",ln,[Object(i["U"])(Object(i["i"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return o.name=t}),type:"text",ref:"name"},null,512),[[i["Q"],o.name]])]),rn,Object(i["i"])("div",sn,[Object(i["U"])(Object(i["i"])("input",{"onUpdate:modelValue":e[2]||(e[2]=function(t){return o.description=t}),type:"text",ref:"description"},null,512),[[i["Q"],o.description]])]),Object(i["i"])("div",un,[Object(i["i"])("button",{onClick:e[3]||(e[3]=function(){return a.apply&&a.apply.apply(a,arguments)}),class:"negative"},"Save")])])]})),_:1},8,["modelValue"])])}var fn={name:"EditPlaylist",props:{playlistName:String,playlistDescription:String},data:function(){return{showModal:!1,cover:"",name:this.playlistName,description:this.playlistDescription}},methods:{apply:function(){var t=this;this.showModal=!1,console.log("fetch"),fetch("http://localhost:1234/api/updatePlaylist",{method:"POST",body:JSON.stringify({id:Number(this.$route.params.id),name:this.name,description:this.description})}).then((function(e){console.log(e),t.$emit("close")}))}},watch:{playlistName:function(){this.name=this.playlistName},playlistDescription:function(){this.description=this.playlistDescription}}};n("4a4a"),n("b357");const pn=d()(fn,[["render",dn],["__scopeId","data-v-7da48c58"]]);var bn=pn,hn={components:{PlaylistEntry:_e,FixedPlaylistHeader:Ut,GridHeader:It,AddSong:Ke,EditPlaylist:bn},name:"Playlist",data:function(){return this.updatePlaylist(),{fixedHeaderHidden:!1,playlist:[],playlistName:"N/A",playlistDescription:""}},methods:{connect:function(){var t=this;console.log("attempting reconnect");var e=new WebSocket("ws://localhost:1234/ws");e.onclose=function(){console.log("ws closed"),setTimeout(this.connect,1e3)},e.onopen=function(){console.log("ws connected")},e.onmessage=function(e){var n=JSON.parse(e.data);t.updateData(n)}},headerVisibilityChanged:function(t){this.fixedHeaderHidden=t},addToPlaylist:function(){this.$refs.addSongPopup.showModal=!0},editPlaylist:function(){this.$refs.editPlaylistPopup.showModal=!0},updateData:function(t){if("player.song"==t.path){var e;console.log(this.playlist.length,t);var n,i=(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.title)||"N/A",c=Object(vt["a"])(this.playlist);try{for(c.s();!(n=c.n()).done;){var o=n.value;o.playing=o.title==i}}catch(a){c.e(a)}finally{c.f()}}},updatePlaylist:function(){var t=this;"create"!=this.$route.params.id?fetch("http://localhost:1234/api/playlist",{method:"POST",body:JSON.stringify({id:Number(this.$route.params.id)})}).then((function(t){return t.json()})).then((function(e){t.playlist=e.songs,t.playlistName=e.name,t.playlistDescription=e.description,console.log(t.playlist),t.connect()})):fetch("http://localhost:1234/api/playlist/create").then((function(t){return t.text()})).then((function(e){console.log(e),t.$router.push(e)}))},loadPlaylist:function(){fetch("http://localhost:1234/api/loadPlaylist",{method:"POST",body:JSON.stringify({id:Number(this.$route.params.id)})})}},watch:{$route:function(){this.updatePlaylist()}}};n("aaa9");const On=d()(hn,[["render",jt],["__scopeId","data-v-1611bcb5"]]);var jn=On,vn={class:"search"};function mn(t,e,n,c,o,a){return Object(i["A"])(),Object(i["h"])("div",vn," Search ")}var yn={name:"Search"};const gn=d()(yn,[["render",mn]]);var Sn=gn,kn={class:"albums"};function wn(t,e,n,c,o,a){return Object(i["A"])(),Object(i["h"])("div",kn," Albums ")}var xn={name:"Albums"};const Pn=d()(xn,[["render",wn]]);var Cn=Pn,Nn={class:"artists"};function _n(t,e,n,c,o,a){return Object(i["A"])(),Object(i["h"])("div",Nn," Home ")}var An={name:"artists"};const Tn=d()(An,[["render",_n]]);var In=Tn,Mn={class:"playlists"};function $n(t,e,n,c,o,a){return Object(i["A"])(),Object(i["h"])("div",Mn," Playlists ")}var Un={name:"Playlists"};const Hn=d()(Un,[["render",$n]]);var Vn=Hn,Dn={class:"releases"};function En(t,e,n,c,o,a){return Object(i["A"])(),Object(i["h"])("div",Dn," Releases ")}var Jn={name:"Releases"};const Bn=d()(Jn,[["render",En]]);var Fn=Bn,Ln=function(t){return Object(i["D"])("data-v-c6efa536"),t=t(),Object(i["B"])(),t},Qn={class:"playlist"},Rn={class:"padding-20"},Gn=Object(i["k"])("Playlist"),Yn=Ln((function(){return Object(i["i"])("h5",null,"My Description",-1)})),zn=Ln((function(){return Object(i["i"])("hr",null,null,-1)})),Wn={class:"padding-20"},qn={class:"grid"},Xn=Ln((function(){return Object(i["i"])("hr",null,null,-1)})),Kn={class:"playlistEntries"};function Zn(t,e,n,c,o,a){var l=Object(i["I"])("AddSong"),r=Object(i["I"])("fixed-playlist-header"),s=Object(i["I"])("h7"),u=Object(i["I"])("grid-header"),d=Object(i["I"])("playlist-entry"),f=Object(i["J"])("observe-visibility");return Object(i["A"])(),Object(i["h"])("div",Qn,[Object(i["l"])(l,{ref:"addSongPopup"},null,512),Object(i["l"])(r,{onClick:t.loadPlaylist,ref:"fixedHeading",class:Object(i["u"])({hidden:o.fixedHeaderHidden}),title:o.playlistName},null,8,["onClick","class","title"]),Object(i["U"])((Object(i["A"])(),Object(i["h"])("div",Rn,[Object(i["l"])(s,null,{default:Object(i["T"])((function(){return[Gn]})),_:1}),Object(i["i"])("h1",null,Object(i["N"])(o.playlistName),1),Yn])),[[f,a.headerVisibilityChanged]]),zn,Object(i["i"])("div",Wn,[Object(i["i"])("span",{id:"loadPlaylist",onClick:e[0]||(e[0]=function(){return t.loadPlaylist&&t.loadPlaylist.apply(t,arguments)}),class:"material-icons-outlined"},"play_circle_filled"),Object(i["i"])("div",qn,[Object(i["l"])(u),Xn,Object(i["i"])("div",Kn,[(Object(i["A"])(!0),Object(i["h"])(i["a"],null,Object(i["G"])(o.playlist,(function(t,e){return Object(i["A"])(),Object(i["f"])(d,{key:e,index:e,id:t.id,title:t.title,album:t.album,artist:t.artist,cover:t.cover,favourite:t.favourite,duration:t.duration},null,8,["index","id","title","album","artist","cover","favourite","duration"])})),128))])])])])}var ti={components:{PlaylistEntry:_e,FixedPlaylistHeader:Ut,GridHeader:It,AddSong:Ke},name:"Tracks",data:function(){return this.updateTracks(),{fixedHeaderHidden:!1,playlist:[],playlistName:"N/A"}},methods:{headerVisibilityChanged:function(t){this.fixedHeaderHidden=t},updateTracks:function(){var t=this;fetch("http://localhost:1234/api/collection/tracks").then((function(t){return t.json()})).then((function(e){t.playlist=e.songs,t.playlistName=e.name,console.log(t.playlist)}))}}};n("03a4");const ei=d()(ti,[["render",Zn],["__scopeId","data-v-c6efa536"]]);var ni=ei,ii=n("6831"),ci=Object(i["e"])(tt);ci.directive("observe-visibility",{beforeMount:function(t,e,n){n.context=e.instance,et["a"].bind(t,e,n)},updated:et["a"].update,unmounted:et["a"].unbind}),ci.use(Object(nt["a"])()),ci.use(ii["a"]);var oi=[{path:"/",component:rt},{path:"/search",component:Sn},{path:"/collection/albums",component:Cn},{path:"/collection/artists",component:In},{path:"/collection/playlists",component:Vn},{path:"/collection/releases",component:Fn},{path:"/collection/tracks",component:ni},{path:"/playlist/:id",component:jn}],ai=Object(it["a"])({history:Object(it["b"])(),routes:oi});ci.use(ai),ci.mount("#app")},c2b6:function(t,e,n){},fa4f:function(t,e,n){},fd9d:function(t,e,n){}});
//# sourceMappingURL=app.97751c76.js.map