(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["bigPlayer~playlist~tracks"],{"06b9":function(e,t,n){"use strict";var o=n("69be"),c={ref:"box"},r=Object(o["createTextVNode"])("Soundcloud"),i=Object(o["createTextVNode"])("Audius"),a=Object(o["createTextVNode"])("Youtube Music"),u=Object(o["createTextVNode"])("Spotify");function l(e,t,n,l,d,s){var f=Object(o["resolveComponent"])("v-contextmenu-item"),b=Object(o["resolveComponent"])("v-contextmenu-submenu"),h=Object(o["resolveComponent"])("v-contextmenu"),p=Object(o["resolveDirective"])("contextmenu");return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[Object(o["renderSlot"])(e.$slots,"default"),Object(o["createVNode"])(h,{ref:"contextmenu"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{title:"Search on"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{onClick:s.openSoundcloud},{default:Object(o["withCtx"])((function(){return[r]})),_:1},8,["onClick"]),Object(o["createVNode"])(f,{onClick:s.openAudius},{default:Object(o["withCtx"])((function(){return[i]})),_:1},8,["onClick"]),Object(o["createVNode"])(f,{onClick:s.openYoutubeMusic},{default:Object(o["withCtx"])((function(){return[a]})),_:1},8,["onClick"]),Object(o["createVNode"])(f,{onClick:s.openSpotify},{default:Object(o["withCtx"])((function(){return[u]})),_:1},8,["onClick"])]})),_:1})]})),_:1},512)])),[[p,void 0,"contextmenu"]])}n("500c");var d={name:"FindSources",props:{artist:String,title:String},methods:{hide:function(){this.$refs.contextmenu.hide()},show:function(e){var t=this.$refs.box.getBoundingClientRect(),n={top:t.height+t.top+window.scrollY,left:t.width+t.left+window.scrollX};this.$refs.contextmenu.show(n),null===e||void 0===e||e.stopPropagation()},openSoundcloud:function(){window.open("https://soundcloud.com/search?q=".concat(this.artist," ").concat(this.title))},openAudius:function(){window.open("https://audius.co/search/".concat(this.artist," ").concat(this.title))},openYoutubeMusic:function(){window.open("https://music.youtube.com/search?q=".concat(this.artist," ").concat(this.title))},openSpotify:function(){window.open("https://open.spotify.com/search/".concat(this.artist," ").concat(this.title))}}},s=n("1c27"),f=n.n(s);const b=f()(d,[["render",l]]);t["a"]=b},"0e37":function(e,t,n){"use strict";var o=n("fcf6"),c=n("edd6"),r=n("23ae"),i=n("9a1e"),a=n("117f"),u=n("572d"),l=n("809c"),d=n("ff59"),s=n("d95e"),f=n("8c1c"),b=n("03b9"),h=n("9be3"),p=n("c30e"),m=n("ab4b"),v=n("4a04"),j=n("9c06"),O=j("replace"),w=Math.max,x=Math.min,C=r([].concat),V=r([].push),N=r("".indexOf),g=r("".slice),k=function(e){return void 0===e?e:String(e)},S=function(){return"$0"==="a".replace(/./,"$0")}(),y=function(){return!!/./[O]&&""===/./[O]("a","$0")}(),E=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));i("replace",(function(e,t,n){var r=y?"$":"$0";return[function(e,n){var o=b(this),r=void 0==e?void 0:p(e,O);return r?c(r,e,o,n):c(t,f(o),e,n)},function(e,c){var i=u(this),a=f(e);if("string"==typeof c&&-1===N(c,r)&&-1===N(c,"$<")){var b=n(t,i,a,c);if(b.done)return b.value}var p=l(c);p||(c=f(c));var j=i.global;if(j){var O=i.unicode;i.lastIndex=0}var S=[];while(1){var y=v(i,a);if(null===y)break;if(V(S,y),!j)break;var E=f(y[0]);""===E&&(i.lastIndex=h(a,s(i.lastIndex),O))}for(var $="",T=0,A=0;A<S.length;A++){y=S[A];for(var _=f(y[0]),M=w(x(d(y.index),a.length),0),B=[],D=1;D<y.length;D++)V(B,k(y[D]));var I=y.groups;if(p){var P=C([_],B,M,a);void 0!==I&&V(P,I);var U=f(o(c,void 0,P))}else U=m(_,a,M,B,I,c);M>=T&&($+=g(a,T,M)+U,T=M+_.length)}return $+g(a,T)}]}),!E||!S||y)},"345d":function(e,t,n){},"5acf":function(e,t,n){"use strict";var o=n("69be"),c=function(e){return Object(o["pushScopeId"])("data-v-5f0209f2"),e=e(),Object(o["popScopeId"])(),e},r={class:"wrapper"},i={class:"header"},a=c((function(){return Object(o["createElementVNode"])("h3",null,"Edit song",-1)})),u=c((function(){return Object(o["createElementVNode"])("span",{class:"material-icons-round"}," close ",-1)})),l=[u],d=c((function(){return Object(o["createElementVNode"])("h4",null,"Source",-1)})),s={class:"content"},f=c((function(){return Object(o["createElementVNode"])("h4",null,"Title",-1)})),b={class:"content"},h=c((function(){return Object(o["createElementVNode"])("h4",null,"Album",-1)})),p={class:"content"},m=c((function(){return Object(o["createElementVNode"])("h4",null,"Artist",-1)})),v={class:"content"},j=c((function(){return Object(o["createElementVNode"])("h4",null,"Cover",-1)})),O={class:"content"},w=["src"],x={class:"confirm"};function C(e,t,n,c,u,C){var V=Object(o["resolveComponent"])("FindSources"),N=Object(o["resolveComponent"])("vue-final-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createVNode"])(N,{onClick:C.hideFindSourcesCtx,modelValue:u.showModal,"onUpdate:modelValue":t[9]||(t[9]=function(e){return u.showModal=e}),classes:"modal-container","content-class":"modal-content"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",r,[Object(o["createElementVNode"])("div",i,[a,Object(o["createElementVNode"])("button",{class:"modal-close",onClick:t[0]||(t[0]=function(e){return u.showModal=!1})},l)]),d,Object(o["createVNode"])(V,{ref:"findSourcesEdit",title:n.title,artist:n.artist},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",s,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return u.dSource=e}),type:"text",ref:"source"},null,512),[[o["vModelText"],u.dSource]]),Object(o["createElementVNode"])("span",{class:"material-icons-round more",ref:"sourceMore",onClick:t[2]||(t[2]=function(){return C.opencontextmenu&&C.opencontextmenu.apply(C,arguments)})},"more_vert",512)])]})),_:1},8,["title","artist"]),f,Object(o["createElementVNode"])("div",b,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return u.dTitle=e}),type:"text"},null,512),[[o["vModelText"],u.dTitle]])]),h,Object(o["createElementVNode"])("div",p,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return u.dAlbum=e}),type:"text",ref:"album"},null,512),[[o["vModelText"],u.dAlbum]])]),m,Object(o["createElementVNode"])("div",v,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return u.dArtist=e}),type:"text"},null,512),[[o["vModelText"],u.dArtist]])]),j,Object(o["createElementVNode"])("div",O,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",class:"addSong cover","onUpdate:modelValue":t[6]||(t[6]=function(e){return u.dCover=e}),ref:"cover"},null,512),[[o["vModelText"],u.dCover]]),Object(o["createElementVNode"])("img",{onClick:t[7]||(t[7]=function(){return C.openInNewTab&&C.openInNewTab.apply(C,arguments)}),class:"addSong cover",src:n.cover?n.cover:"/assets/img/music_placeholder.png"},null,8,w)]),Object(o["createElementVNode"])("div",x,[Object(o["createElementVNode"])("button",{onClick:t[8]||(t[8]=function(){return C.add&&C.add.apply(C,arguments)}),class:"negative"},"Save")])])]})),_:1},8,["onClick","modelValue"])])}n("dfac"),n("3efd"),n("f258"),n("ed98");var V=n("06b9"),N={name:"EditSong",components:{FindSources:V["a"]},props:{cover:String,album:String,artist:String,source:String,title:String,id:Number},data:function(){return{showModal:!1,dCover:this.cover,dAlbum:this.album,dArtist:this.artist,dTitle:this.title,dSource:this.source}},methods:{opencontextmenu:function(e){this.$refs.findSourcesEdit.show(e)},hideFindSourcesCtx:function(){this.$refs.findSourcesEdit.hide()},add:function(){var e=this;this.showModal=!1,console.log("fetch"),fetch("http://localhost:1234/api/updateSong",{method:"POST",body:JSON.stringify({id:this.id,source:this.dSource,title:this.dTitle,artist:this.dArtist,album:this.dAlbum,cover:this.dCover})}).then((function(t){console.log(t),e.$emit("close")}))},loadMetadata:function(){var e=this;fetch("http://localhost:1234/api/metadata",{method:"POST",body:JSON.stringify({url:this.$refs.source.value})}).then((function(e){return e.json()})).then((function(t){console.log(t),e.dTitle=t.title,e.dAlbum=t.album,e.dArtist=t.artists.join(", "),e.dCover=t.cover,e.dSource=t.src}))},openInNewTab:function(){window.open(this.cover?this.cover:"/assets/img/music_placeholder.png")}},watch:{id:function(){this.dCover=this.cover,this.dAlbum=this.album,this.dArtist=this.artist,this.dTitle=this.title,this.dSource=this.source}}},g=(n("a5b6"),n("8bda"),n("1c27")),k=n.n(g);const S=k()(N,[["render",C],["__scopeId","data-v-5f0209f2"]]);t["a"]=S},"8bda":function(e,t,n){"use strict";n("345d")},a279:function(e,t,n){"use strict";var o=n("69be"),c={ref:"box"},r=Object(o["createTextVNode"])("Remove from this playlist"),i=Object(o["createTextVNode"])("Add to new playlist"),a=Object(o["createTextVNode"])("Update Metadata"),u=Object(o["createTextVNode"])("Download");function l(e,t,n,l,d,s){var f=Object(o["resolveComponent"])("v-contextmenu-item"),b=Object(o["resolveComponent"])("v-contextmenu-divider"),h=Object(o["resolveComponent"])("v-contextmenu-submenu"),p=Object(o["resolveComponent"])("v-contextmenu"),m=Object(o["resolveDirective"])("contextmenu");return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[Object(o["renderSlot"])(e.$slots,"default"),Object(o["createVNode"])(p,{ref:"contextmenu"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{onClick:s.like},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])((n.liked?"Remove from":"Save to")+" your Liked Songs"),1)]})),_:1},8,["onClick"]),n.isAutoPlaylist?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:0,onClick:s.remove},{default:Object(o["withCtx"])((function(){return[r]})),_:1},8,["onClick"])),Object(o["createVNode"])(h,{title:"Add to playlist"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{onClick:t[0]||(t[0]=function(){return s.addto("new")})},{default:Object(o["withCtx"])((function(){return[i]})),_:1}),Object(o["createVNode"])(b),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(d.playlists,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:t,onClick:function(){return s.addto(t)}},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e),1)]})),_:2},1032,["onClick"])})),128))]})),_:1}),Object(o["createVNode"])(b),Object(o["createVNode"])(f,{onClick:s.update},{default:Object(o["withCtx"])((function(){return[a]})),_:1},8,["onClick"]),Object(o["createVNode"])(b),Object(o["createVNode"])(f,{onClick:s.download},{default:Object(o["withCtx"])((function(){return[u]})),_:1},8,["onClick"])]})),_:1},512)])),[[m,void 0,"contextmenu"]])}var d=n("e599"),s=(n("3efd"),n("dfac"),n("07e6"),n("0e37"),{name:"SongCtx",props:{liked:Boolean,isAutoPlaylist:Boolean},data:function(){var e=this;return fetch("http://localhost:1234/api/playlists").then((function(e){return e.json()})).then((function(t){var n;e.playlists.length=0,(n=e.playlists).push.apply(n,Object(d["a"])(t))})),{playlists:[]}},methods:{hide:function(){this.$refs.contextmenu.hide()},show:function(e){var t=this.$refs.box.getBoundingClientRect(),n={top:t.height+t.top+window.scrollY,left:t.width+t.left+window.scrollX};this.$refs.contextmenu.show(n),null===e||void 0===e||e.stopPropagation()},like:function(){this.$emit("like")},remove:function(){this.$emit("remove")},addto:function(e){var t=this;"new"!==e?this.$emit("addto",e):fetch("http://localhost:1234/api/playlist/create").then((function(e){return e.text()})).then((function(e){t.$emit("addto",Number(e.replace("/playlist/","")))}))},download:function(){this.$emit("download")},update:function(){this.$emit("update")}}}),f=n("1c27"),b=n.n(f);const h=b()(s,[["render",l]]);t["a"]=h},a5b6:function(e,t,n){"use strict";n("f031")},ab4b:function(e,t,n){var o=n("23ae"),c=n("2841"),r=Math.floor,i=o("".charAt),a=o("".replace),u=o("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,d=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,o,s,f){var b=n+e.length,h=o.length,p=d;return void 0!==s&&(s=c(s),p=l),a(f,p,(function(c,a){var l;switch(i(a,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,n);case"'":return u(t,b);case"<":l=s[u(a,1,-1)];break;default:var d=+a;if(0===d)return c;if(d>h){var f=r(d/10);return 0===f?c:f<=h?void 0===o[f-1]?i(a,1):o[f-1]+i(a,1):c}l=o[d-1]}return void 0===l?"":l}))}},c0b8:function(e,t,n){"use strict";var o=n("117f");e.exports=function(e,t){var n=[][e];return!!n&&o((function(){n.call(null,t||function(){throw 1},1)}))}},e599:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n("73c1");function c(e){if(Array.isArray(e))return Object(o["a"])(e)}n("4228"),n("526b"),n("3efd"),n("5b8c"),n("2670"),n("324c"),n("5eca");function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var i=n("4e3d");function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){return c(e)||r(e)||Object(i["a"])(e)||a()}},ed98:function(e,t,n){"use strict";var o=n("e6df"),c=n("23ae"),r=n("00d8"),i=n("4deb"),a=n("c0b8"),u=c([].join),l=r!=Object,d=a("join",",");o({target:"Array",proto:!0,forced:l||!d},{join:function(e){return u(i(this),void 0===e?",":e)}})},f031:function(e,t,n){}}]);
//# sourceMappingURL=bigPlayer~playlist~tracks.2f203044.js.map